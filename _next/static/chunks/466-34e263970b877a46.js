(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{3914:function(e,t,n){"use strict";n.d(t,{b:function(){return rR}});var i,o,s,a,u,c,f,p,g,y,v,m,_,b,S,w,C,E,I,T,O,k,P,R,N,x,U,D,B,F,j,M,L,V,q,K,H,W,G,J,Y,Q,$,Z,X,ee,et,er,en=n(5949),ei=n(3956),eo=n(1422);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var es="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function getLocation(e,t){for(var n,i=/\r\n|[\n\r]/g,o=1,s=t+1;(n=i.exec(e.body))&&n.index<t;)o+=1,s=t+1-(n.index+n[0].length);return{line:o,column:s}}function printSourceLocation(e,t){var n=e.locationOffset.column-1,i=whitespace(n)+e.body,o=t.line-1,s=e.locationOffset.line-1,a=t.line+s,u=1===t.line?n:0,c=t.column+u,f="".concat(e.name,":").concat(a,":").concat(c,"\n"),p=i.split(/\r\n|[\n\r]/g),g=p[o];if(g.length>120){for(var y=Math.floor(c/80),v=c%80,m=[],_=0;_<g.length;_+=80)m.push(g.slice(_,_+80));return f+printPrefixedLines([["".concat(a),m[0]]].concat(m.slice(1,y+1).map(function(e){return["",e]}),[[" ",whitespace(v-1)+"^"],["",m[y+1]]]))}return f+printPrefixedLines([["".concat(a-1),p[o-1]],["".concat(a),g],["",whitespace(c-1)+"^"],["".concat(a+1),p[o+1]]])}function printPrefixedLines(e){var t=e.filter(function(e){return e[0],void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t=e[0],i=e[1];return whitespace(n-t.length)+t+(i?" | "+i:" |")}).join("\n")}function whitespace(e){return Array(e+1).join(" ")}function GraphQLError_typeof(e){return(GraphQLError_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _possibleConstructorReturn(e,t){return t&&("object"===GraphQLError_typeof(t)||"function"==typeof t)?t:_assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(o,n.prototype),o}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(GraphQLError,e);var t,n,i,o=(t=_isNativeReflectConstruct(),function(){var e,n=_getPrototypeOf(GraphQLError);if(t){var i=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)});function GraphQLError(e,t,n,i,s,a,u){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,GraphQLError),(_=o.call(this,e)).name="GraphQLError",_.originalError=null!=a?a:void 0,_.nodes=undefinedIfEmpty(Array.isArray(t)?t:t?[t]:void 0);for(var c,f=[],p=0,g=null!==(b=_.nodes)&&void 0!==b?b:[];p<g.length;p++){var y,v,m,_,b,S=g[p].loc;null!=S&&f.push(S)}f=undefinedIfEmpty(f),_.source=null!=n?n:null===(y=f)||void 0===y?void 0:y[0].source,_.positions=null!=i?i:null===(v=f)||void 0===v?void 0:v.map(function(e){return e.start}),_.locations=i&&n?i.map(function(e){return getLocation(n,e)}):null===(m=f)||void 0===m?void 0:m.map(function(e){return getLocation(e.source,e.start)}),_.path=null!=s?s:void 0;var w=null==a?void 0:a.extensions;return null==u&&"object"==_typeof(c=w)&&null!==c?_.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},w):_.extensions=null!=u?u:{},(Object.defineProperties(_assertThisInitialized(_),{message:{enumerable:!0},locations:{enumerable:null!=_.locations},path:{enumerable:null!=_.path},extensions:{enumerable:null!=_.extensions&&Object.keys(_.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=a&&a.stack)?(Object.defineProperty(_assertThisInitialized(_),"stack",{value:a.stack,writable:!0,configurable:!0}),_possibleConstructorReturn(_)):(Error.captureStackTrace?Error.captureStackTrace(_assertThisInitialized(_),GraphQLError):Object.defineProperty(_assertThisInitialized(_),"stack",{value:Error().stack,writable:!0,configurable:!0}),_)}return n=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var o,s=i[n];s.loc&&(t+="\n\n"+printSourceLocation((o=s.loc).source,getLocation(o.source,o.start)))}else if(e.source&&e.locations)for(var a=0,u=e.locations;a<u.length;a++){var c=u[a];t+="\n\n"+printSourceLocation(e.source,c)}return t}(this)}},{key:es,get:function(){return"Object"}}],_defineProperties(GraphQLError.prototype,n),i&&_defineProperties(GraphQLError,i),GraphQLError}(_wrapNativeSuper(Error));function undefinedIfEmpty(e){return void 0===e||0===e.length?void 0:e}function syntaxError(e,t,n){return new ea("Syntax Error: ".concat(n),void 0,e,[t])}var eu=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),ec="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function defineInspect(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){throw Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,ec&&(e.prototype[ec]=t)}var el=function(){function Location(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return Location.prototype.toJSON=function(){return{start:this.start,end:this.end}},Location}();defineInspect(el);var ef=function(){function Token(e,t,n,i,o,s,a){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=o,this.value=a,this.prev=s,this.next=null}return Token.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},Token}();function isNode(e){return null!=e&&"string"==typeof e.kind}defineInspect(ef);var eh=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function inspect_typeof(e){return(inspect_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function formatValue(e,t){switch(inspect_typeof(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(null===e)return"null";return function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n,i,o=[].concat(t,[e]),s="function"==typeof(n=e[String(ec)])?n:"function"==typeof e.inspect?e.inspect:void 0;if(void 0!==s){var a=s.call(e);if(a!==e)return"string"==typeof a?a:formatValue(a,o)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),i=e.length-n,o=[],s=0;s<n;++s)o.push(formatValue(e[s],t));return 1===i?o.push("... 1 more item"):i>1&&o.push("... ".concat(i," more items")),"["+o.join(", ")+"]"}(e,o);return 0===(i=Object.keys(e)).length?"{}":o.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+i.map(function(t){var n=formatValue(e[t],o);return t+": "+n}).join(", ")+" }"}(e,t);default:return String(e)}}function devAssert(e,t){if(!e)throw Error(t)}function source_defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ed=function(){var e,t;function Source(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||devAssert(0,"Body must be a string. Received: ".concat(formatValue(e,[]),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||devAssert(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(0,"column in locationOffset is 1-indexed and must be positive.")}return e=[{key:es,get:function(){return"Source"}}],source_defineProperties(Source.prototype,e),t&&source_defineProperties(Source,t),Source}(),ep=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function isBlank(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"	"!==e[t])return!1;return!0}var eg=function(){function Lexer(e){var t=new ef(eh.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var e=Lexer.prototype;return e.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},e.lookahead=function(){var e,t=this.token;if(t.kind!==eh.EOF)do t=null!==(e=t.next)&&void 0!==e?e:t.next=function(e,t){for(var n=e.source,i=n.body,o=i.length,s=t.end;s<o;){var a=i.charCodeAt(s),u=e.line,c=1+s-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:10===i.charCodeAt(s+1)?s+=2:++s,++e.line,e.lineStart=s;continue;case 33:return new ef(eh.BANG,s,s+1,u,c,t);case 35:return function(e,t,n,i,o){var s,a=e.body,u=t;do s=a.charCodeAt(++u);while(!isNaN(s)&&(s>31||9===s));return new ef(eh.COMMENT,t,u,n,i,o,a.slice(t+1,u))}(n,s,u,c,t);case 36:return new ef(eh.DOLLAR,s,s+1,u,c,t);case 38:return new ef(eh.AMP,s,s+1,u,c,t);case 40:return new ef(eh.PAREN_L,s,s+1,u,c,t);case 41:return new ef(eh.PAREN_R,s,s+1,u,c,t);case 46:if(46===i.charCodeAt(s+1)&&46===i.charCodeAt(s+2))return new ef(eh.SPREAD,s,s+3,u,c,t);break;case 58:return new ef(eh.COLON,s,s+1,u,c,t);case 61:return new ef(eh.EQUALS,s,s+1,u,c,t);case 64:return new ef(eh.AT,s,s+1,u,c,t);case 91:return new ef(eh.BRACKET_L,s,s+1,u,c,t);case 93:return new ef(eh.BRACKET_R,s,s+1,u,c,t);case 123:return new ef(eh.BRACE_L,s,s+1,u,c,t);case 124:return new ef(eh.PIPE,s,s+1,u,c,t);case 125:return new ef(eh.BRACE_R,s,s+1,u,c,t);case 34:if(34===i.charCodeAt(s+1)&&34===i.charCodeAt(s+2))return function(e,t,n,i,o,s){for(var a=e.body,u=t+3,c=u,f=0,p="";u<a.length&&!isNaN(f=a.charCodeAt(u));){if(34===f&&34===a.charCodeAt(u+1)&&34===a.charCodeAt(u+2))return p+=a.slice(c,u),new ef(eh.BLOCK_STRING,t,u+3,n,i,o,function(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,o=0,s=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,i=!0,o=0;break;case 9:case 32:++o;break;default:i&&!n&&(null===s||o<s)&&(s=o),i=!1}return null!==(t=s)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var o=0;o<t.length&&isBlank(t[o]);)++o;for(var s=t.length;s>o&&isBlank(t[s-1]);)--s;return t.slice(o,s).join("\n")}(p));if(f<32&&9!==f&&10!==f&&13!==f)throw syntaxError(e,u,"Invalid character within String: ".concat(printCharCode(f),"."));10===f?(++u,++s.line,s.lineStart=u):13===f?(10===a.charCodeAt(u+1)?u+=2:++u,++s.line,s.lineStart=u):92===f&&34===a.charCodeAt(u+1)&&34===a.charCodeAt(u+2)&&34===a.charCodeAt(u+3)?(p+=a.slice(c,u)+'"""',u+=4,c=u):++u}throw syntaxError(e,u,"Unterminated string.")}(n,s,u,c,t,e);return function(e,t,n,i,o){for(var s=e.body,a=t+1,u=a,c=0,f="";a<s.length&&!isNaN(c=s.charCodeAt(a))&&10!==c&&13!==c;){if(34===c)return f+=s.slice(u,a),new ef(eh.STRING,t,a+1,n,i,o,f);if(c<32&&9!==c)throw syntaxError(e,a,"Invalid character within String: ".concat(printCharCode(c),"."));if(++a,92===c){switch(f+=s.slice(u,a-1),c=s.charCodeAt(a)){case 34:f+='"';break;case 47:f+="/";break;case 92:f+="\\";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+="\n";break;case 114:f+="\r";break;case 116:f+="	";break;case 117:var p,g,y,v,m=(p=s.charCodeAt(a+1),g=s.charCodeAt(a+2),y=s.charCodeAt(a+3),v=s.charCodeAt(a+4),char2hex(p)<<12|char2hex(g)<<8|char2hex(y)<<4|char2hex(v));if(m<0){var _=s.slice(a+1,a+5);throw syntaxError(e,a,"Invalid character escape sequence: \\u".concat(_,"."))}f+=String.fromCharCode(m),a+=4;break;default:throw syntaxError(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}u=++a}}throw syntaxError(e,a,"Unterminated string.")}(n,s,u,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,i,o,s){var a,u=e.body,c=n,f=t,p=!1;if(45===c&&(c=u.charCodeAt(++f)),48===c){if((c=u.charCodeAt(++f))>=48&&c<=57)throw syntaxError(e,f,"Invalid number, unexpected digit after 0: ".concat(printCharCode(c),"."))}else f=readDigits(e,f,c),c=u.charCodeAt(f);if(46===c&&(p=!0,c=u.charCodeAt(++f),f=readDigits(e,f,c),c=u.charCodeAt(f)),(69===c||101===c)&&(p=!0,(43===(c=u.charCodeAt(++f))||45===c)&&(c=u.charCodeAt(++f)),f=readDigits(e,f,c),c=u.charCodeAt(f)),46===c||95===(a=c)||a>=65&&a<=90||a>=97&&a<=122)throw syntaxError(e,f,"Invalid number, expected digit but got: ".concat(printCharCode(c),"."));return new ef(p?eh.FLOAT:eh.INT,t,f,i,o,s,u.slice(t,f))}(n,s,a,u,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,i,o){for(var s=e.body,a=s.length,u=t+1,c=0;u!==a&&!isNaN(c=s.charCodeAt(u))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++u;return new ef(eh.NAME,t,u,n,i,o,s.slice(t,u))}(n,s,u,c,t)}throw syntaxError(n,s,a<32&&9!==a&&10!==a&&13!==a?"Cannot contain the invalid character ".concat(printCharCode(a),"."):39===a?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(printCharCode(a),"."))}var f=e.line,p=1+s-e.lineStart;return new ef(eh.EOF,o,o,f,p,t)}(this,t);while(t.kind===eh.COMMENT);return t},Lexer}();function printCharCode(e){return isNaN(e)?eh.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function readDigits(e,t,n){var i=e.body,o=t,s=n;if(s>=48&&s<=57){do s=i.charCodeAt(++o);while(s>=48&&s<=57);return o}throw syntaxError(e,o,"Invalid number, expected digit but got: ".concat(printCharCode(s),"."))}function char2hex(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function parse(e,t){return new ey(e,t).parseDocument()}var ey=function(){function Parser(e,t){var n=e instanceof ed?e:new ed(e);this._lexer=new eg(n),this._options=t}var e=Parser.prototype;return e.parseName=function(){var e=this.expectToken(eh.NAME);return{kind:eu.NAME,value:e.value,loc:this.loc(e)}},e.parseDocument=function(){var e=this._lexer.token;return{kind:eu.DOCUMENT,definitions:this.many(eh.SOF,this.parseDefinition,eh.EOF),loc:this.loc(e)}},e.parseDefinition=function(){if(this.peek(eh.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else if(this.peek(eh.BRACE_L))return this.parseOperationDefinition();else if(this.peekDescription())return this.parseTypeSystemDefinition();throw this.unexpected()},e.parseOperationDefinition=function(){var e,t=this._lexer.token;if(this.peek(eh.BRACE_L))return{kind:eu.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var n=this.parseOperationType();return this.peek(eh.NAME)&&(e=this.parseName()),{kind:eu.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseOperationType=function(){var e=this.expectToken(eh.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},e.parseVariableDefinitions=function(){return this.optionalMany(eh.PAREN_L,this.parseVariableDefinition,eh.PAREN_R)},e.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:eu.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(eh.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(eh.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},e.parseVariable=function(){var e=this._lexer.token;return this.expectToken(eh.DOLLAR),{kind:eu.VARIABLE,name:this.parseName(),loc:this.loc(e)}},e.parseSelectionSet=function(){var e=this._lexer.token;return{kind:eu.SELECTION_SET,selections:this.many(eh.BRACE_L,this.parseSelection,eh.BRACE_R),loc:this.loc(e)}},e.parseSelection=function(){return this.peek(eh.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(eh.COLON)?(e=i,t=this.parseName()):t=i,{kind:eu.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(eh.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(eh.PAREN_L,t,eh.PAREN_R)},e.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(eh.COLON),{kind:eu.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},e.parseConstArgument=function(){var e=this._lexer.token;return{kind:eu.ARGUMENT,name:this.parseName(),value:(this.expectToken(eh.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},e.parseFragment=function(){var e=this._lexer.token;this.expectToken(eh.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(eh.NAME)?{kind:eu.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:eu.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},e.parseFragmentDefinition=function(){var e,t=this._lexer.token;return(this.expectKeyword("fragment"),(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)===!0)?{kind:eu.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:eu.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},e.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case eh.BRACKET_L:return this.parseList(e);case eh.BRACE_L:return this.parseObject(e);case eh.INT:return this._lexer.advance(),{kind:eu.INT,value:t.value,loc:this.loc(t)};case eh.FLOAT:return this._lexer.advance(),{kind:eu.FLOAT,value:t.value,loc:this.loc(t)};case eh.STRING:case eh.BLOCK_STRING:return this.parseStringLiteral();case eh.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:eu.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:eu.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:eu.NULL,loc:this.loc(t)};default:return{kind:eu.ENUM,value:t.value,loc:this.loc(t)}}case eh.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},e.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:eu.STRING,value:e.value,block:e.kind===eh.BLOCK_STRING,loc:this.loc(e)}},e.parseList=function(e){var t=this,n=this._lexer.token;return{kind:eu.LIST,values:this.any(eh.BRACKET_L,function(){return t.parseValueLiteral(e)},eh.BRACKET_R),loc:this.loc(n)}},e.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:eu.OBJECT,fields:this.any(eh.BRACE_L,function(){return t.parseObjectField(e)},eh.BRACE_R),loc:this.loc(n)}},e.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(eh.COLON),{kind:eu.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},e.parseDirectives=function(e){for(var t=[];this.peek(eh.AT);)t.push(this.parseDirective(e));return t},e.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(eh.AT),{kind:eu.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},e.parseTypeReference=function(){var e,t=this._lexer.token;return(this.expectOptionalToken(eh.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(eh.BRACKET_R),e={kind:eu.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(eh.BANG))?{kind:eu.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},e.parseNamedType=function(){var e=this._lexer.token;return{kind:eu.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},e.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===eh.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},e.peekDescription=function(){return this.peek(eh.STRING)||this.peek(eh.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(eh.BRACE_L,this.parseOperationTypeDefinition,eh.BRACE_R);return{kind:eu.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},e.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(eh.COLON);var n=this.parseNamedType();return{kind:eu.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},e.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:eu.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},e.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();return{kind:eu.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:o,fields:s,loc:this.loc(e)}},e.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if((null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)===!0){var t=[];this.expectOptionalToken(eh.AMP);do t.push(this.parseNamedType());while(this.expectOptionalToken(eh.AMP)||this.peek(eh.NAME));return t}return this.delimitedMany(eh.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var e;return(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)===!0&&this.peek(eh.BRACE_L)&&this._lexer.lookahead().kind===eh.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(eh.BRACE_L,this.parseFieldDefinition,eh.BRACE_R)},e.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(eh.COLON);var o=this.parseTypeReference(),s=this.parseDirectives(!0);return{kind:eu.FIELD_DEFINITION,description:t,name:n,arguments:i,type:o,directives:s,loc:this.loc(e)}},e.parseArgumentDefs=function(){return this.optionalMany(eh.PAREN_L,this.parseInputValueDef,eh.PAREN_R)},e.parseInputValueDef=function(){var e,t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(eh.COLON);var o=this.parseTypeReference();this.expectOptionalToken(eh.EQUALS)&&(e=this.parseValueLiteral(!0));var s=this.parseDirectives(!0);return{kind:eu.INPUT_VALUE_DEFINITION,description:n,name:i,type:o,defaultValue:e,directives:s,loc:this.loc(t)}},e.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();return{kind:eu.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:o,fields:s,loc:this.loc(e)}},e.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:eu.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:o,loc:this.loc(e)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(eh.EQUALS)?this.delimitedMany(eh.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:eu.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:o,loc:this.loc(e)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(eh.BRACE_L,this.parseEnumValueDefinition,eh.BRACE_R)},e.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:eu.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},e.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:eu.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:o,loc:this.loc(e)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(eh.BRACE_L,this.parseInputValueDef,eh.BRACE_R)},e.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===eh.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},e.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(eh.BRACE_L,this.parseOperationTypeDefinition,eh.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:eu.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},e.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:eu.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},e.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===o.length)throw this.unexpected();return{kind:eu.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:o,loc:this.loc(e)}},e.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===o.length)throw this.unexpected();return{kind:eu.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:o,loc:this.loc(e)}},e.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:eu.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},e.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:eu.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},e.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:eu.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},e.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(eh.AT);var n=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var s=this.parseDirectiveLocations();return{kind:eu.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:o,locations:s,loc:this.loc(e)}},e.parseDirectiveLocations=function(){return this.delimitedMany(eh.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==ep[t.value])return t;throw this.unexpected(e)},e.loc=function(e){var t;if((null===(t=this._options)||void 0===t?void 0:t.noLocation)!==!0)return new el(e,this._lexer.lastToken,this._lexer.source)},e.peek=function(e){return this._lexer.token.kind===e},e.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw syntaxError(this._lexer.source,t.start,"Expected ".concat(getTokenKindDesc(e),", found ").concat(getTokenDesc(t),"."))},e.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},e.expectKeyword=function(e){var t=this._lexer.token;if(t.kind===eh.NAME&&t.value===e)this._lexer.advance();else throw syntaxError(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(getTokenDesc(t),"."))},e.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===eh.NAME&&t.value===e&&(this._lexer.advance(),!0)},e.unexpected=function(e){var t=null!=e?e:this._lexer.token;return syntaxError(this._lexer.source,t.start,"Unexpected ".concat(getTokenDesc(t),"."))},e.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},e.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}return[]},e.many=function(e,t,n){this.expectToken(e);var i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i},e.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n},Parser}();function getTokenDesc(e){var t=e.value;return getTokenKindDesc(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function getTokenKindDesc(e){return e===eh.BANG||e===eh.DOLLAR||e===eh.AMP||e===eh.PAREN_L||e===eh.PAREN_R||e===eh.SPREAD||e===eh.COLON||e===eh.EQUALS||e===eh.AT||e===eh.BRACKET_L||e===eh.BRACKET_R||e===eh.BRACE_L||e===eh.PIPE||e===eh.BRACE_R?'"'.concat(e,'"'):e}var ev={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},em=Object.freeze({});function print(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ev,i=void 0,o=Array.isArray(e),s=[e],a=-1,u=[],c=void 0,f=void 0,p=void 0,g=[],y=[],v=e;do{var m,_=++a===s.length,b=_&&0!==u.length;if(_){if(f=0===y.length?void 0:g[g.length-1],c=p,p=y.pop(),b){if(o)c=c.slice();else{for(var S={},w=0,C=Object.keys(c);w<C.length;w++){var E=C[w];S[E]=c[E]}c=S}for(var I=0,T=0;T<u.length;T++){var O=u[T][0],k=u[T][1];o&&(O-=I),o&&null===k?(c.splice(O,1),I++):c[O]=k}}a=i.index,s=i.keys,u=i.edits,o=i.inArray,i=i.prev}else{if(f=p?o?a:s[a]:void 0,null==(c=p?p[f]:v))continue;p&&g.push(f)}var P=void 0;if(!Array.isArray(c)){if(!isNode(c))throw Error("Invalid AST Node: ".concat(formatValue(c,[]),"."));var R=function(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var o=n?i.leave:i.enter;if("function"==typeof o)return o}else{var s=n?e.leave:e.enter;if(s){if("function"==typeof s)return s;var a=s[t];if("function"==typeof a)return a}}}(t,c.kind,_);if(R){if((P=R.call(t,c,f,p,g,y))===em)break;if(!1===P){if(!_){g.pop();continue}}else if(void 0!==P&&(u.push([f,P]),!_)){if(isNode(P))c=P;else{g.pop();continue}}}}void 0===P&&b&&u.push([f,c]),_?g.pop():(i={inArray:o,index:a,keys:s,edits:u,prev:i},s=(o=Array.isArray(c))?c:null!==(m=n[c.kind])&&void 0!==m?m:[],a=-1,u=[],p&&y.push(p),p=c)}while(void 0!==i);return 0!==u.length&&(v=u[u.length-1][1]),v}(e,{leave:e_})}var e_={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return join(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=wrap("(",join(e.variableDefinitions,", "),")"),o=join(e.directives," "),s=e.selectionSet;return n||o||i||"query"!==t?join([t,join([n,i]),o,s]," "):s},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,o=e.directives;return t+": "+n+wrap(" = ",i)+wrap(" ",join(o," "))},SelectionSet:function(e){return block(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,o=e.directives,s=e.selectionSet,a=wrap("",t,": ")+n,u=a+wrap("(",join(i,", "),")");return u.length>80&&(u=a+wrap("(\n",indent(join(i,"\n")),"\n)")),join([u,join(o," "),s]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+wrap(" ",join(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return join(["...",wrap("on ",t),join(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,o=e.directives,s=e.selectionSet;return"fragment ".concat(t).concat(wrap("(",join(i,", "),")")," ")+"on ".concat(n," ").concat(wrap("",join(o," ")," "))+s},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),o=" "===e[0]||"	"===e[0],s='"'===e[e.length-1],a="\\"===e[e.length-1],u=!i||s||a||n,c="";return u&&!(i&&o)&&(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,u&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+join(e.values,", ")+"]"},ObjectValue:function(e){return"{"+join(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+wrap("(",join(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:addDescription(function(e){var t=e.directives,n=e.operationTypes;return join(["schema",join(t," "),block(n)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:addDescription(function(e){return join(["scalar",e.name,join(e.directives," ")]," ")}),ObjectTypeDefinition:addDescription(function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return join(["type",t,wrap("implements ",join(n," & ")),join(i," "),block(o)]," ")}),FieldDefinition:addDescription(function(e){var t=e.name,n=e.arguments,i=e.type,o=e.directives;return t+(hasMultilineItems(n)?wrap("(\n",indent(join(n,"\n")),"\n)"):wrap("(",join(n,", "),")"))+": "+i+wrap(" ",join(o," "))}),InputValueDefinition:addDescription(function(e){var t=e.name,n=e.type,i=e.defaultValue,o=e.directives;return join([t+": "+n,wrap("= ",i),join(o," ")]," ")}),InterfaceTypeDefinition:addDescription(function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return join(["interface",t,wrap("implements ",join(n," & ")),join(i," "),block(o)]," ")}),UnionTypeDefinition:addDescription(function(e){var t=e.name,n=e.directives,i=e.types;return join(["union",t,join(n," "),i&&0!==i.length?"= "+join(i," | "):""]," ")}),EnumTypeDefinition:addDescription(function(e){var t=e.name,n=e.directives,i=e.values;return join(["enum",t,join(n," "),block(i)]," ")}),EnumValueDefinition:addDescription(function(e){return join([e.name,join(e.directives," ")]," ")}),InputObjectTypeDefinition:addDescription(function(e){var t=e.name,n=e.directives,i=e.fields;return join(["input",t,join(n," "),block(i)]," ")}),DirectiveDefinition:addDescription(function(e){var t=e.name,n=e.arguments,i=e.repeatable,o=e.locations;return"directive @"+t+(hasMultilineItems(n)?wrap("(\n",indent(join(n,"\n")),"\n)"):wrap("(",join(n,", "),")"))+(i?" repeatable":"")+" on "+join(o," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return join(["extend schema",join(t," "),block(n)]," ")},ScalarTypeExtension:function(e){return join(["extend scalar",e.name,join(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return join(["extend type",t,wrap("implements ",join(n," & ")),join(i," "),block(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,o=e.fields;return join(["extend interface",t,wrap("implements ",join(n," & ")),join(i," "),block(o)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return join(["extend union",t,join(n," "),i&&0!==i.length?"= "+join(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return join(["extend enum",t,join(n," "),block(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return join(["extend input",t,join(n," "),block(i)]," ")}};function addDescription(e){return function(t){return join([t.description,e(t)],"\n")}}function join(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter(function(e){return e}).join(n))&&void 0!==t?t:""}function block(e){return wrap("{\n",indent(join(e,"\n")),"\n}")}function wrap(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function indent(e){return wrap("  ",e.replace(/\n/g,"\n  "))}function isMultiline(e){return -1!==e.indexOf("\n")}function hasMultilineItems(e){return null!=e&&e.some(isMultiline)}var eb={},eS=function(){function MemoryStorage(){}return MemoryStorage.setItem=function(e,t){return eb[e]=t,eb[e]},MemoryStorage.getItem=function(e){return Object.prototype.hasOwnProperty.call(eb,e)?eb[e]:void 0},MemoryStorage.removeItem=function(e){return delete eb[e]},MemoryStorage.clear=function(){return eb={}},MemoryStorage}(),ew=function(){function StorageHelper(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=eS}}return StorageHelper.prototype.getStorage=function(){return this.storageWindow},StorageHelper}(),eC=n(9520),makeQuerablePromise=function(e){if(e.isResolved)return e;var t=!0,n=!1,i=!1,o=e.then(function(e){return i=!0,t=!1,e},function(e){throw n=!0,t=!1,e});return o.isFullfilled=function(){return i},o.isPending=function(){return t},o.isRejected=function(){return n},o},isWebWorker=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},browserOrNode=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==eC&&null!=eC.versions&&null!=eC.versions.node}},eA=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),__awaiter=function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},__generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},__spreadArray=function(e,t,n){if(n||2==arguments.length)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},eE=new ei.k("Util"),eI=function(e){function NonRetryableError(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return eA(NonRetryableError,e),NonRetryableError}(Error),isNonRetryableError=function(e){return e&&e.nonRetryable};function jitteredBackoff(e){return void 0===e&&(e=3e5),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var jitteredExponentialRetry=function(e,t,n,i){return void 0===n&&(n=3e5),function(e,t,n,i){return __awaiter(this,void 0,void 0,function(){var o=this;return __generator(this,function(s){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise(function(s,a){return __awaiter(o,void 0,void 0,function(){var o,u,c,f,p,g,y;return __generator(this,function(v){switch(v.label){case 0:o=0,u=!1,f=function(){},i&&i.then(function(){u=!0,clearTimeout(c),f()}),g=function(){var i,g,y,v;return __generator(this,function(m){switch(m.label){case 0:o++,eE.debug("".concat(e.name," attempt #").concat(o," with this vars: ").concat(JSON.stringify(t))),m.label=1;case 1:return m.trys.push([1,3,,7]),i={},g=s,[4,e.apply(void 0,__spreadArray([],__read(t),!1))];case 2:return[2,(i.value=g.apply(void 0,[m.sent()]),i)];case 3:if(p=y=m.sent(),eE.debug("error on ".concat(e.name),y),isNonRetryableError(y))return eE.debug("".concat(e.name," non retryable error"),y),[2,{value:a(y)}];if(v=n(o,t,y),eE.debug("".concat(e.name," retrying in ").concat(v," ms")),!(!1===v||u))return[3,4];return[2,{value:a(y)}];case 4:return[4,new Promise(function(e){c=setTimeout(f=e,v)})];case 5:m.sent(),m.label=6;case 6:return[3,7];case 7:return[2]}})},v.label=1;case 1:if(u)return[3,3];return[5,g()];case 2:if("object"==typeof(y=v.sent()))return[2,y.value];return[3,1];case 3:return a(p),[2]}})})})]})})}(e,t,jitteredBackoff(n),i)},GoogleOAuth_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},eT=new ei.k("CognitoCredentials"),eO=new Promise(function(e,t){return browserOrNode().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(eT.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(eT.debug("not in the browser, directly resolved"),e())}),ek=function(){function GoogleOAuth(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return GoogleOAuth.prototype.refreshGoogleToken=function(){var e,t,n,i;return e=this,t=void 0,n=void 0,i=function(){return GoogleOAuth_generator(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return eT.debug("need to wait for the Google SDK loaded"),[4,eO];case 1:e.sent(),this.initialized=!0,eT.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})},new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},GoogleOAuth.prototype._refreshGoogleTokenImpl=function(){var e=null;return(browserOrNode().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e)?new Promise(function(t,n){e.getAuthInstance().then(function(e){e||(eT.debug("google Auth undefined"),n(new eI("google Auth undefined")));var i=e.currentUser.get();i.isSignedIn()?(eT.debug("refreshing the google access token"),i.reloadAuthResponse().then(function(e){t({token:e.id_token,expires_at:e.expires_at})}).catch(function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new eI("Failed to reload google auth response"))})):n(new eI("User is not signed in with Google"))}).catch(function(e){eT.debug("Failed to refresh google token",e),n(new eI("Failed to refresh google token"))})}):(eT.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},GoogleOAuth}(),FacebookOAuth_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},eP=new ei.k("CognitoCredentials"),eR=new Promise(function(e,t){return browserOrNode().isBrowser?window.FB?(eP.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(eP.debug("not in the browser, directly resolved"),e())}),eN=function(){function FacebookOAuth(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return FacebookOAuth.prototype.refreshFacebookToken=function(){var e,t,n,i;return e=this,t=void 0,n=void 0,i=function(){return FacebookOAuth_generator(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return eP.debug("need to wait for the Facebook SDK loaded"),[4,eR];case 1:e.sent(),this.initialized=!0,eP.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})},new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},FacebookOAuth.prototype._refreshFacebookTokenImpl=function(){var e=null;if(browserOrNode().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return eP.debug(t),Promise.reject(new eI(t))}return new Promise(function(t,n){e.getLoginStatus(function(e){if(e&&e.authResponse){var i=e.authResponse,o=i.accessToken,s=1e3*i.expiresIn+new Date().getTime();if(!o){var a="the jwtToken is undefined";eP.debug(a),n(new eI(a))}t({token:o,expires_at:s})}else{var a="no response from facebook when refreshing the jwt token";eP.debug(a),n(new eI(a))}},{scope:"public_profile,email"})})},FacebookOAuth}(),ex=new ek,eU=new eN,eD={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},eB={partitions:[eD,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},getDnsSuffix=function(e){var t,n,i=eB.partitions;try{for(var o=__values(i),s=o.next();!s.done;s=o.next()){var a=s.value,u=a.regions,c=a.outputs,f=a.regionRegex,p=new RegExp(f);if(u.includes(e)||p.test(e))return c.dnsSuffix}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return eD.outputs.dnsSuffix},__assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},middleware_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},cancellableSleep=function(e,t){if(null==t?void 0:t.aborted)return Promise.resolve();var n,i,o=new Promise(function(t){i=t,n=setTimeout(t,e)});return null==t||t.addEventListener("abort",function cancelSleep(e){clearTimeout(n),null==t||t.removeEventListener("abort",cancelSleep),i()}),o},addOrIncrementMetadataAttempts=function(e,t){var n;"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata=__assign(__assign({},null!==(n=e.$metadata)&&void 0!==n?n:{}),{attempts:t}))},userAgent_middleware_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},composeTransferHandler=function(e,t){return function(n,i){for(var o={},composedHandler=function(t){return e(t,i)},s=t.length-1;s>=0;s--)composedHandler=(0,t[s])(i)(composedHandler,o);return composedHandler(n)}};n(961);var withMemoization=function(e){var t;return function(){return t||(t=e()),t}},fetch_assign=function(){return(fetch_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fetch_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},eF=composeTransferHandler(function(e,t){var n,i,o,s,a=e.url,u=e.method,c=e.headers,f=e.body,p=t.abortSignal;return n=void 0,i=void 0,o=void 0,s=function(){var e,t,n,i,o,s,g;return fetch_generator(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,fetch(a,{method:u,headers:c,body:["HEAD","GET","DELETE"].includes(u.toUpperCase())?void 0:f,signal:p})];case 1:return e=y.sent(),[3,3];case 2:if((t=y.sent())instanceof TypeError)throw Error("Network error");throw t;case 3:return n={},null===(s=e.headers)||void 0===s||s.forEach(function(e,t){n[t.toLowerCase()]=e}),i={statusCode:e.status,headers:n,body:null},o=Object.assign(null!==(g=e.body)&&void 0!==g?g:{},{text:withMemoization(function(){return e.text()}),blob:withMemoization(function(){return e.blob()}),json:withMemoization(function(){return e.json()})}),[2,fetch_assign(fetch_assign({},i),{body:o})]}})},new(o||(o=Promise))(function(e,t){function fulfilled(e){try{step(s.next(e))}catch(e){t(e)}}function rejected(e){try{step(s.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(fulfilled,rejected)}step((s=s.apply(n,i||[])).next())})},[function(e){var t=e.userAgentHeader,n=void 0===t?"x-amz-user-agent":t,i=e.userAgentValue,o=void 0===i?"":i;return function(e){return function(t){var i,s,a,u;return i=this,s=void 0,a=void 0,u=function(){var i;return userAgent_middleware_generator(this,function(s){switch(s.label){case 0:if(0!==o.trim().length)return[3,2];return[4,e(t)];case 1:case 3:return[2,s.sent()];case 2:return i=n.toLowerCase(),t.headers[i]=t.headers[i]?"".concat(t.headers[i]," ").concat(o):o,[4,e(t)]}})},new(a||(a=Promise))(function(e,t){function fulfilled(e){try{step(u.next(e))}catch(e){t(e)}}function rejected(e){try{step(u.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof a?n:new a(function(e){e(n)})).then(fulfilled,rejected)}step((u=u.apply(i,s||[])).next())})}}},function(e){var t=e.maxAttempts,n=void 0===t?3:t,i=e.retryDecider,o=e.computeDelay,s=e.abortSignal;if(n<1)throw Error("maxAttempts must be greater than 0");return function(e,t){return function(a){var u,c,f,p,g;return c=this,f=void 0,p=void 0,g=function(){var c,f,p,g;return middleware_generator(this,function(y){switch(y.label){case 0:f=null!==(u=t.attemptsCount)&&void 0!==u?u:0,g=function(){if(p)return addOrIncrementMetadataAttempts(p,f),p;throw addOrIncrementMetadataAttempts(c,f),c},y.label=1;case 1:if(!(!(null==s?void 0:s.aborted)&&f<n))return[3,11];y.label=2;case 2:return y.trys.push([2,4,,5]),[4,e(a)];case 3:return p=y.sent(),c=void 0,[3,5];case 4:return c=y.sent(),p=void 0,[3,5];case 5:return f=t.attemptsCount>f?t.attemptsCount:f+1,t.attemptsCount=f,[4,i(p,c)];case 6:if(!y.sent())return[3,9];if(!(!(null==s?void 0:s.aborted)&&f<n))return[3,8];return[4,cancellableSleep(o(f),s)];case 7:y.sent(),y.label=8;case 8:case 10:return[3,1];case 9:return[2,g()];case 11:if(null==s||!s.aborted)return[2,g()];throw Error("Request aborted.")}})},new(p||(p=Promise))(function(e,t){function fulfilled(e){try{step(g.next(e))}catch(e){t(e)}}function rejected(e){try{step(g.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof p?n:new p(function(e){e(n)})).then(fulfilled,rejected)}step((g=g.apply(c,f||[])).next())})}}}]),responseInfo_assign=function(){return(responseInfo_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},parseMetadata=function(e){var t,n,i=e.headers,o=e.statusCode;return responseInfo_assign(responseInfo_assign({},isMetadataBearer(e)?e.$metadata:{}),{httpStatusCode:o,requestId:null!==(n=null!==(t=i["x-amzn-requestid"])&&void 0!==t?t:i["x-amzn-request-id"])&&void 0!==n?n:i["x-amz-request-id"],extendedRequestId:i["x-amz-id-2"],cfId:i["x-amz-cf-id"]})},isMetadataBearer=function(e){return"object"==typeof(null==e?void 0:e.$metadata)},json_awaiter=function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},json_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},json_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},parseJsonError=function(e){return json_awaiter(void 0,void 0,void 0,function(){var t,n,i,o,s,a,u;return json_generator(this,function(c){switch(c.label){case 0:if(!e||e.statusCode<300)return[2];return[4,parseJsonBody(e)];case 1:var f;return t=c.sent(),n=(f=json_read((null!==(s=null!==(o=null!==(i=e.headers["x-amzn-errortype"])&&void 0!==i?i:t.code)&&void 0!==o?o:t.__type)&&void 0!==s?s:"UnknownError").toString().split(/[\,\:]+/),1)[0]).includes("#")?f.split("#")[1]:f,[2,Object.assign(Error(null!==(u=null!==(a=t.message)&&void 0!==a?a:t.Message)&&void 0!==u?u:"Unknown error"),{name:n,$metadata:parseMetadata(e)})]}})})},parseJsonBody=function(e){return json_awaiter(void 0,void 0,void 0,function(){return json_generator(this,function(t){switch(t.label){case 0:if(!e.body)throw Error("Missing response payload");return[4,e.body.json()];case 1:return[2,Object.assign(t.sent(),{$metadata:parseMetadata(e)})]}})})},ej=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],defaultRetryDecider_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},eM=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],eL=["TimeoutError","RequestTimeout","RequestTimeoutException"];(o=T||(T={})).WebUnknown="0",o.React="1",o.NextJs="2",o.Angular="3",o.VueJs="4",o.Nuxt="5",o.Svelte="6",o.ServerSideUnknown="100",o.ReactSSR="101",o.NextJsSSR="102",o.AngularSSR="103",o.VueJsSSR="104",o.NuxtSSR="105",o.SvelteSSR="106",o.ReactNative="201",o.Expo="202",(s=O||(O={})).API="api",s.Auth="auth",s.Analytics="analytics",s.DataStore="datastore",s.Geo="geo",s.InAppMessaging="inappmessaging",s.Interactions="interactions",s.Predictions="predictions",s.PubSub="pubsub",s.PushNotification="pushnotification",s.Storage="storage",(a=k||(k={})).Record="1",a.UpdateEndpoint="2",(u=P||(P={})).GraphQl="1",u.Get="2",u.Post="3",u.Put="4",u.Patch="5",u.Del="6",u.Head="7",(R||(R={})).FederatedSignIn="30",(c=N||(N={})).Subscribe="1",c.GraphQl="2",(x||(x={})).None="0",(U||(U={})).None="0",(D||(D={})).None="0",(f=B||(B={})).Convert="1",f.Identify="2",f.Interpret="3",(F||(F={})).Subscribe="1",(j||(j={})).None="0",(p=M||(M={})).Put="1",p.Get="2",p.List="3",p.Copy="4",p.Remove="5",p.GetProperties="6";var eV="5.3.16",eq=n(9520),globalExists=function(){return void 0!==n.g},windowExists=function(){return"undefined"!=typeof window},documentExists=function(){return"undefined"!=typeof document},processExists=function(){return void 0!==eq},keyPrefixMatch=function(e,t){return!!Object.keys(e).find(function(e){return e.startsWith(t)})},eK=n(9520),eH=n(9520),eW=n(9520),eG=[{platform:T.Expo,detectionMethod:function(){return globalExists()&&void 0!==n.g.expo}},{platform:T.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:T.NextJs,detectionMethod:function(){return windowExists()&&window.next&&"object"==typeof window.next}},{platform:T.Nuxt,detectionMethod:function(){return windowExists()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:T.Angular,detectionMethod:function(){var e=!!(documentExists()&&document.querySelector("[ng-version]")),t=!!(windowExists()&&void 0!==window.ng);return e||t}},{platform:T.React,detectionMethod:function(){var elementKeyPrefixedWithReact=function(e){return e.startsWith("_react")||e.startsWith("__react")};return documentExists()&&Array.from(document.querySelectorAll("[id]")).some(function(e){return Object.keys(e).find(elementKeyPrefixedWithReact)})}},{platform:T.VueJs,detectionMethod:function(){return windowExists()&&keyPrefixMatch(window,"__VUE")}},{platform:T.Svelte,detectionMethod:function(){return windowExists()&&keyPrefixMatch(window,"__SVELTE")}},{platform:T.WebUnknown,detectionMethod:function(){return windowExists()}},{platform:T.NextJsSSR,detectionMethod:function(){return globalExists()&&(keyPrefixMatch(n.g,"__next")||keyPrefixMatch(n.g,"__NEXT"))}},{platform:T.NuxtSSR,detectionMethod:function(){return globalExists()&&void 0!==n.g.__NUXT_PATHS__}},{platform:T.ReactSSR,detectionMethod:function(){return processExists()&&void 0!==eK.env&&!!Object.keys(eK.env).find(function(e){return e.includes("react")})}},{platform:T.VueJsSSR,detectionMethod:function(){return globalExists()&&keyPrefixMatch(n.g,"__VUE")}},{platform:T.AngularSSR,detectionMethod:function(){var e;return processExists()&&"object"==typeof eW.env&&(null===(e=eW.env.npm_lifecycle_script)||void 0===e?void 0:e.startsWith("ng "))||!1}},{platform:T.SvelteSSR,detectionMethod:function(){return processExists()&&void 0!==eH.env&&!!Object.keys(eH.env).find(function(e){return e.includes("svelte")})}}],ez=[],eJ=!1,detectFramework=function(){if(!L){var e;if(L=(null===(e=eG.find(function(e){return e.detectionMethod()}))||void 0===e?void 0:e.platform)||T.ServerSideUnknown,eJ)for(;ez.length;)ez.pop()();else ez.forEach(function(e){return e()});resetTimeout(T.ServerSideUnknown,10),resetTimeout(T.WebUnknown,10)}return L},observeFrameworkChanges=function(e){eJ||ez.push(e)};function resetTimeout(e,t){L!==e||eJ||setTimeout(function(){L=void 0,eJ=!0,setTimeout(detectFramework,1e3)},t)}var Platform_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},eY="aws-amplify",eQ=new(function(){function PlatformBuilder(){this.userAgent="".concat(eY,"/").concat(eV)}return Object.defineProperty(PlatformBuilder.prototype,"framework",{get:function(){return detectFramework()},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformBuilder.prototype,"isReactNative",{get:function(){return this.framework===T.ReactNative||this.framework===T.Expo},enumerable:!1,configurable:!0}),PlatformBuilder.prototype.observeFrameworkChanges=function(e){observeFrameworkChanges(e)},PlatformBuilder}()),getAmplifyUserAgentObject=function(e){var t=void 0===e?{}:e,n=t.category,i=t.action;t.framework;var o=[[eY,eV]];return n&&o.push([n,i]),o.push(["framework",detectFramework()]),o},getAmplifyUserAgent=function(e){return getAmplifyUserAgentObject(e).map(function(e){var t=Platform_read(e,2),n=t[0],i=t[1];return"".concat(n,"/").concat(i)}).join(" ")},base_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},e$=composeTransferHandler(eF,[function(){return function(e,t){return function(t){var n,i,o,s;return n=this,i=void 0,o=void 0,s=function(){return base_generator(this,function(n){return t.headers["cache-control"]="no-store",[2,e(t)]})},new(o||(o=Promise))(function(e,t){function fulfilled(e){try{step(s.next(e))}catch(e){t(e)}}function rejected(e){try{step(s.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(fulfilled,rejected)}step((s=s.apply(n,i||[])).next())})}}}]),eZ={service:"cognito-identity",endpointResolver:function(e){var t=e.region;return{url:new URL("https://cognito-identity.".concat(t,".").concat(getDnsSuffix(t)))}},retryDecider:function(e,t){var n,i,o,s;return n=void 0,i=void 0,o=void 0,s=function(){var n,i,o,s;return defaultRetryDecider_generator(this,function(a){switch(a.label){case 0:if(!(null!=t))return[3,1];return i=t,[3,3];case 1:return[4,parseJsonError(e)];case 2:i=a.sent(),a.label=3;case 3:return n=(null!==(s=i)&&void 0!==s?s:{}).name,o=null==e?void 0:e.statusCode,[2,(null==t?void 0:t.name)==="Network error"||429===o||eM.includes(n)||ej.includes(n)||[500,502,503,504].includes(o)||eL.includes(n)]}})},new(o||(o=Promise))(function(e,t){function fulfilled(e){try{step(s.next(e))}catch(e){t(e)}}function rejected(e){try{step(s.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(fulfilled,rejected)}step((s=s.apply(n,i||[])).next())})},computeDelay:function(e){var t=jitteredBackoff(3e5)(e);return!1===t?3e5:t},userAgentValue:getAmplifyUserAgent()};observeFrameworkChanges(function(){eZ.userAgentValue=getAmplifyUserAgent()});var getSharedHeaders=function(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(e)}},buildHttpRpcRequest=function(e,t,n){return{headers:t,url:e.url,body:n,method:"POST"}},composeServiceApi_assign=function(){return(composeServiceApi_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},composeServiceApi_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},composeServiceApi=function(e,t,n,i){return function(o,s){var a,u,c,f;return a=void 0,u=void 0,c=void 0,f=function(){var a;return composeServiceApi_generator(this,function(u){switch(u.label){case 0:return[4,(a=composeServiceApi_assign(composeServiceApi_assign({},i),o)).endpointResolver(a,s)];case 1:return[4,t(s,u.sent())];case 2:return[4,e(u.sent(),composeServiceApi_assign({},a))];case 3:return[4,n(u.sent())];case 4:return[2,u.sent()]}})},new(c||(c=Promise))(function(e,t){function fulfilled(e){try{step(f.next(e))}catch(e){t(e)}}function rejected(e){try{step(f.throw(e))}catch(e){t(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof c?n:new c(function(e){e(n)})).then(fulfilled,rejected)}step((f=f.apply(a,u||[])).next())})}},getId_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},eX=composeServiceApi(e$,function(e,t){return buildHttpRpcRequest(t,getSharedHeaders("GetId"),JSON.stringify(e))},function(e){var t,n,i,o;return t=void 0,n=void 0,i=void 0,o=function(){return getId_generator(this,function(t){switch(t.label){case 0:if(!(e.statusCode>=300))return[3,2];return[4,parseJsonError(e)];case 1:throw t.sent();case 2:return[4,parseJsonBody(e)];case 3:return[2,{IdentityId:t.sent().IdentityId,$metadata:parseMetadata(e)}]}})},new(i||(i=Promise))(function(e,s){function fulfilled(e){try{step(o.next(e))}catch(e){s(e)}}function rejected(e){try{step(o.throw(e))}catch(e){s(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(fulfilled,rejected)}step((o=o.apply(t,n||[])).next())})},eZ),getCredentialsForIdentity_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},e0=composeServiceApi(e$,function(e,t){return buildHttpRpcRequest(t,getSharedHeaders("GetCredentialsForIdentity"),JSON.stringify(e))},function(e){var t,n,i,o;return t=void 0,n=void 0,i=void 0,o=function(){var t;return getCredentialsForIdentity_generator(this,function(n){switch(n.label){case 0:if(!(e.statusCode>=300))return[3,2];return[4,parseJsonError(e)];case 1:throw n.sent();case 2:return[4,parseJsonBody(e)];case 3:var i;return[2,{IdentityId:(t=n.sent()).IdentityId,Credentials:(void 0===(i=t.Credentials)&&(i={}),{AccessKeyId:i.AccessKeyId,SecretKey:i.SecretKey,SessionToken:i.SessionToken,Expiration:new Date(1e3*i.Expiration)}),$metadata:parseMetadata(e)}]}})},new(i||(i=Promise))(function(e,s){function fulfilled(e){try{step(o.next(e))}catch(e){s(e)}}function rejected(e){try{step(o.throw(e))}catch(e){s(e)}}function step(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(e){e(n)})).then(fulfilled,rejected)}step((o=o.apply(t,n||[])).next())})},eZ),parseAWSExports_assign=function(){return(parseAWSExports_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},e1=new ei.k("Parser"),parseAWSExports=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var i={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=i}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=parseAWSExports_assign(parseAWSExports_assign({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),e1.debug("parse config",e,"to amplifyconfig",n),n},Hub_assign=function(){return(Hub_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Hub_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},Hub_spreadArray=function(e,t,n){if(n||2==arguments.length)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},e2=new ei.k("Hub"),e3="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",e4=new(function(){function HubClass(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return HubClass.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find(function(t){return t.pattern.source===e.source});if(!n){e2.warn("No listeners for ".concat(e));return}this.patterns=Hub_spreadArray([],Hub_read(this.patterns.filter(function(e){return e!==n})),!1)}else{var i=this.listeners[e];if(!i){e2.warn("No listeners for ".concat(e));return}this.listeners[e]=Hub_spreadArray([],Hub_read(i.filter(function(e){return e.callback!==t})),!1)}},HubClass.prototype.remove=function(e,t){this._remove(e,t)},HubClass.prototype.dispatch=function(e,t,n,i){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&i!==e3&&e2.warn("WARNING: ".concat(e," is protected and dispatching on it can have unintended consequences"));var o={channel:e,payload:Hub_assign({},t),source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){e2.error(e)}},HubClass.prototype.listen=function(e,t,n){var i,o=this;if(void 0===n&&(n="noname"),void 0!==t.onHubCapsule)e2.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),i=t.onHubCapsule.bind(t);else if("function"!=typeof t)throw Error("No callback supplied to Hub");else i=t;if(e instanceof RegExp)this.patterns.push({pattern:e,callback:i});else{var s=this.listeners[e];s||(s=[],this.listeners[e]=s),s.push({name:n,callback:i})}return function(){o._remove(e,i)}},HubClass.prototype._toListeners=function(e){var t=e.channel,n=e.payload,i=this.listeners[t];if(i&&i.forEach(function(i){e2.debug("Dispatching to ".concat(t," with "),n);try{i.callback(e)}catch(e){e2.error(e)}}),this.patterns.length>0){if(!n.message){e2.warn("Cannot perform pattern matching without a message key");return}var o=n.message;this.patterns.forEach(function(t){var n=o.match(t.pattern);if(n){var i=Hub_read(n).slice(1),s=Hub_assign(Hub_assign({},e),{patternInfo:i});try{t.callback(s)}catch(e){e2.error(e)}}})}},HubClass}())("__default__"),Credentials_assign=function(){return(Credentials_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Credentials_awaiter=function(e,t,n,i){return new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},Credentials_generator=function(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(u){return function(c){return function(u){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(a=0)),a;)try{if(n=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,i=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],i=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},e5=new ei.k("Credentials"),e6="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",dispatchCredentialsEvent=function(e,t,n){e4.dispatch("core",{event:e,data:t,message:n},"Credentials",e6)},e8=new(function(){function CredentialsClass(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=ex.refreshGoogleToken,this._refreshHandlers.facebook=eU.refreshFacebookToken}return CredentialsClass.prototype.getModuleName=function(){return"Credentials"},CredentialsClass.prototype.getCredSource=function(){return this._credentials_source},CredentialsClass.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Credentials_assign(Credentials_assign({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=new ew().getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),dispatchCredentialsEvent("credentials_configured",null,"Credentials has been configured successfully"),this._config},CredentialsClass.prototype.get=function(){return e5.debug("getting credentials"),this._pickupCredentials()},CredentialsClass.prototype._getCognitoIdentityIdStorageKey=function(e){return"".concat("CognitoIdentityId-").concat(e)},CredentialsClass.prototype._pickupCredentials=function(){return e5.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?e5.debug("getting old cred promise"):(e5.debug("getting new cred promise"),this._gettingCredPromise=makeQuerablePromise(this._keepAlive())),this._gettingCredPromise},CredentialsClass.prototype._keepAlive=function(){return Credentials_awaiter(this,void 0,void 0,function(){var e,t,n,i,o,s;return Credentials_generator(this,function(a){switch(a.label){case 0:if(e5.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return e5.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(e5.debug("need to get a new credential or refresh the existing one"),!(n=void 0===(t=this.Auth)?eo.d.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(!(!this._isExpired(e)&&this._isPastTTL()))return[3,6];e5.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return i=a.sent(),[4,n.currentSession()];case 3:return o=a.sent().refreshToken,[4,new Promise(function(e,t){i.refreshSession(o,function(n,i){return n?t(n):e(i)})})];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),e5.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},CredentialsClass.prototype.refreshFederatedToken=function(e){e5.debug("Getting federated credentials");var t=e.provider,n=e.user,i=e.token,o=e.identity_id,s=e.expires_at;return(s=1970===new Date(s).getFullYear()?1e3*s:s,e5.debug("checking if federated jwt token expired"),s>new Date().getTime())?(e5.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:i,user:n,identity_id:o,expires_at:s})):this._refreshHandlers[t]&&"function"==typeof this._refreshHandlers[t]?(e5.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:n})):(e5.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},CredentialsClass.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,i=e.provider,o=e.user;return jitteredExponentialRetry(n,[],1e4).then(function(e){return e5.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:i,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})}).catch(function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),e5.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)})},CredentialsClass.prototype._isExpired=function(e){if(!e)return e5.debug("no credentials for expiration check"),!0;e5.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},CredentialsClass.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},CredentialsClass.prototype._setCredentialsForGuest=function(){var e;return Credentials_awaiter(this,void 0,void 0,function(){var t,n,i,o,s,a,u,c,f,p=this;return Credentials_generator(this,function(g){switch(g.label){case 0:if(e5.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,parseAWSExports(this._config||{}).Auth)),n=(t=this._config).identityPoolId,i=t.region,o=t.mandatorySignIn,s=t.identityPoolRegion,o)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!n)return e5.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!s&&!i)return e5.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];return u=this,[4,this._getGuestIdentityId()];case 1:return a=u._identityId=g.sent(),c={region:null!=s?s:i},f=Credentials_awaiter(p,void 0,void 0,function(){var e,t;return Credentials_generator(this,function(i){switch(i.label){case 0:if(a)return[3,2];return[4,eX(c,{IdentityPoolId:n})];case 1:e=i.sent().IdentityId,this._identityId=e,i.label=2;case 2:return[4,e0(c,{IdentityId:this._identityId})];case 3:return t=i.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}})}).catch(function(e){return Credentials_awaiter(p,void 0,void 0,function(){return Credentials_generator(this,function(t){throw e})})}),[2,this._loadCredentials(f,"guest",!1,null).then(function(e){return e}).catch(function(e){return Credentials_awaiter(p,void 0,void 0,function(){var t=this;return Credentials_generator(this,function(i){switch(i.label){case 0:if(!("ResourceNotFoundException"===e.name&&e.message==="Identity '".concat(a,"' not found.")))return[3,2];return e5.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()];case 1:return i.sent(),f=Credentials_awaiter(t,void 0,void 0,function(){var e,t;return Credentials_generator(this,function(i){switch(i.label){case 0:return[4,eX(c,{IdentityPoolId:n})];case 1:return e=i.sent().IdentityId,this._identityId=e,[4,e0(c,{IdentityId:e})];case 2:return t=i.sent().Credentials,[2,{identityId:e,accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretKey,sessionToken:t.SessionToken,expiration:t.Expiration}]}})}).catch(function(e){return Credentials_awaiter(t,void 0,void 0,function(){return Credentials_generator(this,function(t){throw e})})}),[2,this._loadCredentials(f,"guest",!1,null)];case 2:return[2,e]}})})})]}})})},CredentialsClass.prototype._setCredentialsFromFederation=function(e){var t=this,n=e.provider,i=e.token,o=e.identity_id,s={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[n]||n;if(!s)return Promise.reject("You must specify a federated provider");var a={};a[s]=i;var u=this._config,c=u.identityPoolId,f=u.region,p=u.identityPoolRegion;if(!c)return e5.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!p&&!f)return e5.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var g={region:null!=p?p:f},y=Credentials_awaiter(t,void 0,void 0,function(){var e;return Credentials_generator(this,function(t){switch(t.label){case 0:if(o)return[3,2];return[4,eX(g,{IdentityPoolId:c,Logins:a})];case 1:o=t.sent().IdentityId,t.label=2;case 2:return[4,e0(g,{IdentityId:o,Logins:a})];case 3:return e=t.sent().Credentials,[2,{identityId:o,accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretKey,sessionToken:e.SessionToken,expiration:e.Expiration}]}})}).catch(function(e){return Credentials_awaiter(t,void 0,void 0,function(){return Credentials_generator(this,function(t){throw e})})});return this._loadCredentials(y,"federated",!0,e)},CredentialsClass.prototype._setCredentialsFromSession=function(e){var t=this;e5.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),i=this._config,o=i.region,s=i.userPoolId,a=i.identityPoolId,u=i.identityPoolRegion;if(!a)return e5.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u&&!o)return e5.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c={};c["cognito-idp."+o+".amazonaws.com/"+s]=n;var f={region:null!=u?u:o},p=Credentials_awaiter(t,void 0,void 0,function(){var e,t,n,i,o,s,u,p,g;return Credentials_generator(this,function(y){switch(y.label){case 0:return[4,this._getGuestIdentityId()];case 1:if(e=y.sent())return[3,3];return[4,eX(f,{IdentityPoolId:a,Logins:c})];case 2:t=y.sent().IdentityId,y.label=3;case 3:return[4,e0(f,{IdentityId:e||t,Logins:c})];case 4:if(o=(i=(n=y.sent()).Credentials).AccessKeyId,s=i.Expiration,u=i.SecretKey,p=i.SessionToken,g=n.IdentityId,this._identityId=g,!e)return[3,6];return e5.debug("The guest identity ".concat(e," has been successfully linked to the logins")),e===g&&e5.debug("The guest identity ".concat(e," has become the primary identity")),[4,this._removeGuestIdentityId()];case 5:y.sent(),y.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:u,sessionToken:p,expiration:s,identityId:g}]}})}).catch(function(e){return Credentials_awaiter(t,void 0,void 0,function(){return Credentials_generator(this,function(t){throw e})})});return this._loadCredentials(p,"userPool",!0,null)},CredentialsClass.prototype._loadCredentials=function(e,t,n,i){var o=this,s=this;return new Promise(function(a,u){e.then(function(e){return Credentials_awaiter(o,void 0,void 0,function(){var o,u,c,f,p;return Credentials_generator(this,function(g){switch(g.label){case 0:if(e5.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),s._credentials=e,s._credentials.authenticated=n,s._credentials_source=t,s._nextCredentialsRefresh=new Date().getTime()+3e6,"federated"===t){o=Object.assign({id:this._credentials.identityId},i.user),u=i.provider,c=i.token,f=i.expires_at,p=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:u,token:c,user:o,expires_at:f,identity_id:p}))}catch(e){e5.debug("Failed to put federated info into auth storage",e)}}if("guest"!==t)return[3,2];return[4,this._setGuestIdentityId(e.identityId)];case 1:g.sent(),g.label=2;case 2:return a(s._credentials),[2]}})})}).catch(function(t){if(t){e5.debug("Failed to load credentials",e),e5.debug("Error loading credentials",t),u(t);return}})})},CredentialsClass.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(e5.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},CredentialsClass.prototype.clear=function(){return Credentials_awaiter(this,void 0,void 0,function(){return Credentials_generator(this,function(e){return this._credentials=null,this._credentials_source=null,e5.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},CredentialsClass.prototype._getGuestIdentityId=function(){return Credentials_awaiter(this,void 0,void 0,function(){var e,t;return Credentials_generator(this,function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),e5.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},CredentialsClass.prototype._setGuestIdentityId=function(e){return Credentials_awaiter(this,void 0,void 0,function(){var t,n;return Credentials_generator(this,function(i){switch(i.label){case 0:t=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=i.sent(),e5.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},CredentialsClass.prototype._removeGuestIdentityId=function(){return Credentials_awaiter(this,void 0,void 0,function(){var e;return Credentials_generator(this,function(t){return e=this._config.identityPoolId,e5.debug("removing ".concat(this._getCognitoIdentityIdStorageKey(e)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},CredentialsClass.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},CredentialsClass}())(null);eo.d.register(e8);for(var e7="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",e9="x-amz-user-agent",te=n(8666),tt=n.n(te)(),tr=n(8668),tn=n(5296),ti=n(6379),DateUtils_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},to={clockOffset:0,getDateWithClockOffset:function(){return to.clockOffset?new Date(new Date().getTime()+to.clockOffset):new Date},getClockOffset:function(){return to.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=to.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=DateUtils_read(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6];return new Date(Date.UTC(Number(n),Number(i)-1,Number(o),Number(s),Number(a),Number(u)))},isClockSkewed:function(e){return Math.abs(e.getTime()-to.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return!!(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){to.clockOffset=e}},getSignedHeaders=function(e){return Object.keys(e).map(function(e){return e.toLowerCase()}).sort().join(";")},ts="X-Amz-Date",ta="X-Amz-Security-Token",tu="host",tc=ts.toLowerCase(),tl=ta.toLowerCase(),tf="aws4_request",th="AWS4-HMAC-SHA256",getFormattedDates=function(e){var t=e.toISOString().replace(/[:\-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}},getSigningValues=function(e){var t=e.credentials,n=e.signingDate,i=void 0===n?new Date:n,o=e.signingRegion,s=e.signingService,a=e.uriEscapePath,u=t.accessKeyId,c=t.secretAccessKey,f=t.sessionToken,p=getFormattedDates(i),g=p.longDate,y=p.shortDate;return{accessKeyId:u,credentialScope:"".concat(y,"/").concat(o,"/").concat(s,"/").concat(tf),longDate:g,secretAccessKey:c,sessionToken:f,shortDate:y,signingRegion:o,signingService:s,uriEscapePath:void 0===a||a}},td=n(1441),tp={},tg={},ty=0;ty<256;ty++){var tv=ty.toString(16).toLowerCase();1===tv.length&&(tv="0"+tv),tp[ty]=tv,tg[tv]=ty}var getHashedData=function(e,t){var n=new td.Sha256(e);return n.update(t),n.digestSync()},getHashedDataAsHex=function(e,t){return function(e){for(var t="",n=0;n<e.byteLength;n++)t+=tp[e[n]];return t}(getHashedData(e,t))},getCanonicalHeaders_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},getCanonicalQueryString_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},escapeUri=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,hexEncode)},hexEncode=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},getCanonicalRequest=function(e,t){var n,i,o,s=e.body,a=e.headers,u=e.method,c=e.url;return void 0===t&&(t=!0),[u,(i=c.pathname,void 0===(o=t)&&(o=!0),i?o?encodeURIComponent(i).replace(/%2F/g,"/"):i:"/"),Array.from(c.searchParams).sort(function(e,t){var n=getCanonicalQueryString_read(e,2),i=n[0],o=n[1],s=getCanonicalQueryString_read(t,2),a=s[0],u=s[1];return i===a?o<u?-1:1:i<a?-1:1}).map(function(e){var t=getCanonicalQueryString_read(e,2),n=t[0],i=t[1];return"".concat(escapeUri(n),"=").concat(escapeUri(i))}).join("&"),Object.entries(a).map(function(e){var t,n=getCanonicalHeaders_read(e,2),i=n[0],o=n[1];return{key:i.toLowerCase(),value:null!==(t=null==o?void 0:o.trim().replace(/\s+/g," "))&&void 0!==t?t:""}}).sort(function(e,t){return e.key<t.key?-1:1}).map(function(e){return"".concat(e.key,":").concat(e.value,"\n")}).join(""),getSignedHeaders(a),null==s?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":"string"==typeof s||ArrayBuffer.isView(s)||(n=s,"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(n))?getHashedDataAsHex(null,s):"UNSIGNED-PAYLOAD"].join("\n")},getSigningKey=function(e,t,n,i){var o=getHashedData("".concat("AWS4").concat(e),t),s=getHashedData(o,n),a=getHashedData(s,i);return getHashedData(a,tf)},getSignature=function(e,t){var n=t.credentialScope,i=t.longDate,o=t.secretAccessKey,s=t.shortDate,a=t.signingRegion,u=t.signingService,c=[th,i,n,getHashedDataAsHex(null,getCanonicalRequest(e,t.uriEscapePath))].join("\n");return getHashedDataAsHex(getSigningKey(o,s,a,u),c)},signRequest_assign=function(){return(signRequest_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},signRequest=function(e,t){var n=getSigningValues(t),i=n.accessKeyId,o=n.credentialScope,s=n.longDate,a=n.sessionToken,u=signRequest_assign({},e.headers);u[tu]=e.url.host,u[tc]=s,a&&(u[tl]=a);var c=signRequest_assign(signRequest_assign({},e),{headers:u}),f=getSignature(c,n),p="Credential=".concat(i,"/").concat(o),g="SignedHeaders=".concat(getSignedHeaders(u)),y="Signature=".concat(f);return u.authorization="".concat(th," ").concat(p,", ").concat(g,", ").concat(y),c},presignUrl_assign=function(){return(presignUrl_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__rest=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>t.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},presignUrl_read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},presignUrl=function(e,t){var n,i,o,s,a=e.body,u=e.method,c=e.url,f=t.expiration,p=getSigningValues(__rest(t,["expiration"])),g=p.accessKeyId,y=p.credentialScope,v=p.longDate,m=p.sessionToken,_=new URL(c);Object.entries(presignUrl_assign(presignUrl_assign(((n={})["X-Amz-Algorithm"]=th,n["X-Amz-Credential"]="".concat(g,"/").concat(y),n[ts]=v,n["X-Amz-SignedHeaders"]=tu,n),f&&((i={})["X-Amz-Expires"]=f.toString(),i)),m&&((o={})[ta]=m,o))).forEach(function(e){var t=presignUrl_read(e,2),n=t[0],i=t[1];_.searchParams.append(n,i)});var b=getSignature({body:a,headers:((s={})[tu]=c.host,s),method:void 0===u?"GET":u,url:_},p);return _.searchParams.append("X-Amz-Signature",b),_},Signer_assign=function(){return(Signer_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tm=/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(.cn)?$/,t_=function(){function Signer(){}return Signer.sign=function(e,t,n){if(e.headers=e.headers||{},e.body&&!e.data)throw Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var i=Signer_assign(Signer_assign({},e),{body:e.data,url:new URL(e.url)}),o=getOptions(i,t,n),s=signRequest(i,o);return s.url=s.url.toString(),s.headers.Authorization=s.headers.authorization,s.headers["X-Amz-Security-Token"]=s.headers["x-amz-security-token"],delete s.headers.authorization,delete s.headers["x-amz-security-token"],s},Signer.signUrl=function(e,t,n,i){var o="object"==typeof e?e.url:e,s="object"==typeof e?e.method:"GET",a={body:"object"==typeof e?e.body:void 0,method:s,url:new URL(o)},u=getOptions(a,t,n,i),c=presignUrl(a,u);return t.session_token&&!sessionTokenRequiredInSigning(u.signingService)&&c.searchParams.append(ta,t.session_token),c.toString()},Signer}(),getOptions=function(e,t,n,i){var o=null!=t?t:{},s=o.access_key,a=o.secret_key,u=o.session_token,c=parseServiceInfo(e.url),f=c.region,p=c.service,g=null!=n?n:{},y=g.region,v=g.service,m=void 0===v?p:v,_=Signer_assign({accessKeyId:s,secretAccessKey:a},sessionTokenRequiredInSigning(m)?{sessionToken:u}:{});return Signer_assign({credentials:_,signingDate:to.getDateWithClockOffset(),signingRegion:void 0===y?f:y,signingService:m},i&&{expiration:i})},parseServiceInfo=function(e){var t,n=(null!==(t=e.host.match(tm))&&void 0!==t?t:[]).slice(1,3);return"es"===n[1]&&(n=n.reverse()),{service:n[0],region:n[1]}},sessionTokenRequiredInSigning=function(e){return"iotdevicegateway"!==e},tb={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new ew().getStorage()};function getByteLength(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t}function getCurrTime(){return new Date().getTime()}function isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var tS={};!function(){function CacheObject(){}CacheObject.clear=function(){tS={}},CacheObject.getItem=function(e){return tS[e]||null},CacheObject.setItem=function(e,t){tS[e]=t},CacheObject.removeItem=function(e){delete tS[e]}}();var tw=new ei.k("StorageCache"),tC=function(){function StorageCache(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return StorageCache.prototype.getModuleName=function(){return"Cache"},StorageCache.prototype.checkConfig=function(){isInteger(this.config.capacityInBytes)||(tw.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=tb.capacityInBytes),isInteger(this.config.itemMaxSize)||(tw.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=tb.itemMaxSize),isInteger(this.config.defaultTTL)||(tw.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=tb.defaultTTL),isInteger(this.config.defaultPriority)||(tw.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=tb.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(tw.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=tb.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(tw.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=tb.defaultPriority),(Number(this.config.warningThreshold)>1||0>Number(this.config.warningThreshold))&&(tw.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=tb.warningThreshold),this.config.capacityInBytes>5242880&&(tw.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=tb.capacityInBytes)},StorageCache.prototype.fillCacheItem=function(e,t,n){var i={key:e,data:t,timestamp:getCurrTime(),visitedTime:getCurrTime(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return i.byteSize=getByteLength(JSON.stringify(i)),i.byteSize=getByteLength(JSON.stringify(i)),i},StorageCache.prototype.configure=function(e){return e&&(e.keyPrefix&&tw.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig()),this.config},StorageCache}(),tA=new ei.k("Cache"),tE=new(function(e){function BrowserStorageCacheClass(t){var n=this,i=t?Object.assign({},tb,t):tb;return(n=e.call(this,i)||this).config.storage=i.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return(0,en.__extends)(BrowserStorageCacheClass,e),BrowserStorageCacheClass.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},BrowserStorageCacheClass.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},BrowserStorageCacheClass.prototype._refreshItem=function(e,t){return e.visitedTime=getCurrTime(),this.config.storage.setItem(t,JSON.stringify(e)),e},BrowserStorageCacheClass.prototype._isExpired=function(e){var t=JSON.parse(this.config.storage.getItem(e));return getCurrTime()>=t.expires},BrowserStorageCacheClass.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},BrowserStorageCacheClass.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),tA.error("Failed to set item "+e)}},BrowserStorageCacheClass.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},BrowserStorageCacheClass.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},BrowserStorageCacheClass.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(var n=0;n<t.length;n+=1){var i=t[n];0===i.indexOf(this.config.keyPrefix)&&i!==this.cacheCurSizeKey&&(this._isExpired(i)?this._removeItem(i):e.push(i))}return e},BrowserStorageCacheClass.prototype._popOutItems=function(e,t){for(var n=[],i=t,o=0;o<e.length;o+=1){var s=this.config.storage.getItem(e[o]);if(null!=s){var a=JSON.parse(s);n.push(a)}}n.sort(function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1});for(var o=0;o<n.length;o+=1)if(this._removeItem(n[o].key,n[o].byteSize),(i-=n[o].byteSize)<=0)return},BrowserStorageCacheClass.prototype.setItem=function(e,t,n){tA.log("Set item: key is "+e+", value is "+t+" with options: "+n);var i=this.config.keyPrefix+e;if(i===this.config.keyPrefix||i===this.cacheCurSizeKey){tA.warn("Invalid key: should not be empty or 'CurSize'");return}if(void 0===t){tA.warn("The value of item should not be undefined!");return}var o={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+getCurrTime()};if(o.priority<1||o.priority>5){tA.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var s=this.fillCacheItem(i,t,o);if(s.byteSize>this.config.itemMaxSize){tA.warn("Item with key: "+e+" you are trying to put into is too big!");return}try{var a=this.config.storage.getItem(i);if(a&&this._removeItem(i,JSON.parse(a).byteSize),this._isCacheFull(s.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(s.byteSize)){var c=this._sizeToPop(s.byteSize);this._popOutItems(u,c)}}this._setItem(i,s)}catch(e){tA.warn("setItem failed! "+e)}},BrowserStorageCacheClass.prototype.getItem=function(e,t){tA.log("Get item: key is "+e+" with options "+t);var n=null,i=this.config.keyPrefix+e;if(i===this.config.keyPrefix||i===this.cacheCurSizeKey)return tA.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(n=this.config.storage.getItem(i),null!=n){if(this._isExpired(i))this._removeItem(i,JSON.parse(n).byteSize),n=null;else{var o=JSON.parse(n);return(o=this._refreshItem(o,i)).data}}if(t&&void 0!==t.callback){var s=t.callback();return null!==s&&this.setItem(e,s,t),s}return null}catch(e){return tA.warn("getItem failed! "+e),null}},BrowserStorageCacheClass.prototype.removeItem=function(e){tA.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){tA.warn("removeItem failed! "+e)}},BrowserStorageCacheClass.prototype.clear=function(){tA.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(var t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){tA.warn("clear failed! "+e)}},BrowserStorageCacheClass.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},BrowserStorageCacheClass.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},BrowserStorageCacheClass.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==tb.keyPrefix||(tA.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=getCurrTime.toString()),new BrowserStorageCacheClass(e)},BrowserStorageCacheClass}(tC));function isFederatedSignInOptions(e){return e&&!!["provider"].find(function(t){return e.hasOwnProperty(t)})}function isCognitoHostedOpts(e){return void 0!==e.redirectSignIn}eo.d.register(tE),(g=V||(V={})).Cognito="COGNITO",g.Google="Google",g.Facebook="Facebook",g.Amazon="LoginWithAmazon",g.Apple="SignInWithApple",(y=q||(q={})).NoConfig="noConfig",y.MissingAuthConfig="missingAuthConfig",y.EmptyUsername="emptyUsername",y.InvalidUsername="invalidUsername",y.EmptyPassword="emptyPassword",y.EmptyCode="emptyCode",y.SignUpError="signUpError",y.NoMFA="noMFA",y.InvalidMFA="invalidMFA",y.EmptyChallengeResponse="emptyChallengeResponse",y.NoUserSession="noUserSession",y.Default="default",y.DeviceConfig="deviceConfig",y.NetworkError="networkError",y.AutoSignInError="autoSignInError",(v=K||(K={})).API_KEY="API_KEY",v.AWS_IAM="AWS_IAM",v.OPENID_CONNECT="OPENID_CONNECT",v.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",v.AWS_LAMBDA="AWS_LAMBDA";var tI=n(3188);function readCookie(e,t){void 0===t&&(t={});var n,i=e&&"j"===e[0]&&":"===e[1]?e.substr(2):e;if(void 0===(n=t.doNotParse)&&(n=!i||"{"!==i[0]&&"["!==i[0]&&'"'!==i[0]),!n)try{return JSON.parse(i)}catch(e){}return e}var Cookies_assign=function(){return(Cookies_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tT=function(){function Cookies(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?tI.Q(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return Cookies.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=tI.Q(document.cookie,e))},Cookies.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},Cookies.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),readCookie(this.cookies[e],t)},Cookies.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var i in this.cookies)n[i]=readCookie(this.cookies[i],e);return n},Cookies.prototype.set=function(e,t,n){var i;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Cookies_assign(Cookies_assign({},this.cookies),((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=tI.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},Cookies.prototype.remove=function(e,t){var n=t=Cookies_assign(Cookies_assign({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Cookies_assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=tI.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},Cookies.prototype.addChangeListener=function(e){this.changeListeners.push(e)},Cookies.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},Cookies}(),UniversalStorage_assign=function(){return(UniversalStorage_assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tO=browserOrNode().isBrowser,tk=function(){function UniversalStorage(e){void 0===e&&(e={}),this.cookies=new tT,this.store=tO?window.localStorage:Object.create(null),this.cookies=e.req?new tT(decodeURIComponent(e.req.headers.cookie)):new tT,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(UniversalStorage.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),UniversalStorage.prototype.clear=function(){var e=this;Array.from(Array(this.length)).map(function(t,n){return e.key(n)}).forEach(function(t){return e.removeItem(t)})},UniversalStorage.prototype.getItem=function(e){return this.getLocalItem(e)},UniversalStorage.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},UniversalStorage.prototype.getUniversalItem=function(e){return this.cookies.get(e)},UniversalStorage.prototype.key=function(e){return Object.keys(this.store)[e]},UniversalStorage.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},UniversalStorage.prototype.removeLocalItem=function(e){delete this.store[e]},UniversalStorage.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},UniversalStorage.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!=n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},UniversalStorage.prototype.setLocalItem=function(e,t){this.store[e]=t},UniversalStorage.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,UniversalStorage_assign(UniversalStorage_assign({},n),{path:"/",sameSite:!0,secure:!tO||"localhost"!==window.location.hostname}))},UniversalStorage}(),tP=function(){function AuthenticationDetails(e){var t=e||{},n=t.ValidationData,i=t.Username,o=t.Password,s=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=s||{},this.clientMetadata=a||{},this.username=i,this.password=o}var e=AuthenticationDetails.prototype;return e.getUsername=function(){return this.username},e.getPassword=function(){return this.password},e.getValidationData=function(){return this.validationData},e.getAuthParameters=function(){return this.authParameters},e.getClientMetadata=function(){return this.clientMetadata},AuthenticationDetails}();if("undefined"!=typeof window&&window.crypto&&(H=window.crypto),!H&&"undefined"!=typeof window&&window.msCrypto&&(H=window.msCrypto),!H&&void 0!==n.g&&n.g.crypto&&(H=n.g.crypto),!H)try{H=n(765)}catch(e){}var tR=function(){function WordArray(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=4*e.length}var e=WordArray.prototype;return e.random=function(e){for(var t=[],n=0;n<e;n+=4)t.push(function(){if(H){if("function"==typeof H.getRandomValues)try{return H.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof H.randomBytes)try{return H.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")}());return new WordArray(t,e)},e.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o++){var s=t[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")}(this)},WordArray}();function BigInteger_BigInteger(e,t){null!=e&&this.fromString(e,t)}function nbi(){return new BigInteger_BigInteger(null)}var tN="undefined"!=typeof navigator;tN&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger_BigInteger.prototype.am=function(e,t,n,i,o,s){for(var a=32767&t,u=t>>15;--s>=0;){var c=32767&this[e],f=this[e++]>>15,p=u*c+f*a;o=((c=a*c+((32767&p)<<15)+n[i]+(1073741823&o))>>>30)+(p>>>15)+u*f+(o>>>30),n[i++]=1073741823&c}return o},W=30):tN&&"Netscape"!=navigator.appName?(BigInteger_BigInteger.prototype.am=function(e,t,n,i,o,s){for(;--s>=0;){var a=t*this[e++]+n[i]+o;o=Math.floor(a/67108864),n[i++]=67108863&a}return o},W=26):(BigInteger_BigInteger.prototype.am=function(e,t,n,i,o,s){for(var a=16383&t,u=t>>14;--s>=0;){var c=16383&this[e],f=this[e++]>>14,p=u*c+f*a;o=((c=a*c+((16383&p)<<14)+n[i]+o)>>28)+(p>>14)+u*f,n[i++]=268435455&c}return o},W=28),BigInteger_BigInteger.prototype.DB=W,BigInteger_BigInteger.prototype.DM=(1<<W)-1,BigInteger_BigInteger.prototype.DV=1<<W,BigInteger_BigInteger.prototype.FV=4503599627370496,BigInteger_BigInteger.prototype.F1=52-W,BigInteger_BigInteger.prototype.F2=2*W-52;var tx=[];for(J=0,G=48;J<=9;++J)tx[G++]=J;for(J=10,G=97;J<36;++J)tx[G++]=J;for(J=10,G=65;J<36;++J)tx[G++]=J;function int2char(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function nbv(e){var t=nbi();return t.fromInt(e),t}function nbits(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function randomBytes(e){return ti.lW.from(new tR().random(e).toString(),"hex")}Montgomery.prototype.convert=function(e){var t=nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger_BigInteger.ZERO)>0&&this.m.subTo(t,t),t},Montgomery.prototype.revert=function(e){var t=nbi();return e.copyTo(t),this.reduce(t),t},Montgomery.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Montgomery.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Montgomery.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},BigInteger_BigInteger.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},BigInteger_BigInteger.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},BigInteger_BigInteger.prototype.fromString=function(e,t){if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else if(4==t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n,i=e.length,o=!1,s=0;--i>=0;){var a=function(e,t){var n=tx[e.charCodeAt(t)];return null==n?-1:n}(e,i);if(a<0){"-"==e.charAt(i)&&(o=!0);continue}o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB)}this.clamp(),o&&BigInteger_BigInteger.ZERO.subTo(this,this)},BigInteger_BigInteger.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},BigInteger_BigInteger.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},BigInteger_BigInteger.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},BigInteger_BigInteger.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,o=this.DB-i,s=(1<<o)-1,a=Math.floor(e/this.DB),u=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|u,u=(this[n]&s)<<i;for(n=a-1;n>=0;--n)t[n]=0;t[a]=u,t.t=this.t+a+1,t.s=this.s,t.clamp()},BigInteger_BigInteger.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}var i=e%this.DB,o=this.DB-i,s=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&s)<<o,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&s)<<o),t.t=this.t-n,t.clamp()},BigInteger_BigInteger.prototype.subTo=function(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);n<o;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},BigInteger_BigInteger.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),o=n.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+n.t]=n.am(0,i[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger_BigInteger.ZERO.subTo(t,t)},BigInteger_BigInteger.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},BigInteger_BigInteger.prototype.divRemTo=function(e,t,n){var i=e.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null==n&&(n=nbi());var s=nbi(),a=this.s,u=e.s,c=this.DB-nbits(i[i.t-1]);c>0?(i.lShiftTo(c,s),o.lShiftTo(c,n)):(i.copyTo(s),o.copyTo(n));var f=s.t,p=s[f-1];if(0!=p){var g=p*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),y=this.FV/g,v=(1<<this.F1)/g,m=1<<this.F2,_=n.t,b=_-f,S=null==t?nbi():t;for(s.dlShiftTo(b,S),n.compareTo(S)>=0&&(n[n.t++]=1,n.subTo(S,n)),BigInteger_BigInteger.ONE.dlShiftTo(f,S),S.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--b>=0;){var w=n[--_]==p?this.DM:Math.floor(n[_]*y+(n[_-1]+m)*v);if((n[_]+=s.am(0,w,n,b,0,f))<w)for(s.dlShiftTo(b,S),n.subTo(S,n);n[_]<--w;)n.subTo(S,n)}null!=t&&(n.drShiftTo(f,t),a!=u&&BigInteger_BigInteger.ZERO.subTo(t,t)),n.t=f,n.clamp(),c>0&&n.rShiftTo(c,n),a<0&&BigInteger_BigInteger.ZERO.subTo(n,n)}}},BigInteger_BigInteger.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},BigInteger_BigInteger.prototype.addTo=function(e,t){for(var n=0,i=0,o=Math.min(e.t,this.t);n<o;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},BigInteger_BigInteger.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else if(4==e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var t,n,i=(1<<t)-1,o=!1,s="",a=this.t,u=this.DB-a*this.DB%t;if(a-- >0)for(u<this.DB&&(n=this[a]>>u)>0&&(o=!0,s=int2char(n));a>=0;)u<t?n=(this[a]&(1<<u)-1)<<t-u|this[--a]>>(u+=this.DB-t):(n=this[a]>>(u-=t)&i,u<=0&&(u+=this.DB,--a)),n>0&&(o=!0),o&&(s+=int2char(n));return o?s:"0"},BigInteger_BigInteger.prototype.negate=function(){var e=nbi();return BigInteger_BigInteger.ZERO.subTo(this,e),e},BigInteger_BigInteger.prototype.abs=function(){return this.s<0?this.negate():this},BigInteger_BigInteger.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},BigInteger_BigInteger.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)},BigInteger_BigInteger.prototype.mod=function(e){var t=nbi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger_BigInteger.ZERO)>0&&e.subTo(t,t),t},BigInteger_BigInteger.prototype.equals=function(e){return 0==this.compareTo(e)},BigInteger_BigInteger.prototype.add=function(e){var t=nbi();return this.addTo(e,t),t},BigInteger_BigInteger.prototype.subtract=function(e){var t=nbi();return this.subTo(e,t),t},BigInteger_BigInteger.prototype.multiply=function(e){var t=nbi();return this.multiplyTo(e,t),t},BigInteger_BigInteger.prototype.divide=function(e){var t=nbi();return this.divRemTo(e,t,null),t},BigInteger_BigInteger.prototype.modPow=function(e,t,n){var i,o=e.bitLength(),s=nbv(1),a=new Montgomery(t);if(o<=0)return s;var u=[],c=3,f=(i=o<18?1:o<48?3:o<144?4:o<768?5:6)-1,p=(1<<i)-1;if(u[1]=a.convert(this),i>1){var g=nbi();for(a.sqrTo(u[1],g);c<=p;)u[c]=nbi(),a.mulTo(g,u[c-2],u[c]),c+=2}var y,v,m=e.t-1,_=!0,b=nbi();for(o=nbits(e[m])-1;m>=0;){for(o>=f?y=e[m]>>o-f&p:(y=(e[m]&(1<<o+1)-1)<<f-o,m>0&&(y|=e[m-1]>>this.DB+o-f)),c=i;(1&y)==0;)y>>=1,--c;if((o-=c)<0&&(o+=this.DB,--m),_)u[y].copyTo(s),_=!1;else{for(;c>1;)a.sqrTo(s,b),a.sqrTo(b,s),c-=2;c>0?a.sqrTo(s,b):(v=s,s=b,b=v),a.mulTo(b,u[y],s)}for(;m>=0&&(e[m]&1<<o)==0;)a.sqrTo(s,b),v=s,s=b,b=v,--o<0&&(o=this.DB-1,--m)}var S=a.revert(s);return n(null,S),S},BigInteger_BigInteger.ZERO=nbv(0),BigInteger_BigInteger.ONE=nbv(1);var tU=/^[89a-f]/i,tD=function(){function AuthenticationHelper(e){this.N=new BigInteger_BigInteger("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new BigInteger_BigInteger("2",16),this.k=new BigInteger_BigInteger(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=ti.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var e=AuthenticationHelper.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(n,i){n&&e(n,null),t.largeAValue=i,e(null,t.largeAValue)})},e.generateRandomSmallA=function(){var e=randomBytes(128).toString("hex");return new BigInteger_BigInteger(e,16)},e.generateRandomString=function(){return randomBytes(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(e,t,n){var i=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,s=this.hash(o),a=randomBytes(16).toString("hex");this.SaltToHashDevices=this.padHex(new BigInteger_BigInteger(a,16)),this.g.modPow(new BigInteger_BigInteger(this.hexHash(this.SaltToHashDevices+s),16),this.N,function(e,t){e&&n(e,null),i.verifierDevices=i.padHex(t),n(null,null)})},e.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,function(e,i){e&&t(e,null),i.mod(n.N).equals(BigInteger_BigInteger.ZERO)&&t(Error("Illegal paramater. A mod N cannot be 0."),null),t(null,i)})},e.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new BigInteger_BigInteger(this.UHexHash,16)},e.hash=function(e){var t=new td.Sha256;t.update(e);var n=t.digestSync(),i=ti.lW.from(n).toString("hex");return Array(64-i.length).join("0")+i},e.hexHash=function(e){return this.hash(ti.lW.from(e,"hex"))},e.computehkdf=function(e,t){var n=ti.lW.concat([this.infoBits,ti.lW.from("\x01","utf8")]),i=new td.Sha256(t);i.update(e);var o=i.digestSync(),s=new td.Sha256(o);return s.update(n),s.digestSync().slice(0,16)},e.getPasswordAuthenticationKey=function(e,t,n,i,o){var s=this;if(n.mod(this.N).equals(BigInteger_BigInteger.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(BigInteger_BigInteger.ZERO))throw Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,u=this.hash(a),c=new BigInteger_BigInteger(this.hexHash(this.padHex(i)+u),16);this.calculateS(c,n,function(e,t){e&&o(e,null),o(null,s.computehkdf(ti.lW.from(s.padHex(t),"hex"),ti.lW.from(s.padHex(s.UValue),"hex")))})},e.calculateS=function(e,t,n){var i=this;this.g.modPow(e,this.N,function(o,s){o&&n(o,null),t.subtract(i.k.multiply(s)).modPow(i.smallAValue.add(i.UValue.multiply(e)),i.N,function(e,t){e&&n(e,null),n(null,t.mod(i.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},e.padHex=function(e){if(!(e instanceof BigInteger_BigInteger))throw Error("Not a BigInteger");var t=0>e.compareTo(BigInteger_BigInteger.ZERO),n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=tU.test(n)?"00"+n:n,t){var i=n.split("").map(function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join("");(n=new BigInteger_BigInteger(i,16).add(BigInteger_BigInteger.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},AuthenticationHelper}(),tB=function(){function CognitoJwtToken(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var e=CognitoJwtToken.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(ti.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},CognitoJwtToken}();function CognitoAccessToken_setPrototypeOf(e,t){return(CognitoAccessToken_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var tF=function(e){function CognitoAccessToken(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return CognitoAccessToken.prototype=Object.create(e.prototype),CognitoAccessToken.prototype.constructor=CognitoAccessToken,CognitoAccessToken_setPrototypeOf(CognitoAccessToken,e),CognitoAccessToken}(tB);function CognitoIdToken_setPrototypeOf(e,t){return(CognitoIdToken_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var tj=function(e){function CognitoIdToken(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return CognitoIdToken.prototype=Object.create(e.prototype),CognitoIdToken.prototype.constructor=CognitoIdToken,CognitoIdToken_setPrototypeOf(CognitoIdToken,e),CognitoIdToken}(tB),tM=function(){function CognitoRefreshToken(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return CognitoRefreshToken.prototype.getToken=function(){return this.token},CognitoRefreshToken}(),tL={userAgent:"aws-amplify/5.0.4",isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},tV=function(){function CognitoUserSession(e){var t=void 0===e?{}:e,n=t.IdToken,i=t.RefreshToken,o=t.AccessToken,s=t.ClockDrift;if(null==o||null==n)throw Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=i,this.accessToken=o,this.clockDrift=void 0===s?this.calculateClockDrift():s}var e=CognitoUserSession.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},e.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},CognitoUserSession}(),tq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tH=function(){function DateHelper(){}return DateHelper.prototype.getNowString=function(){var e=new Date,t=tK[e.getUTCDay()],n=tq[e.getUTCMonth()],i=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var s=e.getUTCMinutes();s<10&&(s="0"+s);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+i+" "+o+":"+s+":"+a+" UTC "+e.getUTCFullYear()},DateHelper}(),tW=function(){function CognitoUserAttribute(e){var t=void 0===e?{}:e,n=t.Name,i=t.Value;this.Name=n||"",this.Value=i||""}var e=CognitoUserAttribute.prototype;return e.getValue=function(){return this.Value},e.setValue=function(e){return this.Value=e,this},e.getName=function(){return this.Name},e.setName=function(e){return this.Name=e,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},CognitoUserAttribute}(),tG={},tz=function(){function MemoryStorage(){}return MemoryStorage.setItem=function(e,t){return tG[e]=t,tG[e]},MemoryStorage.getItem=function(e){return Object.prototype.hasOwnProperty.call(tG,e)?tG[e]:void 0},MemoryStorage.removeItem=function(e){return delete tG[e]},MemoryStorage.clear=function(){return tG={}},MemoryStorage}(),tJ=function(){function StorageHelper(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=tz}}return StorageHelper.prototype.getStorage=function(){return this.storageWindow},StorageHelper}(),tY="undefined"!=typeof navigator?tL.isReactNative?"react-native":navigator.userAgent:"nodejs",tQ=function(){function CognitoUser(e){if(null==e||null==e.Username||null==e.Pool)throw Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new tJ().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=CognitoUser.prototype;return e.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},e.initiateAuth=function(e,t){var n=this,i=e.getAuthParameters();i.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:i,ClientMetadata:o};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",s,function(e,i){if(e)return t.onFailure(e);var o=i.ChallengeName,s=i.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=i.Session,t.customChallenge(s)):(n.signInUserSession=n.getCognitoUserSession(i.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))})},e.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(e,t){var n,i,o=this,s=new tD(this.pool.getUserPoolName()),a=new tH,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,s.getLargeAValue(function(c,f){c&&t.onFailure(c),u.SRP_A=f.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var p=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),g={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:u,ClientMetadata:p};o.getUserContextData(o.username)&&(g.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",g,function(u,c){if(u)return t.onFailure(u);var f=c.ChallengeParameters;o.username=f.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new BigInteger_BigInteger(f.SRP_B,16),i=new BigInteger_BigInteger(f.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,e.getPassword(),n,i,function(e,n){e&&t.onFailure(e);var i=a.getNowString(),u=ti.lW.concat([ti.lW.from(o.pool.getUserPoolName(),"utf8"),ti.lW.from(o.username,"utf8"),ti.lW.from(f.SECRET_BLOCK,"base64"),ti.lW.from(i,"utf8")]),g=new td.Sha256(n);g.update(u);var y=g.digestSync(),v=ti.lW.from(y).toString("base64"),m={};m.USERNAME=o.username,m.PASSWORD_CLAIM_SECRET_BLOCK=f.SECRET_BLOCK,m.TIMESTAMP=i,m.PASSWORD_CLAIM_SIGNATURE=v,null!=o.deviceKey&&(m.DEVICE_KEY=o.deviceKey);var _={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:m,Session:c.Session,ClientMetadata:p};o.getUserContextData()&&(_.UserContextData=o.getUserContextData()),function respondToAuthChallenge(e,t){return o.client.request("RespondToAuthChallenge",e,function(n,i){return n&&"ResourceNotFoundException"===n.code&&-1!==n.message.toLowerCase().indexOf("device")?(m.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),respondToAuthChallenge(e,t)):t(n,i)})}(_,function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,s,t)})})})})},e.authenticateUserPlainUsernamePassword=function(e,t){var n=this,i={};if(i.USERNAME=this.username,i.PASSWORD=e.getPassword(),!i.PASSWORD){t.onFailure(Error("PASSWORD parameter is required"));return}var o=new tD(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:i,ClientMetadata:s};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,function(e,i){return e?t.onFailure(e):n.authenticateUserInternal(i,o,t)})},e.authenticateUserInternal=function(e,t,n){var i=this,o=e.ChallengeName,s=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,s);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,s);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,s);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,s);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(s);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var a=null,u=null,c=[],f=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(s&&(a=JSON.parse(e.ChallengeParameters.userAttributes),u=JSON.parse(e.ChallengeParameters.requiredAttributes)),u)for(var p=0;p<u.length;p++)c[p]=u[p].substr(f.length);return n.newPasswordRequired(a,c)}if("DEVICE_SRP_AUTH"===o){this.Session=e.Session,this.getDeviceResponse(n);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var g=e.AuthenticationResult.NewDeviceMetadata;if(null==g)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(o){if(o)return n.onFailure(o);var s={Salt:ti.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ti.lW.from(t.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=s.PasswordVerifier,i.deviceGroupKey=g.DeviceGroupKey,i.randomPassword=t.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:g.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:tY},function(t,o){return t?n.onFailure(t):(i.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary)?n.onSuccess(i.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(i.signInUserSession)})})},e.completeNewPasswordChallenge=function(e,t,n,i){var o=this;if(!e)return n.onFailure(Error("New password is required."));var s=new tD(this.pool.getUserPoolName()),a=s.getNewPasswordRequiredChallengeUserAttributePrefix(),u={};t&&Object.keys(t).forEach(function(e){u[a+e]=t[e]}),u.NEW_PASSWORD=e,u.USERNAME=this.username;var c={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:u,Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,s,n)})},e.getDeviceResponse=function(e,t){var n=this,i=new tD(this.deviceGroupKey),o=new tH,s={};s.USERNAME=this.username,s.DEVICE_KEY=this.deviceKey,i.getLargeAValue(function(a,u){a&&e.onFailure(a),s.SRP_A=u.toString(16);var c={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:s,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(c.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",c,function(t,s){if(t)return e.onFailure(t);var a=s.ChallengeParameters,u=new BigInteger_BigInteger(a.SRP_B,16),c=new BigInteger_BigInteger(a.SALT,16);i.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,c,function(t,i){if(t)return e.onFailure(t);var u=o.getNowString(),c=ti.lW.concat([ti.lW.from(n.deviceGroupKey,"utf8"),ti.lW.from(n.deviceKey,"utf8"),ti.lW.from(a.SECRET_BLOCK,"base64"),ti.lW.from(u,"utf8")]),f=new td.Sha256(i);f.update(c);var p=f.digestSync(),g=ti.lW.from(p).toString("base64"),y={};y.USERNAME=n.username,y.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,y.TIMESTAMP=u,y.PASSWORD_CLAIM_SIGNATURE=g,y.DEVICE_KEY=n.deviceKey;var v={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:y,Session:s.Session};n.getUserContextData()&&(v.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",v,function(t,i){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(i.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))})})})})},e.confirmRegistration=function(e,t,n,i){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,function(e){return e?n(e,null):n(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(e,t,n){var i=this,o={};o.USERNAME=this.username,o.ANSWER=e;var s=new tD(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,s,t)})},e.sendMFACode=function(e,t,n,i){var o=this,s={};s.USERNAME=this.username,s.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(s.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey);var u={ChallengeName:a,ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"===n.ChallengeName){o.getDeviceResponse(t);return}if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var i=new tD(o.pool.getUserPoolName());i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var s={Salt:ti.lW.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ti.lW.from(i.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=s.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=i.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:s,DeviceName:tY},function(e,i){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary)?t.onSuccess(o.signInUserSession,i.UserConfirmationNecessary):t.onSuccess(o.signInUserSession)})})})},e.changePassword=function(e,t,n,i){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return n(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(e){return e?n(e,null):n(null,"SUCCESS")})},e.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},e.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n(e,null):n(null,"SUCCESS")})},e.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},e.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))})},e.updateAttributes=function(e,t,n){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},function(e,n){return e?t(e,null):i.getUserData(function(){return t(null,"SUCCESS",n)},{bypassCache:!0})})},e.getUserAttributes=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){if(t)return e(t,null);for(var i=[],o=0;o<n.UserAttributes.length;o++){var s={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},a=new tW(s);i.push(a)}return e(null,i)})},e.getMFAOptions=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e(t,null):e(null,n.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(n){var i=t.signInUserSession.getRefreshToken();i&&i.getToken()?t.refreshSession(i,n,e.clientMetadata):n()})},e.getUserData=function(e,t){var n=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(Error("User is not authenticated"),null);var i=this.getUserDataFromCache();if(!i){this.fetchUserData().then(function(t){e(null,t)}).catch(e);return}if(this.isFetchUserDataAndTokenRequired(t)){this.fetchUserData().then(function(e){return n.refreshSessionIfPossible(t).then(function(){return e})}).then(function(t){return e(null,t)}).catch(e);return}try{e(null,JSON.parse(i));return}catch(t){this.clearCachedUserData(),e(t,null);return}},e.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},e.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},e.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(t){return e.cacheUserData(t),t})},e.deleteAttributes=function(e,t){var n=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):n.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,function(t,n){return t?e(t,null):e(null,n)})},e.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".idToken";if(this.storage.getItem(i)){var o=new tj({IdToken:this.storage.getItem(i)}),s=new tF({AccessToken:this.storage.getItem(n+".accessToken")}),a=new tM({RefreshToken:this.storage.getItem(n+".refreshToken")}),u=parseInt(this.storage.getItem(n+".clockDrift"),0)||0,c=new tV({IdToken:o,AccessToken:s,RefreshToken:a,ClockDrift:u});if(c.isValid())return this.signInUserSession=c,e(null,this.signInUserSession);if(!a.getToken())return e(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(a,e,t.clientMetadata)}else e(Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(e,t,n){var i=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,s={};s.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),u=a+".LastAuthUser";if(this.storage.getItem(u)){this.username=this.storage.getItem(u);var c=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(c),s.DEVICE_KEY=this.deviceKey}var f={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:s,ClientMetadata:n};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",f,function(t,n){if(t)return"NotAuthorizedException"===t.code&&i.clearCachedUser(),o(t,null);if(n){var s=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(s,"RefreshToken")||(s.RefreshToken=e.getToken()),i.signInUserSession=i.getCognitoUserSession(s),i.cacheTokens(),o(null,i.signInUserSession)}})},e.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",i=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(i,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(e+".LastAuthUser",this.username)},e.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.setItem(e+".deviceKey",this.deviceKey),this.storage.setItem(e+".randomPasswordKey",this.randomPassword),this.storage.setItem(e+".deviceGroupKey",this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(e+".randomPasswordKey"),this.deviceGroupKey=this.storage.getItem(e+".deviceGroupKey"))},e.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.removeItem(e+".deviceKey"),this.storage.removeItem(e+".randomPasswordKey"),this.storage.removeItem(e+".deviceGroupKey")},e.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",i=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(i),this.storage.removeItem(e+".LastAuthUser"),this.storage.removeItem(o)},e.getCognitoUserSession=function(e){var t=new tj(e),n=new tF(e),i=new tM(e);return new tV({IdToken:t,AccessToken:n,RefreshToken:i})},e.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)})},e.confirmPassword=function(e,t,n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")})},e.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")})},e.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,n){return t?e.onFailure(t):e.onSuccess(n)})},e.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},e.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},e.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},e.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(Error("User is not authenticated"));var i={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(i.PaginationToken=t),this.client.request("ListDevices",i,function(e,t){return e?n.onFailure(e):n.onSuccess(t)})},e.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},e.signOut=function(e){var t=this;if(!e||"function"!=typeof e){this.cleanClientData();return}this.getSession(function(n,i){if(n)return e(n);t.revokeTokens(function(n){t.cleanClientData(),e(n)})})},e.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},e.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},function(e){if(e)return n(e);n()})},e.sendMFASelectionAnswer=function(e,t){var n=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,function(i,o){return i?t.onFailure(i):(n.Session=o.Session,"SMS_MFA"===e)?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0})},e.getUserContextData=function(){return this.pool.getUserContextData(this.username)},e.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(n,i){return n?e.onFailure(n):(t.Session=i.Session,e.associateSecretCode(i.SecretCode))})},e.verifySoftwareToken=function(e,t,n){var i=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?n.onFailure(e):n.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return n.onFailure(e);i.Session=t.Session;var o={};o.USERNAME=i.username;var s={ChallengeName:"MFA_SETUP",ClientId:i.pool.getClientId(),ChallengeResponses:o,Session:i.Session};i.getUserContextData()&&(s.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",s,function(e,t){return e?n.onFailure(e):(i.signInUserSession=i.getCognitoUserSession(t.AuthenticationResult),i.cacheTokens(),n.onSuccess(i.signInUserSession))})})},CognitoUser}();function UserAgent(){}UserAgent.prototype.userAgent=tL.userAgent;var addAuthCategoryToCognitoUserAgent=function(){UserAgent.category="auth"},addFrameworkToCognitoUserAgent=function(e){UserAgent.framework=e},UserAgent_getAmplifyUserAgent=function(e){var t=UserAgent.category?" "+UserAgent.category:"",n=UserAgent.framework?" framework/"+UserAgent.framework:"";return""+UserAgent.prototype.userAgent+t+n};function Client_wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(Client_wrapNativeSuper=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return Client_construct(e,arguments,Client_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),Client_setPrototypeOf(Wrapper,e)})(e)}function Client_construct(e,t,n){return(Client_construct=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Client_setPrototypeOf(o,n.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function Client_setPrototypeOf(e,t){return(Client_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Client_getPrototypeOf(e){return(Client_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var t$=function(e){function CognitoError(t,n,i,o){var s;return(s=e.call(this,t)||this).code=n,s.name=i,s.statusCode=o,s}return CognitoError.prototype=Object.create(e.prototype),CognitoError.prototype.constructor=CognitoError,Client_setPrototypeOf(CognitoError,e),CognitoError}(Client_wrapNativeSuper(Error)),tZ=function(){function Client(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var i=(n||{}).credentials;this.fetchOptions=i?{credentials:i}:{}}var e=Client.prototype;return e.promisifyRequest=function(e,t){var n=this;return new Promise(function(i,o){n.request(e,t,function(e,t){e?o(new t$(e.message,e.code,e.name,e.statusCode)):i(t)})})},e.requestWithRetry=function(e,t,n){var i=this;(function Client_retry(e,t,n,i){if(void 0===i&&(i=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return tX.debug(e.name+" attempt #"+i+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(o){if(tX.debug("error on "+e.name,o),o&&o.nonRetryable)throw tX.debug(e.name+" non retryable error",o),o;var s=n(i,t,o);if(tX.debug(e.name+" retrying in "+s+" ms"),!1!==s)return new Promise(function(e){return setTimeout(e,s)}).then(function(){return Client_retry(e,t,n,i+1)});throw o})})(function(t){return new Promise(function(n,o){i.request(e,t,function(e,t){e?o(e):n(t)})})},[t],function(e){var t=100*Math.pow(2,e)+100*Math.random();return!(t>5e3)&&t}).then(function(e){return n(null,e)}).catch(function(e){return n(e)})},e.request=function(e,t,n){var i,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":UserAgent_getAmplifyUserAgent(),"Cache-Control":"no-store"},s=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,s).then(function(e){return i=e,e},function(e){if(e instanceof TypeError)throw Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(i.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),o=Error(e.message||e.Message||null);return o.name=t,o.code=t,n(o)}).catch(function(e){if(i&&i.headers&&i.headers.get("x-amzn-errortype"))try{var t=i.headers.get("x-amzn-errortype").split(":")[0],o=Error(i.status?i.status.toString():null);return o.code=t,o.name=t,o.statusCode=i.status,n(o)}catch(e){}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)})},Client}(),tX={debug:function(){}},t0=function(){function CognitoUserPool(e,t){var n=e||{},i=n.UserPoolId,o=n.ClientId,s=n.endpoint,a=n.fetchOptions,u=n.AdvancedSecurityDataCollectionFlag;if(!i||!o)throw Error("Both UserPoolId and ClientId are required.");if(i.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(i))throw Error("Invalid UserPoolId format.");var c=i.split("_")[0];this.userPoolId=i,this.clientId=o,this.client=new tZ(c,s,a),this.advancedSecurityDataCollectionFlag=!1!==u,this.storage=e.Storage||new tJ().getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var e=CognitoUserPool.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},e.getClientId=function(){return this.clientId},e.signUp=function(e,t,n,i,o,s){var a=this,u={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:i,ClientMetadata:s};this.getUserContextData(e)&&(u.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",u,function(t,n){if(t)return o(t,null);var i={Username:e,Pool:a,Storage:a.storage};return o(null,{user:new tQ(i),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails})})},e.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new tQ(n)}return null},e.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},CognitoUserPool}(),t1=n(7258),t2=function(){function CookieStorage(e){if(void 0===e&&(e={}),e.domain&&(this.domain=e.domain),e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var e=CookieStorage.prototype;return e.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),t1.set(e,t,n),t1.get(e)},e.getItem=function(e){return t1.get(e)},e.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),t1.remove(e,t)},e.clear=function(){for(var e=t1.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},CookieStorage}(),launchUri=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},setState=function(e){window.sessionStorage.setItem("oauth_state",e)},getState=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},setPKCE=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},getPKCE=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},t3="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",dispatchAuthEvent=function(e,t,n){e4.dispatch("auth",{event:e,data:t,message:n},"Auth",t3)},t4=new ei.k("OAuth"),t5=function(){function OAuth(e){var t=e.config,n=e.cognitoClientId,i=e.scopes,o=void 0===i?[]:i;if(this._urlOpener=t.urlOpener||launchUri,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return OAuth.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})},OAuth.prototype.oauthSignIn=function(e,t,n,i,o,s){void 0===e&&(e="code"),void 0===o&&(o=V.Cognito);var a=this._generateState(32),u=s?a+"-"+s.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(""):a;setState(u);var c=this._generateRandom(128);setPKCE(c);var f=this._generateChallenge(c),p=this._scopes.join(" "),g="https://"+t+"/oauth2/authorize?"+Object.entries((0,en.__assign)((0,en.__assign)({redirect_uri:n,response_type:e,client_id:i,identity_provider:o,scope:p,state:u},"code"===e?{code_challenge:f}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(e){var t=(0,en.__read)(e,2),n=t[0],i=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(i)}).join("&");t4.debug("Redirecting to "+g),this._urlOpener(g,n)},OAuth.prototype._handleCodeFlow=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s,a,u,c,f,p,g,y,v,m,_,b;return(0,en.__generator)(this,function(S){switch(S.label){case 0:if(t=((0,tr.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,i=(0,en.__read)(t,2),o=i[0],s=i[1];return(0,en.__assign)((0,en.__assign)({},e),((n={})[o]=s,n))},{code:void 0}).code,n=(0,tr.parse)(e).pathname||"/",i=(0,tr.parse)(this._config.redirectSignIn).pathname||"/",!t||n!==i)return[2];return dispatchAuthEvent("codeFlow",{},"Retrieving tokens from "+(o="https://"+this._config.domain+"/oauth2/token")),s=isCognitoHostedOpts(this._config)?this._cognitoClientId:this._config.clientID,a=isCognitoHostedOpts(this._config)?this._config.redirectSignIn:this._config.redirectUri,u=getPKCE(),c=(0,en.__assign)({grant_type:"authorization_code",code:t,client_id:s,redirect_uri:a},u?{code_verifier:u}:{}),t4.debug("Calling token endpoint: "+o+" with",c),f=Object.entries(c).map(function(e){var t=(0,en.__read)(e,2),n=t[0],i=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(i)}).join("&"),p={category:O.Auth,action:R.FederatedSignIn},[4,fetch(o,{method:"POST",headers:((b={"Content-Type":"application/x-www-form-urlencoded"})[e9]=getAmplifyUserAgent(p),b),body:f})];case 1:return[4,S.sent().json()];case 2:if(y=(g=S.sent()).access_token,v=g.refresh_token,m=g.id_token,_=g.error)throw Error(_);return[2,{accessToken:y,refreshToken:v,idToken:m}]}})})},OAuth.prototype._handleImplicitFlow=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i;return(0,en.__generator)(this,function(o){return n=(t=((0,tr.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n,i=(0,en.__read)(t,2),o=i[0],s=i[1];return(0,en.__assign)((0,en.__assign)({},e),((n={})[o]=s,n))},{id_token:void 0,access_token:void 0})).id_token,i=t.access_token,dispatchAuthEvent("implicitFlow",{},"Got tokens from "+e),t4.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]})})},OAuth.prototype.handleAuthResponse=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s,a,u;return(0,en.__generator)(this,function(c){switch(c.label){case 0:if(c.trys.push([0,5,,6]),n=(t=e?(0,en.__assign)((0,en.__assign)({},((0,tr.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,en.__read)(t,2),i=n[0],o=n[1];return e[i]=o,e},{})),((0,tr.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=(0,en.__read)(t,2),i=n[0],o=n[1];return e[i]=o,e},{})):{}).error,i=t.error_description,n)throw Error(i);if(o=this._validateState(t),t4.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType)return[3,2];return s=[{}],[4,this._handleCodeFlow(e)];case 1:return[2,en.__assign.apply(void 0,[en.__assign.apply(void 0,s.concat([c.sent()])),{state:o}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,en.__assign.apply(void 0,[en.__assign.apply(void 0,a.concat([c.sent()])),{state:o}])];case 4:return[3,6];case 5:throw u=c.sent(),t4.debug("Error handling auth response.",u),u;case 6:return[2]}})})},OAuth.prototype._validateState=function(e){if(e){var t=getState(),n=e.state;if(t&&t!==n)throw Error("Invalid state in OAuth flow");return n}},OAuth.prototype.signOut=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t,n;return(0,en.__generator)(this,function(i){return e="https://"+this._config.domain+"/logout?",t=isCognitoHostedOpts(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=isCognitoHostedOpts(this._config)?this._config.redirectSignOut:this._config.returnTo,dispatchAuthEvent("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+(e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map(function(e){var t=(0,en.__read)(e,2);return t[0]+"="+t[1]}).join("&"))),t4.debug("Signing out from "+e),[2,this._urlOpener(e,n)]})})},OAuth.prototype._generateState=function(e){for(var t="",n=e,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=i[Math.round(Math.random()*(i.length-1))];return t},OAuth.prototype._generateChallenge=function(e){var t=new td.Sha256;t.update(e);var n=t.digestSync(),i=ti.lW.from(n).toString("base64");return this._base64URL(i)},OAuth.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},OAuth.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=66*Math.random()|0;return this._bufferToString(t)},OAuth.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<e.byteLength;i+=1){var o=e[i]%t.length;n.push(t[o])}return n.join("")},OAuth}(),urlListener=function(e){if(browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(browserOrNode().isNode);else throw Error("Not supported")};(m=Y||(Y={})).DEFAULT_MSG="Authentication Error",m.EMPTY_EMAIL="Email cannot be empty",m.EMPTY_PHONE="Phone number cannot be empty",m.EMPTY_USERNAME="Username cannot be empty",m.INVALID_USERNAME="The username should either be a string or one of the sign in types",m.EMPTY_PASSWORD="Password cannot be empty",m.EMPTY_CODE="Confirmation code cannot be empty",m.SIGN_UP_ERROR="Error creating account",m.NO_MFA="No valid MFA method provided",m.INVALID_MFA="Invalid MFA type",m.EMPTY_CHALLENGE="Challenge response cannot be empty",m.NO_USER_SESSION="Failed to get the session because the user is empty",m.NETWORK_ERROR="Network Error",m.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",m.AUTOSIGNIN_ERROR="Please use your credentials to sign in";var t6=new ei.k("AuthError"),t8=function(e){function AuthError(t){var n=this,i=t9[t],o=i.message,s=i.log;return(n=e.call(this,o)||this).constructor=AuthError,Object.setPrototypeOf(n,AuthError.prototype),n.name="AuthError",n.log=s||o,t6.error(n.log),n}return(0,en.__extends)(AuthError,e),AuthError}(Error),t7=function(e){function NoUserPoolError(t){var n=e.call(this,t)||this;return n.constructor=NoUserPoolError,Object.setPrototypeOf(n,NoUserPoolError.prototype),n.name="NoUserPoolError",n}return(0,en.__extends)(NoUserPoolError,e),NoUserPoolError}(t8),t9={noConfig:{message:Y.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Y.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Y.EMPTY_USERNAME},invalidUsername:{message:Y.INVALID_USERNAME},emptyPassword:{message:Y.EMPTY_PASSWORD},emptyCode:{message:Y.EMPTY_CODE},signUpError:{message:Y.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Y.NO_MFA},invalidMFA:{message:Y.INVALID_MFA},emptyChallengeResponse:{message:Y.EMPTY_CHALLENGE},noUserSession:{message:Y.NO_USER_SESSION},deviceConfig:{message:Y.DEVICE_CONFIG},networkError:{message:Y.NETWORK_ERROR},autoSignInError:{message:Y.AUTOSIGNIN_ERROR},default:{message:Y.DEFAULT_MSG}},re=new ei.k("AuthClass"),rt="aws.cognito.signin.user.admin",rr="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Auth_dispatchAuthEvent=function(e,t,n){e4.dispatch("auth",{event:e,data:t,message:n},"Auth",rr)},rn=new(function(){function AuthClass(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=e8,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?Auth_dispatchAuthEvent("tokenRefresh",void 0,"New token retrieved"):Auth_dispatchAuthEvent("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),e4.listen("auth",function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}),addAuthCategoryToCognitoUserAgent(),addFrameworkToCognitoUserAgent(eQ.framework),eQ.observeFrameworkChanges(function(){addFrameworkToCognitoUserAgent(eQ.framework)})}return AuthClass.prototype.getModuleName=function(){return"Auth"},AuthClass.prototype.configure=function(e){var t=this;if(!e)return this._config||{};re.debug("configure Auth");var n=Object.assign({},this._config,parseAWSExports(e).Auth,e);this._config=n;var i=this._config,o=i.userPoolId,s=i.userPoolWebClientId,a=i.cookieStorage,u=i.oauth,c=i.region,f=i.identityPoolId,p=i.mandatorySignIn,g=i.refreshHandlers,y=i.identityPoolRegion,v=i.clientMetadata,m=i.endpoint,_=i.storage;if(_){if(!this._isValidAuthStorage(_))throw re.error("The storage in the Auth config is not valid!"),Error("Empty storage object");this._storage=_}else a?this._storage=new t2(a):this._storage=e.ssr?new tk:new ew().getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var b={UserPoolId:o,ClientId:s,endpoint:m};b.Storage=this._storage,this.userPool=new t0(b,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:p,region:c,userPoolId:o,identityPoolId:f,refreshHandlers:g,storage:this._storage,identityPoolRegion:y});var S=u?isCognitoHostedOpts(this._config.oauth)?u:u.awsCognito:void 0;if(S){var w=Object.assign({cognitoClientId:s,UserPoolId:o,domain:S.domain,scopes:S.scope,redirectSignIn:S.redirectSignIn,redirectSignOut:S.redirectSignOut,responseType:S.responseType,Storage:this._storage,urlOpener:S.urlOpener,clientMetadata:v},S.options);this._oAuthHandler=new t5({scopes:w.scopes,config:w,cognitoClientId:w.cognitoClientId});var C={};urlListener(function(e){var n=e.url;C[n]||(C[n]=!0,t._handleAuthResponse(n))})}return Auth_dispatchAuthEvent("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(Auth_dispatchAuthEvent("autoSignIn_failure",null,q.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},AuthClass.prototype.signUp=function(e){for(var t,n,i,o,s=this,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(!this.userPool)return this.rejectNoUserPool();var c=null,f=null,p=[],g=null,y={enabled:!1},v={},m={};if(e&&"string"==typeof e){c=e,f=a?a[0]:null;var _=a?a[1]:null,b=a?a[2]:null;_&&p.push(new tW({Name:"email",Value:_})),b&&p.push(new tW({Name:"phone_number",Value:b}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(q.SignUpError);c=e.username,f=e.password,e&&e.clientMetadata?o=e.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var S=e.attributes;S&&Object.keys(S).map(function(e){p.push(new tW({Name:e,Value:S[e]}))});var w=e.validationData;w&&(g=[],Object.keys(w).map(function(e){g.push(new tW({Name:e,Value:w[e]}))})),(y=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),v=null!==(n=y.validationData)&&void 0!==n?n:{},m=null!==(i=y.clientMetaData)&&void 0!==i?i:{})}return c?f?(re.debug("signUp attrs:",p),re.debug("signUp validation data:",g),new Promise(function(e,t){s.userPool.signUp(c,f,p,g,function(n,i){n?(Auth_dispatchAuthEvent("signUp_failure",n,c+" failed to signup"),t(n)):(Auth_dispatchAuthEvent("signUp",i,c+" has signed up successfully"),y.enabled&&s.handleAutoSignIn(c,f,v,m,i),e(i))},o)})):this.rejectAuthError(q.EmptyPassword):this.rejectAuthError(q.EmptyUsername)},AuthClass.prototype.handleAutoSignIn=function(e,t,n,i,o){this.autoSignInInitiated=!0;var s=new tP({Username:e,Password:t,ValidationData:n,ClientMetadata:i});o.userConfirmed?this.signInAfterUserConfirmed(s):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(s):this.handleCodeAutoSignIn(s)},AuthClass.prototype.handleCodeAutoSignIn=function(e){var t=this,listenEvent=function(n){"confirmSignUp"===n.payload.event&&t.signInAfterUserConfirmed(e,listenEvent)};e4.listen("auth",listenEvent)},AuthClass.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),i=setInterval(function(){Date.now()-n>18e4?(clearInterval(i),Auth_dispatchAuthEvent("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,i)},5e3)},AuthClass.prototype.signInAfterUserConfirmed=function(e,t,n){return(0,en.__awaiter)(this,void 0,void 0,function(){var i,o,s=this;return(0,en.__generator)(this,function(a){switch(a.label){case 0:i=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.authenticateUser(e,this.authCallbacks(i,function(i){Auth_dispatchAuthEvent("autoSignIn",i,e.getUsername()+" has signed in successfully"),t&&e4.remove("auth",t),n&&(clearInterval(n),s._storage.removeItem("amplify-polling-started")),s._storage.removeItem("amplify-auto-sign-in")},function(e){re.error(e),s._storage.removeItem("amplify-auto-sign-in")}))];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),re.error(o),[3,4];case 4:return[2]}})})},AuthClass.prototype.confirmSignUp=function(e,t,n){var i,o=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(q.EmptyUsername);if(!t)return this.rejectAuthError(q.EmptyCode);var s=this.createCognitoUser(e),a=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?i=n.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata),new Promise(function(n,u){s.confirmRegistration(t,a,function(t,i){t?u(t):(Auth_dispatchAuthEvent("confirmSignUp",i,e+" has been confirmed successfully"),o.isTrueStorageValue("amplify-auto-sign-in")&&!o.autoSignInInitiated&&(Auth_dispatchAuthEvent("autoSignIn_failure",null,q.AutoSignInError),o._storage.removeItem("amplify-auto-sign-in")),n(i))},i)})},AuthClass.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},AuthClass.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(q.EmptyUsername);var n=this.createCognitoUser(e);return new Promise(function(e,i){n.resendConfirmationCode(function(t,n){t?i(t):e(n)},t)})},AuthClass.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,s={};if("string"==typeof e)i=e,o=t;else{if(!e.username)return this.rejectAuthError(q.InvalidUsername);void 0!==t&&re.warn("The password should be defined under the first parameter object!"),i=e.username,o=e.password,s=e.validationData}if(!i)return this.rejectAuthError(q.EmptyUsername);var a=new tP({Username:i,Password:o,ValidationData:s,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},AuthClass.prototype.authCallbacks=function(e,t,n){var i=this,o=this;return{onSuccess:function(s){return(0,en.__awaiter)(i,void 0,void 0,function(){var i,a,u,c;return(0,en.__generator)(this,function(f){switch(f.label){case 0:re.debug(s),delete e.challengeName,delete e.challengeParam,f.label=1;case 1:return f.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return f.sent(),[4,this.Credentials.set(s,"session")];case 3:return i=f.sent(),re.debug("succeed to get cognito credentials",i),[3,9];case 4:return a=f.sent(),re.debug("cannot get cognito credentials",a),[3,9];case 5:return f.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=f.sent(),o.user=u,Auth_dispatchAuthEvent("signIn",u,"A user "+e.getUsername()+" has been signed in"),t(u),[3,8];case 7:return c=f.sent(),re.error("Failed to get the signed in user",c),n(c),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(t){re.debug("signIn failure",t),Auth_dispatchAuthEvent("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){re.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,i){re.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=i,t(e)},mfaSetup:function(n,i){re.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=i,t(e)},newPasswordRequired:function(n,i){re.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:i},t(e)},totpRequired:function(n,i){re.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=i,t(e)},selectMFAType:function(n,i){re.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=i,t(e)}}},AuthClass.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(i,o){n.authenticateUser(e,t.authCallbacks(n,function(e){t.pendingSignIn=null,i(e)},function(e){t.pendingSignIn=null,o(e)}))}),this.pendingSignIn},AuthClass.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,o){n.initiateAuth(e,t.authCallbacks(n,i,o))})},AuthClass.prototype.getMFAOptions=function(e){return new Promise(function(t,n){e.getMFAOptions(function(e,i){if(e){re.debug("get MFA Options failed",e),n(e);return}re.debug("get MFA options success",i),t(i)})})},AuthClass.prototype.getPreferredMFA=function(e,t){var n=this,i=this;return new Promise(function(o,s){var a=n._config.clientMetadata,u=!!t&&t.bypassCache;e.getUserData(function(t,a){return(0,en.__awaiter)(n,void 0,void 0,function(){var n,u;return(0,en.__generator)(this,function(c){switch(c.label){case 0:if(!t)return[3,5];if(re.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return c.sent(),[3,4];case 3:return n=c.sent(),s(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return s(t),[2];case 5:if(!(u=i._getMfaTypeFromUserData(a)))return s("invalid MFA Type"),[2];return o(u),[2]}})})},{bypassCache:u,clientMetadata:a})})},AuthClass.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var i=e.UserMFASettingList;i?0===i.length?t="NOMFA":re.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},AuthClass.prototype._getUserData=function(e,t){var n=this;return new Promise(function(i,o){e.getUserData(function(t,s){return(0,en.__awaiter)(n,void 0,void 0,function(){var n;return(0,en.__generator)(this,function(a){switch(a.label){case 0:if(!t)return[3,5];if(re.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),o(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:i(s),a.label=6;case 6:return[2]}})})},t)})},AuthClass.prototype.setPreferredMFA=function(e,t){return(0,en.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c=this;return(0,en.__generator)(this,function(f){switch(f.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=f.sent(),o=null,s=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if("NOMFA"===(u=f.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(q.InvalidMFA)];s={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach(function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(s={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return re.debug("no validmfa method provided"),[2,this.rejectAuthError(q.NoMFA)];case 7:return[2,new Promise(function(t,i){e.setUserMfaPreference(o,s,function(o,s){if(o)return re.debug("Set user mfa preference error",o),i(o);re.debug("Set user mfa success",s),re.debug("Caching the latest user data into local"),e.getUserData(function(n,o){return(0,en.__awaiter)(c,void 0,void 0,function(){var o;return(0,en.__generator)(this,function(a){switch(a.label){case 0:if(!n)return[3,5];if(re.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),i(Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(n)];case 5:return[2,t(s)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},AuthClass.prototype.disableSMS=function(e){return new Promise(function(t,n){e.disableMFA(function(e,i){if(e){re.debug("disable mfa failed",e),n(e);return}re.debug("disable mfa succeed",i),t(i)})})},AuthClass.prototype.enableSMS=function(e){return new Promise(function(t,n){e.enableMFA(function(e,i){if(e){re.debug("enable mfa failed",e),n(e);return}re.debug("enable mfa succeed",i),t(i)})})},AuthClass.prototype.setupTOTP=function(e){return new Promise(function(t,n){e.associateSoftwareToken({onFailure:function(e){re.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){re.debug("associateSoftwareToken success",e),t(e)}})})},AuthClass.prototype.verifyTotpToken=function(e,t){re.debug("verification totp token",e,t),e&&"function"==typeof e.getSignInUserSession&&(n=e.getSignInUserSession());var n,i=null==n?void 0:n.isValid();return new Promise(function(n,o){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){re.debug("verifyTotpToken failed",e),o(e)},onSuccess:function(t){i||Auth_dispatchAuthEvent("signIn",e,"A user "+e.getUsername()+" has been signed in"),Auth_dispatchAuthEvent("verify",e,"A user "+e.getUsername()+" has been verified"),re.debug("verifyTotpToken success",t),n(t)}})})},AuthClass.prototype.confirmSignIn=function(e,t,n,i){var o=this;if(void 0===i&&(i=this._config.clientMetadata),!t)return this.rejectAuthError(q.EmptyCode);var s=this;return new Promise(function(a,u){e.sendMFACode(t,{onSuccess:function(t){return(0,en.__awaiter)(o,void 0,void 0,function(){var n,i,o,u;return(0,en.__generator)(this,function(c){switch(c.label){case 0:re.debug(t),c.label=1;case 1:return c.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=c.sent(),re.debug("succeed to get cognito credentials",n),[3,10];case 4:return i=c.sent(),re.debug("cannot get cognito credentials",i),[3,10];case 5:s.user=e,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return o=c.sent(),e.attributes=o.attributes,[3,9];case 8:return u=c.sent(),re.debug("cannot get updated Cognito User",u),[3,9];case 9:return Auth_dispatchAuthEvent("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 10:return[2]}})})},onFailure:function(e){re.debug("confirm signIn failure",e),u(e)}},n,i)})},AuthClass.prototype.completeNewPassword=function(e,t,n,i){var o=this;if(void 0===n&&(n={}),void 0===i&&(i=this._config.clientMetadata),!t)return this.rejectAuthError(q.EmptyPassword);var s=this;return new Promise(function(a,u){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return(0,en.__awaiter)(o,void 0,void 0,function(){var n,i;return(0,en.__generator)(this,function(o){switch(o.label){case 0:re.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),re.debug("succeed to get cognito credentials",n),[3,6];case 4:return i=o.sent(),re.debug("cannot get cognito credentials",i),[3,6];case 5:return s.user=e,Auth_dispatchAuthEvent("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}})})},onFailure:function(e){re.debug("completeNewPassword failure",e),Auth_dispatchAuthEvent("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),u(e)},mfaRequired:function(t,n){re.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){re.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){re.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},i)})},AuthClass.prototype.sendCustomChallengeAnswer=function(e,t,n){var i=this;return(void 0===n&&(n=this._config.clientMetadata),this.userPool)?t?new Promise(function(o,s){e.sendCustomChallengeAnswer(t,i.authCallbacks(e,o,s),n)}):this.rejectAuthError(q.EmptyChallengeResponse):this.rejectNoUserPool()},AuthClass.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise(function(i,o){n.userSession(e).then(function(n){e.deleteAttributes(t,function(e,t){return e?o(e):i(t)})})})},AuthClass.prototype.deleteUser=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t,n=this;return(0,en.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw e=i.sent(),re.debug("Failed to sync cache info into memory",e),Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(e,i){return(0,en.__awaiter)(n,void 0,void 0,function(){var n,o=this;return(0,en.__generator)(this,function(s){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return re.debug("Failed to get user from user pool"),[2,i(Error("No current user."))];n.getSession(function(s,a){return(0,en.__awaiter)(o,void 0,void 0,function(){var o,a=this;return(0,en.__generator)(this,function(u){switch(u.label){case 0:if(!s)return[3,5];if(re.debug("Failed to get the user session",s),!this.isSessionInvalid(s))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return u.sent(),[3,4];case 3:return o=u.sent(),i(Error("Session is invalid due to: "+s.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(s)];case 5:n.deleteUser(function(o,s){if(o)i(o);else{Auth_dispatchAuthEvent("userDeleted",s,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){re.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,i):(Auth_dispatchAuthEvent("signOut",a.user,"A user has been signed out"),e(s))}}),u.label=6;case 6:return[2]}})})})}else re.debug("no Congito User pool"),i(Error("Cognito User pool does not exist"));return[2]})})})]}})})},AuthClass.prototype.updateUserAttributes=function(e,t,n){var i=this;void 0===n&&(n=this._config.clientMetadata);var o=[],s=this;return new Promise(function(a,u){s.userSession(e).then(function(s){for(var c in t)if("sub"!==c&&0>c.indexOf("_verified")){var f={Name:c,Value:t[c]};o.push(f)}e.updateAttributes(o,function(e,n,o){return e?(Auth_dispatchAuthEvent("updateUserAttributes_failure",e,"Failed to update attributes"),u(e)):(Auth_dispatchAuthEvent("updateUserAttributes",i.createUpdateAttributesResultList(t,null==o?void 0:o.CodeDeliveryDetailsList),"Attributes successfully updated"),a(n))},n)})})},AuthClass.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach(function(e){n[e]={isUpdated:!0};var i=null==t?void 0:t.find(function(t){return t.AttributeName===e});i&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=i)}),n},AuthClass.prototype.userAttributes=function(e){var t=this;return new Promise(function(n,i){t.userSession(e).then(function(t){e.getUserAttributes(function(e,t){e?i(e):n(t)})})})},AuthClass.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(e){var n=t.attributesToObject(e),i={},o={};return n.email&&(n.email_verified?o.email=n.email:i.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:i.phone_number=n.phone_number),{verified:o,unverified:i}})},AuthClass.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},AuthClass.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},AuthClass.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},AuthClass.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},AuthClass.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},AuthClass.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},AuthClass.prototype.isPasswordResetRequiredError=function(e){return this.isErrorWithMessage(e)&&"Password reset required for the user"===e.message},AuthClass.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},AuthClass.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)||this.isPasswordResetRequiredError(e)},AuthClass.prototype.cleanUpInvalidSession=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,en.__generator)(this,function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),re.debug("failed to clear cached items"),[3,4];case 4:if(this.isSignedInHostedUI())return[2,new Promise(function(e,n){t.oAuthSignOutRedirect(e,n)})];return Auth_dispatchAuthEvent("signOut",this.user,"A user has been signed out"),[2]}})})},AuthClass.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(n,i){t._storageSync.then(function(){return(0,en.__awaiter)(t,void 0,void 0,function(){var t,o,s,a,u,c=this;return(0,en.__generator)(this,function(f){switch(f.label){case 0:if(!this.isOAuthInProgress())return[3,2];return re.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(e){var t=setTimeout(function(){re.debug("OAuth signIn in progress timeout"),e4.remove("auth",hostedUISignCallback),e()},1e4);function hostedUISignCallback(n){var i=n.payload.event;("cognitoHostedUI"===i||"cognitoHostedUI_failure"===i)&&(re.debug("OAuth signIn resolved: "+i),clearTimeout(t),e4.remove("auth",hostedUISignCallback),e())}e4.listen("auth",hostedUISignCallback)})];case 1:f.sent(),f.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return re.debug("Failed to get user from user pool"),i("No current user"),[2];f.label=3;case 3:return f.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:if(o=f.sent(),!(s=!!e&&e.bypassCache))return[3,6];return[4,this.Credentials.clear()];case 5:f.sent(),f.label=6;case 6:if(a=this._config.clientMetadata,!(void 0===(u=o.getAccessToken().decodePayload().scope)?"":u).split(" ").includes(rt))return re.debug("Unable to get the user data because the "+rt+" is not in the scopes of the access token"),[2,n(t)];return t.getUserData(function(e,o){return(0,en.__awaiter)(c,void 0,void 0,function(){var s,a,u,c,f,p,g;return(0,en.__generator)(this,function(y){switch(y.label){case 0:if(!e)return[3,7];if(re.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return y.sent(),[3,4];case 3:return s=y.sent(),i(Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+s.message)),[2];case 4:return i(e),[3,6];case 5:n(t),y.label=6;case 6:return[2];case 7:for(c=0,a=o.PreferredMfaSetting||"NOMFA",u=[];c<o.UserAttributes.length;c++)f={Name:o.UserAttributes[c].Name,Value:o.UserAttributes[c].Value},p=new tW(f),u.push(p);return g=this.attributesToObject(u),Object.assign(t,{attributes:g,preferredMFA:a}),[2,n(t)]}})})},{bypassCache:s,clientMetadata:a}),[3,8];case 7:return i(f.sent()),[3,8];case 8:return[2]}})})}).catch(function(e){return re.debug("Failed to sync cache info into memory",e),i(e)})}):this.rejectNoUserPool()},AuthClass.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},AuthClass.prototype.currentAuthenticatedUser=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s;return(0,en.__generator)(this,function(a){switch(a.label){case 0:re.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),re.debug("Failed to sync cache info into memory",n),n;case 4:try{(i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=(0,en.__assign)((0,en.__assign)({},i.user),{token:i.token}))}catch(e){re.debug("cannot load federated user from auth storage")}if(!t)return[3,5];return this.user=t,re.debug("get current authenticated federated user",this.user),[2,this.user];case 5:re.debug("get current authenticated userpool user"),o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=a.sent(),[3,9];case 8:return"No userPool"===(s=a.sent())&&re.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),re.debug("The user is not authenticated by the error",s),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}})})},AuthClass.prototype.currentSession=function(){var e=this;return(re.debug("Getting current session"),this.userPool)?new Promise(function(t,n){e.currentUserPoolUser().then(function(i){e.userSession(i).then(function(e){t(e)}).catch(function(e){re.debug("Failed to get the current session",e),n(e)})}).catch(function(e){re.debug("Failed to get the current user",e),n(e)})}):Promise.reject(Error("No User Pool in the configuration."))},AuthClass.prototype._userSession=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i=this;return(0,en.__generator)(this,function(o){switch(o.label){case 0:if(!e)return re.debug("the user is null"),[2,this.rejectAuthError(q.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise(function(n,o){e.getSession(function(t,s){return(0,en.__awaiter)(i,void 0,void 0,function(){var i;return(0,en.__generator)(this,function(a){switch(a.label){case 0:if(!t)return[3,5];if(re.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return o(t),[2];case 5:return re.debug("Succeed to get the user session",s),n(s),[2]}})})},{clientMetadata:t})})),this.inflightSessionPromiseCounter++,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=o.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},AuthClass.prototype.userSession=function(e){return this._userSession(e)},AuthClass.prototype.currentUserCredentials=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t,n=this;return(0,en.__generator)(this,function(i){switch(i.label){case 0:re.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw e=i.sent(),re.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){re.debug("failed to get or parse item aws-amplify-federatedInfo",e)}if(t)return[2,this.Credentials.refreshFederatedToken(t)];return[2,this.currentSession().then(function(e){return re.debug("getting session success",e),n.Credentials.set(e,"session")}).catch(function(){return re.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},AuthClass.prototype.currentCredentials=function(){return re.debug("getting current credentials"),this.Credentials.get()},AuthClass.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise(function(i,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return i(e)},onFailure:function(e){return o(e)}},n)})},AuthClass.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise(function(i,o){e.verifyAttribute(t,n,{onSuccess:function(e){i(e)},onFailure:function(e){o(e)}})}):this.rejectAuthError(q.EmptyCode)},AuthClass.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(n){return t.verifyUserAttribute(n,e)})},AuthClass.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then(function(i){return n.verifyUserAttributeSubmit(i,e,t)})},AuthClass.prototype.cognitoIdentitySignOut=function(e,t){return(0,en.__awaiter)(this,void 0,void 0,function(){var n,i,o=this;return(0,en.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._storageSync];case 1:return s.sent(),[3,3];case 2:throw n=s.sent(),re.debug("Failed to sync cache info into memory",n),n;case 3:return i=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(n,s){if(e&&e.global){re.debug("user global sign out",t);var a=o._config.clientMetadata;t.getSession(function(e,a){return(0,en.__awaiter)(o,void 0,void 0,function(){var o,a=this;return(0,en.__generator)(this,function(u){switch(u.label){case 0:if(!e)return[3,5];if(re.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return o=u.sent(),s(Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,s(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(re.debug("global sign out success"),!i)return n();a.oAuthSignOutRedirect(n,s)},onFailure:function(e){return re.debug("global sign out failed",e),s(e)}}),[2]}})})},{clientMetadata:a})}else re.debug("user sign out",t),t.signOut(function(){if(!i)return n();o.oAuthSignOutRedirect(n,s)})})]}})})},AuthClass.prototype.oAuthSignOutRedirect=function(e,t){browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},AuthClass.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},AuthClass.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},AuthClass.prototype.signOut=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t;return(0,en.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),re.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,7];if(!(t=this.userPool.getCurrentUser()))return[3,5];return[4,this.cognitoIdentitySignOut(e,t)];case 4:return n.sent(),[3,6];case 5:re.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:re.debug("no Cognito User pool"),n.label=8;case 8:return Auth_dispatchAuthEvent("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},AuthClass.prototype.cleanCachedItems=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},AuthClass.prototype.changePassword=function(e,t,n,i){var o=this;return void 0===i&&(i=this._config.clientMetadata),new Promise(function(s,a){o.userSession(e).then(function(o){e.changePassword(t,n,function(e,t){return e?(re.debug("change password failure",e),a(e)):s(t)},i)})})},AuthClass.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(q.EmptyUsername);var n=this.createCognitoUser(e);return new Promise(function(i,o){n.forgotPassword({onSuccess:function(){i()},onFailure:function(t){re.debug("forgot password failure",t),Auth_dispatchAuthEvent("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){Auth_dispatchAuthEvent("forgotPassword",n,e+" has initiated forgot password flow"),i(t)}},t)})},AuthClass.prototype.forgotPasswordSubmit=function(e,t,n,i){if(void 0===i&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(q.EmptyUsername);if(!t)return this.rejectAuthError(q.EmptyCode);if(!n)return this.rejectAuthError(q.EmptyPassword);var o=this.createCognitoUser(e);return new Promise(function(s,a){o.confirmPassword(t,n,{onSuccess:function(t){Auth_dispatchAuthEvent("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),s(t)},onFailure:function(t){Auth_dispatchAuthEvent("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},i)})},AuthClass.prototype.currentUserInfo=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o,s,a;return(0,en.__generator)(this,function(u){switch(u.label){case 0:if(!(!(e=this.Credentials.getCredSource())||"aws"===e||"userPool"===e))return[3,9];return[4,this.currentUserPoolUser().catch(function(e){return re.error(e)})];case 1:if(!(t=u.sent()))return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(t)];case 3:n=u.sent(),i=this.attributesToObject(n),o=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return o=u.sent(),[3,7];case 6:return s=u.sent(),re.debug("Failed to retrieve credentials while getting current user info",s),[3,7];case 7:return[2,{id:o?o.identityId:void 0,username:t.getUsername(),attributes:i}];case 8:return a=u.sent(),re.error("currentUserInfo error",a),[2,{}];case 9:if("federated"===e)return[2,(t=this.user)||{}];return[2]}})})},AuthClass.prototype.federatedSignIn=function(e,t,n){return(0,en.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,f,p,g,y,v;return(0,en.__generator)(this,function(m){switch(m.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation with Identity Pools requires tokens passed as arguments");if(!(isFederatedSignInOptions(e)||e&&["customProvider"].find(function(t){return e.hasOwnProperty(t)})||e&&["customState"].find(function(t){return e.hasOwnProperty(t)})||void 0===e))return[3,1];return o=isFederatedSignInOptions(i=e||{provider:V.Cognito})?i.provider:i.customProvider,isFederatedSignInOptions(i),s=i.customState,this._config.userPoolId&&(a=isCognitoHostedOpts(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,u=isCognitoHostedOpts(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,u,a,o,s)),[3,4];case 1:o=e;try{(c=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&re.warn("There is already a signed in user: "+c+" in your app.\n																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return f=t.token,p=t.identity_id,g=t.expires_at,[4,this.Credentials.set({provider:o,token:f,identity_id:p,user:n,expires_at:g},"federation")];case 2:return y=m.sent(),[4,this.currentAuthenticatedUser()];case 3:return Auth_dispatchAuthEvent("signIn",v=m.sent(),"A user "+v.username+" has been signed in"),re.debug("federated sign in credentials",y),[2,y];case 4:return[2]}})})},AuthClass.prototype._handleAuthResponse=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s,a,u,c,f,p,g,y,v;return(0,en.__generator)(this,function(m){switch(m.label){case 0:if(this.oAuthFlowInProgress)return re.debug("Skipping URL "+e+" current flow in progress"),[2];m.label=1;case 1:if(m.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw Error("OAuth responses require a User Pool defined in config");if(Auth_dispatchAuthEvent("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(browserOrNode().isBrowser?window.location.href:""),n=!!((0,tr.parse)(t).query||"").split("&").map(function(e){return e.split("=")}).find(function(e){var t=(0,en.__read)(e,1)[0];return"code"===t||"error"===t}),i=!!((0,tr.parse)(t).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){var t=(0,en.__read)(e,1)[0];return"access_token"===t||"error"===t}),!(n||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),m.label=2;case 2:return m.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:if(s=(o=m.sent()).accessToken,a=o.idToken,u=o.refreshToken,c=o.state,f=new tV({IdToken:new tj({IdToken:a}),RefreshToken:new tM({RefreshToken:u}),AccessToken:new tF({AccessToken:s})}),p=void 0,!this._config.identityPoolId)return[3,5];return[4,this.Credentials.set(f,"session")];case 4:p=m.sent(),re.debug("AWS credentials",p),m.label=5;case 5:return g=/-/.test(c),(y=this.createCognitoUser(f.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(f),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),Auth_dispatchAuthEvent("signIn",y,"A user "+y.getUsername()+" has been signed in"),Auth_dispatchAuthEvent("cognitoHostedUI",y,"A user "+y.getUsername()+" has been signed in via Cognito Hosted UI"),g&&Auth_dispatchAuthEvent("customOAuthState",c.split("-").splice(1).join("-").match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""),"State for user "+y.getUsername()),[2,p];case 6:return v=m.sent(),re.debug("Error in cognito hosted auth response",v),window&&void 0!==window.history&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),Auth_dispatchAuthEvent("signIn_failure",v,"The OAuth response flow failed"),Auth_dispatchAuthEvent("cognitoHostedUI_failure",v,"A failure occurred when returning to the Cognito Hosted UI"),Auth_dispatchAuthEvent("customState_failure",v,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},AuthClass.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},AuthClass.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map(function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value}),n},AuthClass.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},AuthClass.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,i=new tQ(t);return n&&i.setAuthenticationFlowType(n),i},AuthClass.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},AuthClass.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?q.NoConfig:q.MissingAuthConfig},AuthClass.prototype.rejectAuthError=function(e){return Promise.reject(new t8(e))},AuthClass.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new t7(e))},AuthClass.prototype.rememberDevice=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,en.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),re.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new t8(q.DeviceConfig)):"NetworkError"===e.code?n(new t8(q.NetworkError)):n(e)}})})]}})})},AuthClass.prototype.forgetDevice=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,en.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),re.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new t8(q.DeviceConfig)):"NetworkError"===e.code?n(new t8(q.NetworkError)):n(e)}})})]}})})},AuthClass.prototype.fetchDevices=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,en.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),re.debug("The user is not authenticated by the error",t),Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,n){e.listDevices(60,null,{onSuccess:function(e){t(e.Devices.map(function(e){var t=e.DeviceAttributes.find(function(e){return"device_name"===e.Name})||{};return{id:e.DeviceKey,name:t.Value}}))},onFailure:function(e){"InvalidParameterException"===e.code?n(new t8(q.DeviceConfig)):"NetworkError"===e.code?n(new t8(q.NetworkError)):n(e)}})})]}})})},AuthClass}())(null);eo.d.register(rn);var ri=new ei.k("AbstractPubSubProvider"),ro=function(){function AbstractPubSubProvider(e){this._config=e}return AbstractPubSubProvider.prototype.configure=function(e){return this._config=(0,en.__assign)((0,en.__assign)({},e),this._config),ri.debug("configure "+this.getProviderName(),this._config),this.options},AbstractPubSubProvider.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(AbstractPubSubProvider.prototype,"options",{get:function(){return(0,en.__assign)({},this._config)},enumerable:!0,configurable:!0}),AbstractPubSubProvider}();(_=Q||(Q={})).CONNECTION_CLOSED="Connection closed",_.CONNECTION_FAILED="Connection failed",_.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",_.SUBSCRIPTION_ACK="Subscription ack",_.TIMEOUT_DISCONNECT="Timeout disconnect",(b=$||($={})).Connected="Connected",b.ConnectedPendingNetwork="ConnectedPendingNetwork",b.ConnectionDisrupted="ConnectionDisrupted",b.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",b.Connecting="Connecting",b.ConnectedPendingDisconnect="ConnectedPendingDisconnect",b.Disconnected="Disconnected",b.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive";var rs=[400,401,403];(S=Z||(Z={})).GQL_CONNECTION_INIT="connection_init",S.GQL_CONNECTION_ERROR="connection_error",S.GQL_CONNECTION_ACK="connection_ack",S.GQL_START="start",S.GQL_START_ACK="start_ack",S.GQL_DATA="data",S.GQL_CONNECTION_KEEP_ALIVE="ka",S.GQL_STOP="stop",S.GQL_COMPLETE="complete",S.GQL_ERROR="error",(w=X||(X={}))[w.PENDING=0]="PENDING",w[w.CONNECTED=1]="CONNECTED",w[w.FAILED=2]="FAILED",(C=ee||(ee={}))[C.CLOSED=0]="CLOSED",C[C.READY=1]="READY",C[C.CONNECTING=2]="CONNECTING";var ra="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ru={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Reachability_values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rc=function(){function ReachabilityNavigator(){}return ReachabilityNavigator.prototype.networkMonitor=function(e){if(browserOrNode().isNode)return tt.from([{online:!0}]);var t=isWebWorker()?self:window;return new tt(function(e){e.next({online:t.navigator.onLine});var notifyOnline=function(){return e.next({online:!0})},notifyOffline=function(){return e.next({online:!1})};return t.addEventListener("online",notifyOnline),t.addEventListener("offline",notifyOffline),ReachabilityNavigator._observers.push(e),function(){t.removeEventListener("online",notifyOnline),t.removeEventListener("offline",notifyOffline),ReachabilityNavigator._observers=ReachabilityNavigator._observers.filter(function(t){return t!==e})}})},ReachabilityNavigator._observerOverride=function(e){var t,n,_loop_1=function(t){if(t.closed)return ReachabilityNavigator._observers=ReachabilityNavigator._observers.filter(function(e){return e!==t}),"continue";t.next(e)};try{for(var i=Reachability_values(ReachabilityNavigator._observers),o=i.next();!o.done;o=i.next()){var s=o.value;_loop_1(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},ReachabilityNavigator._observers=[],ReachabilityNavigator}(),ReachabilityMonitor=function(){return new rc().networkMonitor()},rl={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},rf=function(){function ConnectionStateMonitor(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=ReachabilityMonitor().subscribe(function(t){var n,i=t.online;e.record(i?rl.ONLINE:rl.OFFLINE),null===(n=e._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()}),this._linkedConnectionStateObservable=new tt(function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t})}return ConnectionStateMonitor.prototype.enableNetworkMonitoring=function(){var e,t=this;null===(e=this._initialNetworkStateSubscription)||void 0===e||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=ReachabilityMonitor().subscribe(function(e){var n=e.online;t.record(n?rl.ONLINE:rl.OFFLINE)}))},ConnectionStateMonitor.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(ConnectionStateMonitor.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map(function(e){return t.connectionStatesTranslator(e)}).filter(function(t){var n=t!==e;return e=t,n})},enumerable:!0,configurable:!0}),ConnectionStateMonitor.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=(0,en.__assign)((0,en.__assign)({},this._linkedConnectionState),e);this._linkedConnectionState=(0,en.__assign)({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},ConnectionStateMonitor.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,i=e.intendedConnectionState,o=e.keepAliveState;return"connected"===t&&"disconnected"===n?$.ConnectedPendingNetwork:"connected"===t&&"disconnected"===i?$.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===i&&"disconnected"===n?$.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===i?$.ConnectionDisrupted:"connected"===t&&"unhealthy"===o?$.ConnectedPendingKeepAlive:"connecting"===t?$.Connecting:"disconnected"===t?$.Disconnected:$.Connected},ConnectionStateMonitor}();(E=et||(et={})).START_RECONNECT="START_RECONNECT",E.HALT_RECONNECT="HALT_RECONNECT";var rh=function(){function ReconnectionMonitor(){this.reconnectObservers=[]}return ReconnectionMonitor.prototype.addObserver=function(e){this.reconnectObservers.push(e)},ReconnectionMonitor.prototype.record=function(e){var t=this;e===et.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout(function(){t._triggerReconnect(),t.reconnectIntervalId=setInterval(function(){t._triggerReconnect()},6e4)},5e3)),e===et.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},ReconnectionMonitor.prototype.close=function(){this.reconnectObservers.forEach(function(e){var t;null===(t=e.complete)||void 0===t||t.call(e)})},ReconnectionMonitor.prototype._triggerReconnect=function(){this.reconnectObservers.forEach(function(e){var t;null===(t=e.next)||void 0===t||t.call(e)})},ReconnectionMonitor}(),rd=new ei.k("AWSAppSyncRealTimeProvider"),dispatchApiEvent=function(e,t,n){e4.dispatch("api",{event:e,data:t,message:n},"PubSub",ra)},rp=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,rg=function(e){function AWSAppSyncRealTimeProvider(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=ee.CLOSED,n.keepAliveTimeout=3e5,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new rf,n.reconnectionMonitor=new rh,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe(function(e){dispatchApiEvent("ConnectionStateChange",{provider:n,connectionState:e},"Connection state is "+e),n.connectionState=e,e===$.ConnectionDisrupted&&n.reconnectionMonitor.record(et.START_RECONNECT),[$.Connected,$.ConnectedPendingDisconnect,$.ConnectedPendingKeepAlive,$.ConnectedPendingNetwork,$.ConnectionDisruptedPendingNetwork,$.Disconnected].includes(e)&&n.reconnectionMonitor.record(et.HALT_RECONNECT)}),n}return(0,en.__extends)(AWSAppSyncRealTimeProvider,e),AWSAppSyncRealTimeProvider.prototype.close=function(){this.socketStatus=ee.CLOSED,this.connectionStateMonitor.record(rl.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},AWSAppSyncRealTimeProvider.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},AWSAppSyncRealTimeProvider.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},AWSAppSyncRealTimeProvider.prototype.newClient=function(){throw Error("Not used here")},AWSAppSyncRealTimeProvider.prototype.publish=function(e,t,n){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(e){throw Error("Operation not supported")})})},AWSAppSyncRealTimeProvider.prototype.isCustomDomain=function(e){return null===e.match(rp)},AWSAppSyncRealTimeProvider.prototype.subscribe=function(e,t,n){var i=this,o=null==t?void 0:t.appSyncGraphqlEndpoint;return new tt(function(e){if(t&&o){var s,a=!1,u=(0,tn.v4)(),startSubscription_1=function(){a||(a=!0,i._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:u,customUserAgentDetails:n}).catch(function(e){rd.debug(Q.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+e),i.connectionStateMonitor.record(rl.CLOSED)}).finally(function(){a=!1}))};return s=new tt(function(e){i.reconnectionMonitor.addObserver(e)}).subscribe(function(){startSubscription_1()}),startSubscription_1(),function(){return(0,en.__awaiter)(i,void 0,void 0,function(){var e,t;return(0,en.__generator)(this,function(n){switch(n.label){case 0:null==s||s.unsubscribe(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(u)];case 2:if(n.sent(),!(e=(this.subscriptionObserverMap.get(u)||{}).subscriptionState))return[2];if(e===X.CONNECTED)this._sendUnsubscriptionMessage(u);else throw Error("Subscription never connected");return[3,5];case 3:return t=n.sent(),rd.debug("Error while unsubscribing "+t),[3,5];case 4:return this._removeSubscriptionObserver(u),[7];case 5:return[2]}})})}}e.error({errors:[(0,en.__assign)({},new ea("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()})},Object.defineProperty(AWSAppSyncRealTimeProvider.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),AWSAppSyncRealTimeProvider.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n=e.options,i=e.observer,o=e.subscriptionId,s=e.customUserAgentDetails;return(0,en.__awaiter)(this,void 0,void 0,function(){var e,a,u,c,f,p,g,y,v,m,_,b,S,w,C,E,I,T,O,k,P,R,N=this;return(0,en.__generator)(this,function(x){switch(x.label){case 0:return e=n.appSyncGraphqlEndpoint,a=n.authenticationType,u=n.query,c=n.variables,f=n.apiKey,p=n.region,y=void 0===(g=n.graphql_headers)?function(){return{}}:g,m=void 0===(v=n.additionalHeaders)?{}:v,_=X.PENDING,b={query:u,variables:c},this.subscriptionObserverMap.set(o,{observer:i,query:null!=u?u:"",variables:null!=c?c:{},subscriptionState:_,startAckTimeoutId:void 0}),S=JSON.stringify(b),C=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:f,appSyncGraphqlEndpoint:e,authenticationType:a,payload:S,canonicalUri:"",region:p,additionalHeaders:m})];case 1:return E=[en.__assign.apply(void 0,C.concat([x.sent()]))],[4,y()];case 2:w=en.__assign.apply(void 0,[en.__assign.apply(void 0,[en.__assign.apply(void 0,E.concat([x.sent()])),m]),((R={})[e9]=getAmplifyUserAgent(s),R)]),I=JSON.stringify({id:o,payload:{data:S,extensions:{authorization:(0,en.__assign)({},w)}},type:Z.GQL_START}),x.label=3;case 3:return x.trys.push([3,5,,6]),this.connectionStateMonitor.record(rl.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:f,appSyncGraphqlEndpoint:e,authenticationType:a,region:p,additionalHeaders:m})];case 4:return x.sent(),[3,6];case 5:return T=x.sent(),this._logStartSubscriptionError(o,i,T),[2];case 6:return k=(O=null!==(t=this.subscriptionObserverMap.get(o))&&void 0!==t?t:{}).subscriptionFailedCallback,P=O.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:_,query:null!=u?u:"",variables:null!=c?c:{},subscriptionReadyCallback:P,subscriptionFailedCallback:k,startAckTimeoutId:setTimeout(function(){N._timeoutStartSubscriptionAck.call(N,o)},15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(I),[2]}})})},AWSAppSyncRealTimeProvider.prototype._logStartSubscriptionError=function(e,t,n){rd.debug({err:n});var i,o=String(null!==(i=n.message)&&void 0!==i?i:"");if(Promise.resolve(this.connectionStateMonitor.record(rl.CLOSED)),this.connectionState!==$.ConnectionDisruptedPendingNetwork){isNonRetryableError(n)?t.error({errors:[(0,en.__assign)({},new ea(Q.CONNECTION_FAILED+": "+o))]}):rd.debug(Q.CONNECTION_FAILED+": "+o);var s=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;"function"==typeof s&&s()}},AWSAppSyncRealTimeProvider.prototype._waitForSubscriptionToBeConnected=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,en.__generator)(this,function(i){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===X.PENDING?[2,new Promise(function(i,o){var s=t.observer,a=t.subscriptionState,u=t.variables,c=t.query;n.subscriptionObserverMap.set(e,{observer:s,subscriptionState:a,variables:u,query:c,subscriptionReadyCallback:i,subscriptionFailedCallback:o})})]:[2]})})},AWSAppSyncRealTimeProvider.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===ee.READY){var t={id:e,type:Z.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){rd.debug({err:e})}},AWSAppSyncRealTimeProvider.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},AWSAppSyncRealTimeProvider.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=ee.CLOSED;return}if(this.connectionStateMonitor.record(rl.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{rd.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=ee.CLOSED,this.connectionStateMonitor.record(rl.CLOSED)}}},AWSAppSyncRealTimeProvider.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;if("string"==typeof e.data){rd.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(String(e.data)),i=n.id,o=void 0===i?"":i,s=n.payload,a=n.type,u=this.subscriptionObserverMap.get(o)||{},c=u.observer,f=void 0===c?null:c,p=u.query,g=void 0===p?"":p,y=u.variables,v=void 0===y?{}:y,m=u.startAckTimeoutId,_=u.subscriptionReadyCallback,b=u.subscriptionFailedCallback;if(rd.debug({id:o,observer:f,query:g,variables:v}),a===Z.GQL_DATA&&s&&s.data){f?f.next(s):rd.debug("observer not found for id: "+o);return}if(a===Z.GQL_START_ACK){rd.debug("subscription ready for "+JSON.stringify({query:g,variables:v})),"function"==typeof _&&_(),m&&clearTimeout(m),dispatchApiEvent(Q.SUBSCRIPTION_ACK,{query:g,variables:v},"Connection established for subscription");var S=X.CONNECTED;f&&this.subscriptionObserverMap.set(o,{observer:f,query:g,variables:v,startAckTimeoutId:void 0,subscriptionState:S,subscriptionReadyCallback:_,subscriptionFailedCallback:b}),this.connectionStateMonitor.record(rl.CONNECTION_ESTABLISHED);return}if(a===Z.GQL_CONNECTION_KEEP_ALIVE){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout(function(){return t._errorDisconnect(Q.TIMEOUT_DISCONNECT)},this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout(function(){t.connectionStateMonitor.record(rl.KEEP_ALIVE_MISSED)},65e3),this.connectionStateMonitor.record(rl.KEEP_ALIVE);return}if(a===Z.GQL_ERROR){var S=X.FAILED;f&&(this.subscriptionObserverMap.set(o,{observer:f,query:g,variables:v,startAckTimeoutId:m,subscriptionReadyCallback:_,subscriptionFailedCallback:b,subscriptionState:S}),rd.debug(Q.CONNECTION_FAILED+": "+JSON.stringify(s)),f.error({errors:[(0,en.__assign)({},new ea(Q.CONNECTION_FAILED+": "+JSON.stringify(s)))]}),m&&clearTimeout(m),"function"==typeof b&&b())}}},AWSAppSyncRealTimeProvider.prototype._errorDisconnect=function(e){rd.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(rl.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=ee.CLOSED},AWSAppSyncRealTimeProvider.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,i=t.query,o=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:i,variables:o,subscriptionState:X.FAILED}),this.connectionStateMonitor.record(rl.CLOSED),rd.debug("timeoutStartSubscription",JSON.stringify({query:i,variables:o}))}},AWSAppSyncRealTimeProvider.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,i=e.authenticationType,o=e.apiKey,s=e.region,a=e.additionalHeaders;if(this.socketStatus!==ee.READY)return new Promise(function(e,u){return(0,en.__awaiter)(t,void 0,void 0,function(){var t,c,f,p,g,y,v,m,_;return(0,en.__generator)(this,function(b){switch(b.label){case 0:if(this.promiseArray.push({res:e,rej:u}),this.socketStatus!==ee.CLOSED)return[3,5];b.label=1;case 1:return b.trys.push([1,4,,5]),this.socketStatus=ee.CONNECTING,t="{}",[4,this._awsRealTimeHeaderBasedAuth({authenticationType:i,payload:t,canonicalUri:"/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:s,additionalHeaders:a})];case 2:return f=(c=b.sent())?JSON.stringify(c):"",p=ti.lW.from(f).toString("base64"),g=ti.lW.from(t).toString("base64"),y=null!=n?n:"",y=this.isCustomDomain(y)?y.concat("/realtime"):y.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),v=this.isSSLEnabled?"wss://":"ws://",m=(y=y.replace("https://",v).replace("http://",v))+"?header="+p+"&payload="+g,[4,this._initializeRetryableHandshake(m)];case 3:return b.sent(),this.promiseArray.forEach(function(e){var t=e.res;rd.debug("Notifying connection successful"),t()}),this.socketStatus=ee.READY,this.promiseArray=[],[3,5];case 4:return _=b.sent(),rd.debug("Connection exited with",_),this.promiseArray.forEach(function(e){return(0,e.rej)(_)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=ee.CLOSED,[3,5];case 5:return[2]}})})})},AWSAppSyncRealTimeProvider.prototype._initializeRetryableHandshake=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(t){switch(t.label){case 0:return rd.debug("Initializaling retryable Handshake"),[4,jitteredExponentialRetry(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}})})},AWSAppSyncRealTimeProvider.prototype._initializeHandshake=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s=this;return(0,en.__generator)(this,function(a){switch(a.label){case 0:rd.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise(function(t,n){var i=s.getNewWebSocket(e,"graphql-ws");i.onerror=function(){rd.debug("WebSocket connection error")},i.onclose=function(){n(Error("Connection handshake error"))},i.onopen=function(){return s.awsRealTimeSocket=i,t()}})];case 2:return a.sent(),[4,new Promise(function(e,t){if(s.awsRealTimeSocket){var n=!1;s.awsRealTimeSocket.onerror=function(e){rd.debug("WebSocket error "+JSON.stringify(e))},s.awsRealTimeSocket.onclose=function(e){rd.debug("WebSocket closed "+e.reason),t(Error(JSON.stringify(e)))},s.awsRealTimeSocket.onmessage=function(i){if("string"==typeof i.data){rd.debug("subscription message from AWS AppSyncRealTime: "+i.data+" ");var o=JSON.parse(i.data),a=o.type,u=o.payload,c=(void 0===u?{}:u).connectionTimeoutMs;if(a===Z.GQL_CONNECTION_ACK){n=!0,s.awsRealTimeSocket&&(s.keepAliveTimeout=void 0===c?3e5:c,s.awsRealTimeSocket.onmessage=s._handleIncomingSubscriptionMessage.bind(s),s.awsRealTimeSocket.onerror=function(e){rd.debug(e),s._errorDisconnect(Q.CONNECTION_CLOSED)},s.awsRealTimeSocket.onclose=function(e){rd.debug("WebSocket closed "+e.reason),s._errorDisconnect(Q.CONNECTION_CLOSED)}),e("Cool, connected to AWS AppSyncRealTime");return}if(a===Z.GQL_CONNECTION_ERROR){var f=o.payload,p=(void 0===f?{}:f).errors,g=(0,en.__read)(void 0===p?[]:p,1)[0],y=void 0===g?{}:g,v=y.errorType,m=y.errorCode;t({errorType:void 0===v?"":v,errorCode:void 0===m?0:m})}}};var i={type:Z.GQL_CONNECTION_INIT};s.awsRealTimeSocket.send(JSON.stringify(i));var checkAckOk_1=function(e){e||(s.connectionStateMonitor.record(rl.CONNECTION_FAILED),t(Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout(function(){return checkAckOk_1(n)},15e3)}})];case 3:return a.sent(),[3,5];case 4:if(i=(n=t=a.sent()).errorType,o=n.errorCode,rs.includes(o))throw new eI(i);if(i)throw Error(i);throw t;case 5:return[2]}})})},AWSAppSyncRealTimeProvider.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,i=e.canonicalUri,o=e.appSyncGraphqlEndpoint,s=e.apiKey,a=e.region,u=e.additionalHeaders;return(0,en.__awaiter)(this,void 0,void 0,function(){var e,c,f;return(0,en.__generator)(this,function(p){switch(p.label){case 0:if(e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},!(!t||!e[t]))return[3,1];return rd.debug("Authentication type "+t+" not supported"),[2,void 0];case 1:return c=e[t],f=tr.parse(null!=o?o:"").host,rd.debug("Authenticating with "+t),[4,c({payload:n,canonicalUri:i,appSyncGraphqlEndpoint:o,apiKey:s,region:a,host:f,additionalHeaders:u})];case 2:return[2,p.sent()]}})})},AWSAppSyncRealTimeProvider.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(e){switch(e.label){case 0:return[4,rn.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}})})},AWSAppSyncRealTimeProvider.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return(0,en.__awaiter)(this,void 0,void 0,function(){var e,n,i;return(0,en.__generator)(this,function(o){switch(o.label){case 0:return[4,tE.getItem("federatedInfo")];case 1:if(!(n=o.sent()))return[3,2];return e=n.token,[3,4];case 2:return[4,rn.currentAuthenticatedUser()];case 3:(i=o.sent())&&(e=i.token),o.label=4;case 4:if(!e)throw Error("No federated jwt");return[2,{Authorization:e,host:t}]}})})},AWSAppSyncRealTimeProvider.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(e){return[2,{host:n,"x-amz-date":new Date().toISOString().replace(/[:\-]|\.\d{3}/g,""),"x-api-key":t}]})})},AWSAppSyncRealTimeProvider.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.region;return(0,en.__awaiter)(this,void 0,void 0,function(){var e,s,a;return(0,en.__generator)(this,function(u){switch(u.label){case 0:return e={region:o,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!u.sent())throw Error("No credentials");return[4,e8.get().then(function(e){return{secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken}})];case 2:return s=u.sent(),a={url:""+i+n,data:t,method:"POST",headers:(0,en.__assign)({},ru)},[2,t_.sign(a,s,e).headers]}})})},AWSAppSyncRealTimeProvider.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw Error("No auth token specified");return{Authorization:n.Authorization,host:t}},AWSAppSyncRealTimeProvider.prototype._ensureCredentials=function(){return e8.get().then(function(e){if(!e)return!1;var t=e8.shear(e);return rd.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0}).catch(function(e){return rd.warn("ensure credentials error",e),!1})},AWSAppSyncRealTimeProvider}(ro),ry=browserOrNode().isNode,rv=new ei.k("PubSub"),rm=new(function(){function InternalPubSubClass(e){this._options=null!=e?e:{},rv.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(InternalPubSubClass.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new rg(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),InternalPubSubClass.prototype.getModuleName=function(){return"InternalPubSub"},InternalPubSubClass.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return rv.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map(function(e){return e.configure(t._options)}),this._options},InternalPubSubClass.prototype.addPluggable=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]})})},InternalPubSubClass.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter(function(t){return t.getProviderName()!==e})},InternalPubSubClass.prototype.getProviderByName=function(e){return e===e7?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(t){return t.getProviderName()===e})},InternalPubSubClass.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw Error("Could not find provider named "+String(t));return[n]},InternalPubSubClass.prototype.publish=function(e,t,n){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(i){return[2,Promise.all(this.getProviders(n).map(function(i){return i.publish(e,t,n)}))]})})},InternalPubSubClass.prototype.subscribe=function(e,t,n){if(ry&&this._options&&this._options.ssr)throw Error("Subscriptions are not supported for Server-Side Rendering (SSR)");rv.debug("subscribe options",t);var i=this.getProviders(t),o=(0,en.__assign)({category:O.PubSub,action:F.Subscribe},n);return new tt(function(n){var s=i.map(function(n){return{provider:n,observable:n.subscribe(e,t,o)}}).map(function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return n.next({provider:t,value:e})},error:function(e){return n.error({provider:t,error:e})}})});return function(){return s.forEach(function(e){return e.unsubscribe()})}})},InternalPubSubClass}());eo.d.register(rm),(I=er||(er={})).NO_API_KEY="No api-key configured",I.NO_CURRENT_USER="No current user",I.NO_CREDENTIALS="No credentials",I.NO_FEDERATED_JWT="No federated jwt",I.NO_AUTH_TOKEN="No auth token specified";var r_=n(6338),rb=new ei.k("RestClient"),rS=function(){function RestClient(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=e8,this._options=e,rb.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return RestClient.prototype.ajax=function(e,t,n){return(0,en.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,f,p,g,y,v,m,_,b,S,w,C,E,I,T,O,k;return(0,en.__generator)(this,function(P){switch(P.label){case 0:if(rb.debug(t,e),s="us-east-1",a="execute-api",u=void 0,"string"==typeof e?(i=this._parseUrl(e),o=e):(o=e.endpoint,u=e.custom_header,s=e.region,a=e.service,i=this._parseUrl(e.endpoint)),c={method:t,url:o,host:i.host,path:i.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},f={},g=(p=Object.assign({},n)).response,p.body&&("function"==typeof FormData&&p.body instanceof FormData?(f["Content-Type"]="multipart/form-data",c.data=p.body):(f["Content-Type"]="application/json; charset=UTF-8",c.data=JSON.stringify(p.body))),p.responseType&&(c.responseType=p.responseType),p.withCredentials&&(c.withCredentials=p.withCredentials),p.timeout&&(c.timeout=p.timeout),p.cancellableToken&&(c.cancelToken=p.cancellableToken.token),c.signerServiceInfo=p.signerServiceInfo,"function"!=typeof u)return[3,2];return[4,u()];case 1:return v=P.sent(),[3,3];case 2:v=void 0,P.label=3;case 3:if(y=v,c.headers=(0,en.__assign)((0,en.__assign)((0,en.__assign)({},f),y),p.headers),(m=(0,tr.parse)(o,!0,!0)).search,_=(0,en.__rest)(m,["search"]),c.url=(0,tr.format)((0,en.__assign)((0,en.__assign)({},_),{query:(0,en.__assign)((0,en.__assign)({},_.query),p.queryStringParameters||{})})),void 0!==c.headers.Authorization)return c.headers=Object.keys(c.headers).reduce(function(e,t){return c.headers[t]&&(e[t]=c.headers[t]),e},{}),[2,this._request(c,g)];P.label=4;case 4:return P.trys.push([4,6,,7]),[4,this.Credentials.get()];case 5:return b=P.sent(),[3,7];case 6:return P.sent(),rb.debug("No credentials available, the request will be unsigned"),[2,this._request(c,g)];case 7:return P.trys.push([7,9,,10]),S=this._sign((0,en.__assign)({},c),b,{region:s,service:a}),[4,(0,r_.Z)(S)];case 8:return w=P.sent(),[2,g?w:w.data];case 9:if(C=P.sent(),rb.debug(C),to.isClockSkewError(C)&&(I=(E=C.response.headers)&&(E.date||E.Date),T=new Date(I),O=to.getDateFromHeaderString(S.headers["x-amz-date"]),to.isClockSkewed(T)))return k=O.getTime()-to.getClockOffset(),to.setClockOffset(T.getTime()-k),[2,this.ajax(e,t,n)];throw C;case 10:return[2]}})})},RestClient.prototype.get=function(e,t){return this.ajax(e,"GET",t)},RestClient.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},RestClient.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},RestClient.prototype.post=function(e,t){return this.ajax(e,"POST",t)},RestClient.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},RestClient.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},RestClient.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},RestClient.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},RestClient.prototype.isCancel=function(e){return r_.Z.isCancel(e)},RestClient.prototype.getCancellableToken=function(){return r_.Z.CancelToken.source()},RestClient.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},RestClient.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,i="";return Array.isArray(n)&&n.forEach(function(n){n.name===e&&(i=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)}),i},RestClient.prototype._sign=function(e,t,n){var i=n.service,o=n.region,s=e.signerServiceInfo,a=(0,en.__rest)(e,["signerServiceInfo"]),u=o||this._region||this._options.region,c=i||this._service||this._options.service,f={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},p=Object.assign({region:u,service:c},s),g=t_.sign(a,f,p);return g.data&&(g.body=g.data),rb.debug("Signed Request: ",g),delete g.headers.host,g},RestClient.prototype._request=function(e,t){return void 0===t&&(t=!1),(0,r_.Z)(e).then(function(e){return t?e:e.data}).catch(function(e){throw rb.debug(e),e})},RestClient.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},RestClient}(),rw=new ei.k("GraphQLAPI"),rC=function(){function InternalGraphQLAPIClass(e){this._api=null,this.Auth=rn,this.Cache=tE,this.Credentials=e8,this._options=e,rw.debug("API Options",this._options)}return InternalGraphQLAPIClass.prototype.getModuleName=function(){return"InternalGraphQLAPI"},InternalGraphQLAPIClass.prototype.configure=function(e){var t=e||{},n=t.API,i=(0,en.__rest)(t,["API"]),o=(0,en.__assign)((0,en.__assign)({},i),void 0===n?{}:n);return rw.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),void 0!==o.graphql_headers&&"function"!=typeof o.graphql_headers&&(rw.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},InternalGraphQLAPIClass.prototype.createInstance=function(){return(rw.debug("create Rest instance"),this._options)?(this._api=new rS(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},InternalGraphQLAPIClass.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),(0,en.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,a,u,c;return(0,en.__generator)(this,function(f){switch(f.label){case 0:switch(i=(n=this._options).aws_appsync_authenticationType,o=n.aws_appsync_apiKey,s={},e||i||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw Error(er.NO_API_KEY);return s={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!f.sent())throw Error(er.NO_CREDENTIALS);return[3,17];case 4:return f.trys.push([4,9,,10]),a=void 0,[4,tE.getItem("federatedInfo")];case 5:if(!(u=f.sent()))return[3,6];return a=u.token,[3,8];case 6:return[4,rn.currentAuthenticatedUser()];case 7:(c=f.sent())&&(a=c.token),f.label=8;case 8:if(!a)throw Error(er.NO_FEDERATED_JWT);return s={Authorization:a},[3,10];case 9:case 13:throw f.sent(),Error(er.NO_CURRENT_USER);case 10:case 14:return[3,17];case 11:return f.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return s={Authorization:f.sent().getAccessToken().getJwtToken()},[3,14];case 15:if(!t.Authorization)throw Error(er.NO_AUTH_TOKEN);return s={Authorization:t.Authorization},[3,17];case 16:return s={Authorization:null},[3,17];case 17:return[2,s]}})})},InternalGraphQLAPIClass.prototype.getGraphqlOperationType=function(e){var t=parse(e).definitions;return(0,en.__read)(t,1)[0].operation},InternalGraphQLAPIClass.prototype.graphql=function(e,t,n){var i=e.query,o=e.variables,s=void 0===o?{}:o,a=e.authMode,u=e.authToken,c="string"==typeof i?parse(i):parse(print(i)),f=(0,en.__read)(c.definitions.filter(function(e){return"OperationDefinition"===e.kind}),1)[0],p=(void 0===f?{}:f).operation,g=t||{};switch(u&&(g.Authorization=u),p){case"query":case"mutation":this.createInstanceIfNotCreated();var y=this._api.getCancellableToken(),v={cancellableToken:y,withCredentials:this._options.withCredentials},m=this._graphql({query:c,variables:s,authMode:a},g,v,n);return this._api.updateRequestToBeCancellable(m,y),m;case"subscription":return this._graphqlSubscribe({query:c,variables:s,authMode:a},g,n);default:throw Error("invalid operation type: ".concat(p))}},InternalGraphQLAPIClass.prototype._graphql=function(e,t,n,i){var o=e.query,s=e.variables,a=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),(0,en.__awaiter)(this,void 0,void 0,function(){var e,u,c,f,p,g,y,v,m,_,b,S,w,C,E,I,T,O,k;return(0,en.__generator)(this,function(P){switch(P.label){case 0:if(this.createInstanceIfNotCreated(),u=(e=this._options).aws_appsync_region,c=e.aws_appsync_graphqlEndpoint,p=void 0===(f=e.graphql_headers)?function(){return{}}:f,g=e.graphql_endpoint,y=e.graphql_endpoint_iam_region,v=[{}],!(m=!g))return[3,2];return[4,this._headerBasedAuth(a,t)];case 1:m=P.sent(),P.label=2;case 2:if(_=[en.__assign.apply(void 0,v.concat([m]))],!(b=g))return[3,6];if(!y)return[3,4];return[4,this._headerBasedAuth(a,t)];case 3:return S=P.sent(),[3,5];case 4:S={Authorization:null},P.label=5;case 5:b=S,P.label=6;case 6:return w=[en.__assign.apply(void 0,_.concat([b]))],[4,p({query:o,variables:s})];case 7:if(C=Object.assign({headers:en.__assign.apply(void 0,[en.__assign.apply(void 0,[en.__assign.apply(void 0,w.concat([P.sent()])),t]),!g&&((k={})["x-amz-user-agent"]=getAmplifyUserAgent(i),k)]),body:{query:print(o),variables:s},signerServiceInfo:{service:g?"execute-api":"appsync",region:g?y:u}},n),!(E=g||c))throw{data:{},errors:[new ea("No graphql endpoint provided.")]};P.label=8;case 8:return P.trys.push([8,10,,11]),[4,this._api.post(E,C)];case 9:return I=P.sent(),[3,11];case 10:if(T=P.sent(),this._api.isCancel(T))throw T;return I={data:{},errors:[new ea(T.message,null,null,null,null,T)]},[3,11];case 11:if((O=I.errors)&&O.length)throw I;return[2,I]}})})},InternalGraphQLAPIClass.prototype.createInstanceIfNotCreated=function(){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(e){switch(e.label){case 0:if(this._api)return[3,2];return[4,this.createInstance()];case 1:e.sent(),e.label=2;case 2:return[2]}})})},InternalGraphQLAPIClass.prototype.isCancel=function(e){return this._api.isCancel(e)},InternalGraphQLAPIClass.prototype.cancel=function(e,t){return this._api.cancel(e,t)},InternalGraphQLAPIClass.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},InternalGraphQLAPIClass.prototype._graphqlSubscribe=function(e,t,n){var i=e.query,o=e.variables,s=e.authMode,a=e.authToken;void 0===t&&(t={});var u=this._options,c=u.aws_appsync_region,f=u.aws_appsync_graphqlEndpoint,p=u.aws_appsync_authenticationType,g=u.aws_appsync_apiKey,y=u.graphql_headers;if(rm&&"function"==typeof rm.subscribe)return rm.subscribe("",{provider:e7,appSyncGraphqlEndpoint:f,authenticationType:s||p||"AWS_IAM",apiKey:g,query:print(i),region:c,variables:o,graphql_headers:void 0===y?function(){return{}}:y,additionalHeaders:t,authToken:a},n);throw rw.debug("No pubsub module applied for subscription"),Error("No pubsub module applied for subscription")},InternalGraphQLAPIClass.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then(function(t){if(!t)return!1;var n=e.Credentials.shear(t);return rw.debug("set credentials for api",n),!0}).catch(function(e){return rw.warn("ensure credentials error",e),!1})},InternalGraphQLAPIClass}(),rA=new rC(null);eo.d.register(rA);var rE=new ei.k("RestAPI"),rI=function(){function RestAPIClass(e){this._api=null,this.Credentials=e8,this._options=e,rE.debug("API Options",this._options)}return RestAPIClass.prototype.getModuleName=function(){return"RestAPI"},RestAPIClass.prototype.configure=function(e){var t=e||{},n=t.API,i=(0,en.__rest)(t,["API"]),o=(0,en.__assign)((0,en.__assign)({},i),void 0===n?{}:n);if(rE.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var s=o.aws_cloud_logic_custom;o.endpoints="string"==typeof s?JSON.parse(s):s}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach(function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(rE.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},RestAPIClass.prototype.createInstance=function(){return rE.debug("create Rest API instance"),this._api=new rS(this._options),this._api.Credentials=this.Credentials,!0},RestAPIClass.prototype.get=function(e,t,n){try{var i=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.get(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},RestAPIClass.prototype.post=function(e,t,n){try{var i=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.post(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},RestAPIClass.prototype.put=function(e,t,n){try{var i=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.put(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},RestAPIClass.prototype.patch=function(e,t,n){try{var i=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.patch(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},RestAPIClass.prototype.del=function(e,t,n){try{var i=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.del(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},RestAPIClass.prototype.head=function(e,t,n){try{var i=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),s=Object.assign({},n);s.cancellableToken=o;var a=this._api.head(i,s);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},RestAPIClass.prototype.isCancel=function(e){return this._api.isCancel(e)},RestAPIClass.prototype.cancel=function(e,t){return this._api.cancel(e,t)},RestAPIClass.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},RestAPIClass.prototype.endpoint=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(t){return[2,this._api.endpoint(e)]})})},RestAPIClass.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw Error("API category not configured");var i=n.find(function(t){return t.name===e});if(!i)throw Error("API ".concat(e," does not exist"));var o={endpoint:i.endpoint+t};return"string"==typeof i.region?o.region=i.region:"string"==typeof this._options.region&&(o.region=this._options.region),"string"==typeof i.service?o.service=i.service||"execute-api":o.service="execute-api","function"==typeof i.custom_header?o.custom_header=i.custom_header:o.custom_header=void 0,o},RestAPIClass}(),rT=new rI(null);eo.d.register(rT);var rO=new ei.k("API"),rk=function(){function InternalAPIClass(e){this.Auth=rn,this.Cache=tE,this.Credentials=e8,this._options=e,this._restApi=new rI(e),this._graphqlApi=new rC(e),rO.debug("API Options",this._options)}return InternalAPIClass.prototype.getModuleName=function(){return"InternalAPI"},InternalAPIClass.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return(0,en.__assign)((0,en.__assign)({},t),n)},InternalAPIClass.prototype.get=function(e,t,n){return this._restApi.get(e,t,this.getInitWithCustomUserAgentDetails(n,P.Get))},InternalAPIClass.prototype.post=function(e,t,n){return this._restApi.post(e,t,this.getInitWithCustomUserAgentDetails(n,P.Post))},InternalAPIClass.prototype.put=function(e,t,n){return this._restApi.put(e,t,this.getInitWithCustomUserAgentDetails(n,P.Put))},InternalAPIClass.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,this.getInitWithCustomUserAgentDetails(n,P.Patch))},InternalAPIClass.prototype.del=function(e,t,n){return this._restApi.del(e,t,this.getInitWithCustomUserAgentDetails(n,P.Del))},InternalAPIClass.prototype.head=function(e,t,n){return this._restApi.head(e,t,this.getInitWithCustomUserAgentDetails(n,P.Head))},InternalAPIClass.prototype.isCancel=function(e){return this._restApi.isCancel(e)},InternalAPIClass.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},InternalAPIClass.prototype.getInitWithCustomUserAgentDetails=function(e,t){var n={category:O.API,action:t};return(0,en.__assign)((0,en.__assign)({},e),{customUserAgentDetails:n})},InternalAPIClass.prototype.endpoint=function(e){return(0,en.__awaiter)(this,void 0,void 0,function(){return(0,en.__generator)(this,function(t){return[2,this._restApi.endpoint(e)]})})},InternalAPIClass.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},InternalAPIClass.prototype.graphql=function(e,t,n){var i=(0,en.__assign)({category:O.API,action:P.GraphQl},n);return this._graphqlApi.graphql(e,t,i)},InternalAPIClass}(),rP=new rk(null);eo.d.register(rP),new ei.k("API");var rR=new(function(e){function APIClass(){return null!==e&&e.apply(this,arguments)||this}return(0,en.__extends)(APIClass,e),APIClass.prototype.getModuleName=function(){return"API"},APIClass.prototype.graphql=function(t,n){return e.prototype.graphql.call(this,t,n)},APIClass}(rk))(null);eo.d.register(rR)},1422:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var i=n(3956),__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},o=new i.k("Amplify"),s=new(function(){function AmplifyClass(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=i.k,this.ServiceWorker=null}return AmplifyClass.prototype.register=function(e){o.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):o.debug("no getModuleName method for component",e),e.configure(this._config)},AmplifyClass.prototype.configure=function(e){var t=this;return e&&(this._config=Object.assign(this._config,e),o.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(e){var n=__read(e,2),i=(n[0],n[1]);Object.keys(i).forEach(function(e){t._modules[e]&&(i[e]=t._modules[e])})}),this._components.map(function(e){e.configure(t._config)})),this._config},AmplifyClass.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},AmplifyClass}())},3956:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var i,o,__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a},__spreadArray=function(e,t,n){if(n||2==arguments.length)for(var i,o=0,s=t.length;o<s;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};(o=i||(i={})).DEBUG="DEBUG",o.ERROR="ERROR",o.INFO="INFO",o.WARN="WARN",o.VERBOSE="VERBOSE";var a=function(){function ConsoleLogger(e,t){void 0===t&&(t=i.WARN),this.name=e,this.level=t,this._pluggables=[]}return ConsoleLogger.prototype._padding=function(e){return e<10?"0"+e:""+e},ConsoleLogger.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},ConsoleLogger.prototype.configure=function(e){return e&&(this._config=e),this._config},ConsoleLogger.prototype._log=function(e){for(var t,n,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var u=this.level;ConsoleLogger.LOG_LEVEL&&(u=ConsoleLogger.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(u=window.LOG_LEVEL);var c=s[u];if(s[e]>=c){var f=console.log.bind(console);e===i.ERROR&&console.error&&(f=console.error.bind(console)),e===i.WARN&&console.warn&&(f=console.warn.bind(console));var p="[".concat(e,"] ").concat(this._ts()," ").concat(this.name),g="";if(1===o.length&&"string"==typeof o[0])f(g="".concat(p," - ").concat(o[0]));else if(1===o.length)g="".concat(p," ").concat(o[0]),f(p,o[0]);else if("string"==typeof o[0]){var y=o.slice(1);1===y.length&&(y=y[0]),g="".concat(p," - ").concat(o[0]," ").concat(y),f("".concat(p," - ").concat(o[0]),y)}else g="".concat(p," ").concat(o),f(p,o);try{for(var v=__values(this._pluggables),m=v.next();!m.done;m=v.next()){var _=m.value,b={message:g,timestamp:Date.now()};_.pushLogs([b])}}catch(e){t={error:e}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}}},ConsoleLogger.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,__spreadArray([i.INFO],__read(e),!1))},ConsoleLogger.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,__spreadArray([i.INFO],__read(e),!1))},ConsoleLogger.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,__spreadArray([i.WARN],__read(e),!1))},ConsoleLogger.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,__spreadArray([i.ERROR],__read(e),!1))},ConsoleLogger.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,__spreadArray([i.DEBUG],__read(e),!1))},ConsoleLogger.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,__spreadArray([i.VERBOSE],__read(e),!1))},ConsoleLogger.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},ConsoleLogger.prototype.listPluggables=function(){return this._pluggables},ConsoleLogger.LOG_LEVEL=null,ConsoleLogger}()},1403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var i=n(5758),o=function(){function RawSha256(){this.state=Int32Array.from(i.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return RawSha256.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>i.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===i.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},RawSha256.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%i.BLOCK_SIZE>=i.BLOCK_SIZE-8){for(var o=this.bufferLength;o<i.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<i.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(i.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(i.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(i.DIGEST_LENGTH),o=0;o<8;o++)s[4*o]=this.state[o]>>>24&255,s[4*o+1]=this.state[o]>>>16&255,s[4*o+2]=this.state[o]>>>8&255,s[4*o+3]=this.state[o]>>>0&255;return s},RawSha256.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],s=t[2],a=t[3],u=t[4],c=t[5],f=t[6],p=t[7],g=0;g<i.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(255&e[4*g])<<24|(255&e[4*g+1])<<16|(255&e[4*g+2])<<8|255&e[4*g+3];else{var y=this.temp[g-2],v=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,m=((y=this.temp[g-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[g]=(v+this.temp[g-7]|0)+(m+this.temp[g-16]|0)}var _=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&c^~u&f)|0)+(p+(i.KEY[g]+this.temp[g]|0)|0)|0,b=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&s^o&s)|0;p=f,f=c,c=u,u=a+_|0,a=s,s=o,o=n,n=_+b|0}t[0]+=n,t[1]+=o,t[2]+=s,t[3]+=a,t[4]+=u,t[5]+=c,t[6]+=f,t[7]+=p},RawSha256}();t.RawSha256=o},5758:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=9007199254740991},1441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(5949).__exportStar)(n(9332),t)},9332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var i=n(5949),o=n(5758),s=n(1403),a=n(8045),u=function(){function Sha256(e){if(this.hash=new s.RawSha256,e){this.outer=new s.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new s.RawSha256;n.update(t),t=n.digest()}var i=new Uint8Array(o.BLOCK_SIZE);return i.set(t),i}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var i=0;i<o.BLOCK_SIZE;i++)t[i]^=54,n[i]^=92;this.hash.update(t),this.outer.update(n);for(var i=0;i<t.byteLength;i++)t[i]=0}}return Sha256.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},Sha256.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},Sha256.prototype.digest=function(){return(0,i.__awaiter)(this,void 0,void 0,function(){return(0,i.__generator)(this,function(e){return[2,this.digestSync()]})})},Sha256}();t.Sha256=u},1463:function(e,t,n){"use strict";var i=n(6379).lW;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var o=n(7142),s=void 0!==i&&i.from?function(e){return i.from(e,"utf8")}:o.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?s(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},8045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var i=n(1463);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return i.convertToBuffer}});var o=n(7929);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var s=n(2316);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var a=n(9677);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},7929:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2316:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},9677:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},7142:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return dist_es_fromUtf8},toUtf8:function(){return dist_es_toUtf8}});let fromUtf8=e=>{let t=[];for(let n=0,i=e.length;n<i;n++){let i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&(64512&i)==55296&&(64512&e.charCodeAt(n+1))==56320){let o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},toUtf8=e=>{let t="";for(let n=0,i=e.length;n<i;n++){let i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){let o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){let o=[i,e[++n],e[++n],e[++n]],s="%"+o.map(e=>e.toString(16)).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t},dist_es_fromUtf8=e=>"function"==typeof TextEncoder?new TextEncoder().encode(e):fromUtf8(e),dist_es_toUtf8=e=>"function"==typeof TextDecoder?new TextDecoder("utf-8").decode(e):toUtf8(e)},5415:function(e,t){"use strict";t.byteLength=function(e){var t=getLens(e),n=t[0],i=t[1];return(n+i)*3/4-i},t.toByteArray=function(e){var t,n,s=getLens(e),a=s[0],u=s[1],c=new o((a+u)*3/4-u),f=0,p=u>0?a-4:a;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;return 2===u&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[f++]=255&t),1===u&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t),c},t.fromByteArray=function(e){for(var t,i=e.length,o=i%3,s=[],a=0,u=i-o;a<u;a+=16383)s.push(function(e,t,i){for(var o,s=[],a=t;a<i;a+=3)s.push(n[(o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}(e,a,a+16383>u?u:a+16383));return 1===o?s.push(n[(t=e[i-1])>>2]+n[t<<4&63]+"=="):2===o&&s.push(n[(t=(e[i-2]<<8)+e[i-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function getLens(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},6379:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var i=n(5415),o=n(551),s=n(9673);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,i){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!Buffer.isEncoding(n))throw TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(t,n),o=(e=createBuffer(e,i)).write(t,n);return o!==i&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(Buffer.isBuffer(t)){var n,i=0|checked(t.length);return 0===(e=createBuffer(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&s(t.data))return fromArrayLike(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function checked(e){if(e>=kMaxLength())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0}}function slowToString(e,t,n){var o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var i,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var s="",a=t;a<n;++a)s+=(i=e[a])<16?"0"+i.toString(16):i.toString(16);return s}(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(127&e[o]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(e[o]);return i}(this,t,n);case"base64":return o=t,s=n,0===o&&s===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var i=e.slice(t,n),o="",s=0;s<i.length;s+=2)o+=String.fromCharCode(i[s]+256*i[s+1]);return o}(this,t,n);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function swap(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function bidirectionalIndexOf(e,t,n,i,o){if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),isNaN(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return -1;n=e.length-1}else if(n<0){if(!o)return -1;n=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,i,o);if("number"==typeof t)return(t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,i,o);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,i,o){var s,a=1,u=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;a=2,u/=2,c/=2,n/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(s=n;s<u;s++)if(read(e,s)===read(t,-1===f?0:s-f)){if(-1===f&&(f=s),s-f+1===c)return f*a}else -1!==f&&(s-=s-f),f=-1}else for(n+c>u&&(n=u-c),s=n;s>=0;s--){for(var p=!0,g=0;g<c;g++)if(read(e,s+g)!==read(t,g)){p=!1;break}if(p)return s}return -1}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var i=[],o=t;o<n;){var s,a,u,c,f=e[o],p=null,g=f>239?4:f>223?3:f>191?2:1;if(o+g<=n)switch(g){case 1:f<128&&(p=f);break;case 2:(192&(s=e[o+1]))==128&&(c=(31&f)<<6|63&s)>127&&(p=c);break;case 3:s=e[o+1],a=e[o+2],(192&s)==128&&(192&a)==128&&(c=(15&f)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(p=c);break;case 4:s=e[o+1],a=e[o+2],u=e[o+3],(192&s)==128&&(192&a)==128&&(192&u)==128&&(c=(15&f)<<18|(63&s)<<12|(63&a)<<6|63&u)>65535&&c<1114112&&(p=c)}null===p?(p=65533,g=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),o+=g}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function checkOffset(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,i,o,s){if(!Buffer.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw RangeError('"value" argument is out of bounds');if(n+i>e.length)throw RangeError("Index out of range")}function objectWriteUInt16(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,s=Math.min(e.length-n,2);o<s;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>(i?o:1-o)*8}function objectWriteUInt32(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,s=Math.min(e.length-n,4);o<s;++o)e[n+o]=t>>>(i?o:3-o)*8&255}function checkIEEE754(e,t,n,i,o,s){if(n+i>e.length||n<0)throw RangeError("Index out of range")}function writeFloat(e,t,n,i,s){return s||checkIEEE754(e,t,n,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,n,i,23,4),n+4}function writeDouble(e,t,n,i,s){return s||checkIEEE754(e,t,n,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,n,i,52,8),n+8}t.lW=Buffer,t.h2=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return(assertSize(e),e<=0)?createBuffer(null,e):void 0!==t?"string"==typeof n?createBuffer(null,e).fill(t,n):createBuffer(null,e).fill(t):createBuffer(null,e)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!s(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,i=Buffer.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!Buffer.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,n,i,o){if(!Buffer.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=n-t,u=Math.min(s,a),c=this.slice(i,o),f=e.slice(t,n),p=0;p<u;++p)if(c[p]!==f[p]){s=c[p],a=f[p];break}return s<a?-1:a<s?1:0},Buffer.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o,s,a,u,c,f,p,g,y,v,m,_,b=this.length-t;if((void 0===n||n>b)&&(n=b),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var S=!1;;)switch(i){case"hex":return function(e,t,n,i){n=Number(n)||0;var o=e.length-n;i?(i=Number(i))>o&&(i=o):i=o;var s=t.length;if(s%2!=0)throw TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var a=0;a<i;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))break;e[n+a]=u}return a}(this,e,t,n);case"utf8":case"utf-8":return c=t,f=n,blitBuffer(utf8ToBytes(e,this.length-c),this,c,f);case"ascii":return p=t,g=n,blitBuffer(asciiToBytes(e),this,p,g);case"latin1":case"binary":return o=this,s=e,a=t,u=n,blitBuffer(asciiToBytes(s),o,a,u);case"base64":return y=t,v=n,blitBuffer(base64ToBytes(e),this,y,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m=t,_=n,blitBuffer(function(e,t){for(var n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)i=(n=e.charCodeAt(s))>>8,o.push(n%256),o.push(i);return o}(e,this.length-m),this,m,_);default:if(S)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),S=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Buffer.prototype;else{var o=t-e;n=new Buffer(o,void 0);for(var s=0;s<o;++s)n[s]=this[s+e]}return n},Buffer.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return i},Buffer.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=t,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*t)),s},Buffer.prototype.readInt8=function(e,t){return(t||checkOffset(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var o=Math.pow(2,8*n)-1;checkInt(this,e,t,n,o,0)}var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n},Buffer.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var o=Math.pow(2,8*n)-1;checkInt(this,e,t,n,o,0)}var s=n-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n},Buffer.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);checkInt(this,e,t,n,o-1,-o)}var s=0,a=1,u=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===u&&0!==this[t+s-1]&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+n},Buffer.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);checkInt(this,e,t,n,o-1,-o)}var s=n-1,a=1,u=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===u&&0!==this[t+s+1]&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+n},Buffer.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("sourceStart out of bounds");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,s=i-n;if(this===e&&n<t&&t<i)for(o=s-1;o>=0;--o)e[o+t]=this[o+n];else if(s<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},Buffer.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o,s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,i).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var a=/[^+\/0-9A-Za-z-_]/g;function utf8ToBytes(e,t){t=t||1/0;for(var n,i=e.length,o=null,s=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319||a+1===i){(t-=3)>-1&&s.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function base64ToBytes(e){return i.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(a,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,n,i){for(var o=0;o<i&&!(o+n>=t.length)&&!(o>=e.length);++o)t[o+n]=e[o];return o}},3188:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},o=e.split(";"),s=(t||{}).decode||n,a=0;a<o.length;a++){var u=o[a],c=u.indexOf("=");if(!(c<0)){var f=u.substring(0,c).trim();if(void 0==i[f]){var p=u.substring(c+1,u.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),i[f]=function(e,t){try{return t(e)}catch(t){return e}}(p,s)}}}return i},t.q=function(e,t,n){var s=n||{},a=s.encode||i;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var u=a(t);if(u&&!o.test(u))throw TypeError("argument val is invalid");var c=e+"="+u;if(null!=s.maxAge){var f=s.maxAge-0;if(isNaN(f)||!isFinite(f))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(f)}if(s.domain){if(!o.test(s.domain))throw TypeError("option domain is invalid");c+="; Domain="+s.domain}if(s.path){if(!o.test(s.path))throw TypeError("option path is invalid");c+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(c+="; HttpOnly"),s.secure&&(c+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var n=decodeURIComponent,i=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},2535:function(e,t,n){"use strict";var i=n(6237),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function getStatics(e){return i.isMemo(e)?a:u[e.$$typeof]||o}u[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[i.Memo]=a;var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,v=Object.prototype;e.exports=function hoistNonReactStatics(e,t,n){if("string"!=typeof t){if(v){var i=y(t);i&&i!==v&&hoistNonReactStatics(e,i,n)}var o=f(t);p&&(o=o.concat(p(t)));for(var a=getStatics(e),u=getStatics(t),m=0;m<o.length;++m){var _=o[m];if(!s[_]&&!(n&&n[_])&&!(u&&u[_])&&!(a&&a[_])){var b=g(t,_);try{c(e,_,b)}catch(e){}}}}return e}},551:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,i,o){var s,a,u=8*o-i-1,c=(1<<u)-1,f=c>>1,p=-7,g=n?o-1:0,y=n?-1:1,v=e[t+g];for(g+=y,s=v&(1<<-p)-1,v>>=-p,p+=u;p>0;s=256*s+e[t+g],g+=y,p-=8);for(a=s&(1<<-p)-1,s>>=-p,p+=i;p>0;a=256*a+e[t+g],g+=y,p-=8);if(0===s)s=1-f;else{if(s===c)return a?NaN:(v?-1:1)*(1/0);a+=Math.pow(2,i),s-=f}return(v?-1:1)*a*Math.pow(2,s-i)},t.write=function(e,t,n,i,o,s){var a,u,c,f=8*s-o-1,p=(1<<f)-1,g=p>>1,y=23===o?5960464477539062e-23:0,v=i?0:s-1,m=i?1:-1,_=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(u=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+g>=1?t+=y/c:t+=y*Math.pow(2,1-g),t*c>=2&&(a++,c/=2),a+g>=p?(u=0,a=p):a+g>=1?(u=(t*c-1)*Math.pow(2,o),a+=g):(u=t*Math.pow(2,g-1)*Math.pow(2,o),a=0));o>=8;e[n+v]=255&u,v+=m,u/=256,o-=8);for(a=a<<o|u,f+=o;f>0;e[n+v]=255&a,v+=m,a/=256,f-=8);e[n+v-m]|=128*_}},9673:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},7258:function(e,t,n){var i,o,s;void 0!==(o="function"==typeof(i=s=function(){function extend(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function decode(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function init(e){function api(){}function set(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=extend({path:"/"},api.defaults,i)).expires&&(i.expires=new Date(new Date*1+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=e.write?e.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=t+"="+n+s}}function get(t,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=decode(a[0]);if(u=(e.read||e)(u,c)||decode(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,t===c)break}catch(e){}}return t?i[t]:i}}return api.set=set,api.get=function(e){return get(e,!1)},api.getJSON=function(e){return get(e,!0)},api.remove=function(e,t){set(e,"",extend(t,{expires:-1}))},api.defaults={},api.withConverter=init,api}(function(){})})?i.call(t,n,t,e):i)&&(e.exports=o),e.exports=s()},961:function(e){"use strict";let t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},9520:function(e,t,n){"use strict";var i,o;e.exports=(null==(i=n.g.process)?void 0:i.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(7960)},8668:function(e,t,n){!function(){var t={452:function(e){"use strict";e.exports=n(5680)}},i={};function __nccwpck_require__(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={exports:{}},s=!0;try{t[e](o,o.exports,__nccwpck_require__),s=!1}finally{s&&delete i[e]}return o.exports}__nccwpck_require__.ab="//";var o={};!function(){var e,t=(e=__nccwpck_require__(452))&&"object"==typeof e&&"default"in e?e.default:e,n=/https?|ftp|gopher|file/;function r(e){"string"==typeof e&&(e=d(e));var i,o,s,a,u,c,f,p,g,y=(o=(i=e).auth,s=i.hostname,a=i.protocol||"",u=i.pathname||"",c=i.hash||"",f=i.query||"",p=!1,o=o?encodeURIComponent(o).replace(/%3A/i,":")+"@":"",i.host?p=o+i.host:s&&(p=o+(~s.indexOf(":")?"["+s+"]":s),i.port&&(p+=":"+i.port)),f&&"object"==typeof f&&(f=t.encode(f)),g=i.search||f&&"?"+f||"",a&&":"!==a.substr(-1)&&(a+=":"),i.slashes||(!a||n.test(a))&&!1!==p?(p="//"+(p||""),u&&"/"!==u[0]&&(u="/"+u)):p||(p=""),c&&"#"!==c[0]&&(c="#"+c),g&&"?"!==g[0]&&(g="?"+g),{protocol:a,host:p,pathname:u=u.replace(/[?#]/g,encodeURIComponent),search:g=g.replace("#","%23"),hash:c});return""+y.protocol+y.host+y.pathname+y.search+y.hash}var i="http://",s=i+"w.w",a=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,u=/https?|ftp|gopher|file/;function h(e,t){var n="string"==typeof e?d(e):e;e="object"==typeof e?r(e):e;var o=d(t),c="";n.protocol&&!n.slashes&&(c=n.protocol,e=e.replace(n.protocol,""),c+="/"===t[0]||"/"===e[0]?"/":""),c&&o.protocol&&(c="",o.slashes||(c=o.protocol,t=t.replace(o.protocol,"")));var f=e.match(a);f&&!o.protocol&&(e=e.substr((c=f[1]+(f[2]||"")).length),/^\/\/[^/]/.test(t)&&(c=c.slice(0,-1)));var p=new URL(e,s+"/"),g=new URL(t,p).toString().replace(s,""),y=o.protocol||n.protocol;return y+=n.slashes||o.slashes?"//":"",!c&&y?g=g.replace(i,y):c&&(g=g.replace(i,"")),u.test(g)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==g.slice(-1)||(g=g.slice(0,-1)),c&&(g=c+("/"===g[0]?g.substr(1):g)),g}function l(){}l.prototype.parse=d,l.prototype.format=r,l.prototype.resolve=h,l.prototype.resolveObject=h;var c=/^https?|ftp|gopher|file/,f=/^(.*?)([#?].*)/,p=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function d(e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof l)return e;var o=(e=e.trim()).match(f);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(p),u=g.test(e),v="";a&&(c.test(a[1])||(v=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(u=!1,c.test(a[1])?(v=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(v=a[1],e="/"+a[3]));var m,_=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),b=_&&_[1],S=new l,w="",C="";try{m=new URL(e)}catch(t){w=t,v||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(C="/",e=e.substr(1));try{m=new URL(e,s)}catch(e){return S.protocol=v,S.href=v,S}}S.slashes=u&&!C,S.host="w.w"===m.host?"":m.host,S.hostname="w.w"===m.hostname?"":m.hostname.replace(/(\[|\])/g,""),S.protocol=w?v||null:m.protocol,S.search=m.search.replace(/\\/g,"%5C"),S.hash=m.hash.replace(/\\/g,"%5C");var E=e.split("#");!S.search&&~E[0].indexOf("?")&&(S.search="?"),S.hash||""!==E[1]||(S.hash="#"),S.query=n?t.decode(m.search.substr(1)):S.search.substr(1),S.pathname=C+(a?m.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):m.pathname),"about:"===S.protocol&&"blank"===S.pathname&&(S.protocol="",S.pathname=""),w&&"/"!==e[0]&&(S.pathname=S.pathname.substr(1)),v&&!c.test(v)&&"/"!==e.slice(-1)&&"/"===S.pathname&&(S.pathname=""),S.path=S.pathname+S.search,S.auth=[m.username,m.password].map(decodeURIComponent).filter(Boolean).join(":"),S.port=m.port,b&&!S.host.endsWith(b)&&(S.host+=b,S.port=b.slice(1)),S.href=C?""+S.pathname+S.search+S.hash:r(S);var I=/^(file)/.test(S.href)?["host","hostname"]:[];return Object.keys(S).forEach(function(e){~I.indexOf(e)||(S[e]=S[e]||null)}),S}o.parse=d,o.format=r,o.resolve=h,o.resolveObject=function(e,t){return d(h(e,t))},o.Url=l}(),e.exports=o}()},7960:function(e){!function(){var t={229:function(e){var t,n,i,o=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var s=[],a=!1,u=-1;function cleanUpNextTick(){a&&i&&(a=!1,i.length?s=i.concat(s):u=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=s.length;t;){for(i=s,s=[];++u<t;)i&&i[u].run();u=-1,t=s.length}i=null,a=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new Item(e,t)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function __nccwpck_require__(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,__nccwpck_require__),s=!1}finally{s&&delete n[e]}return o.exports}__nccwpck_require__.ab="//";var i=__nccwpck_require__(229);e.exports=i}()},5680:function(e){!function(){"use strict";var t={815:function(e){e.exports=function(e,n,i,o){n=n||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(n);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var p,g,y,v,m=e[f].replace(a,"%20"),_=m.indexOf(i);(_>=0?(p=m.substr(0,_),g=m.substr(_+1)):(p=m,g=""),y=decodeURIComponent(p),v=decodeURIComponent(g),Object.prototype.hasOwnProperty.call(s,y))?t(s[y])?s[y].push(v):s[y]=[s[y],v]:s[y]=v}return s};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,o,s){return(i=i||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e)?map(n(e),function(n){var s=encodeURIComponent(stringifyPrimitive(n))+o;return t(e[n])?map(e[n],function(e){return s+encodeURIComponent(stringifyPrimitive(e))}).join(i):s+encodeURIComponent(stringifyPrimitive(e[n]))}).join(i):s?encodeURIComponent(stringifyPrimitive(s))+o+encodeURIComponent(stringifyPrimitive(e)):""};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var n=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}},n={};function __nccwpck_require__(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,__nccwpck_require__),s=!1}finally{s&&delete n[e]}return o.exports}__nccwpck_require__.ab="//";var i={};i.decode=i.parse=__nccwpck_require__(815),i.encode=i.stringify=__nccwpck_require__(577),e.exports=i}()},4049:function(e,t,n){"use strict";var i=n(6257);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,e.exports=function(){function shim(e,t,n,o,s,a){if(a!==i){var u=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}},507:function(e,t,n){e.exports=n(4049)()},6257:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8050:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i,o,s=n(959),a=n(507),u=n.n(a),c=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function ReCAPTCHA(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(_assertThisInitialized(t)),t.handleErrored=t.handleErrored.bind(_assertThisInitialized(t)),t.handleChange=t.handleChange.bind(_assertThisInitialized(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(_assertThisInitialized(t)),t}ReCAPTCHA.prototype=Object.create(e.prototype),ReCAPTCHA.prototype.constructor=ReCAPTCHA,_setPrototypeOf(ReCAPTCHA,e);var t=ReCAPTCHA.prototype;return t.getCaptchaFunction=function(e){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[e]:this.props.grecaptcha[e]:null},t.getValue=function(){var e=this.getCaptchaFunction("getResponse");return e&&void 0!==this._widgetId?e(this._widgetId):null},t.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},t.execute=function(){var e=this.getCaptchaFunction("execute");if(e&&void 0!==this._widgetId)return e(this._widgetId);this._executeRequested=!0},t.executeAsync=function(){var e=this;return new Promise(function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()})},t.reset=function(){var e=this.getCaptchaFunction("reset");e&&void 0!==this._widgetId&&e(this._widgetId)},t.forceReset=function(){var e=this.getCaptchaFunction("reset");e&&e()},t.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},t.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},t.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},t.explicitRender=function(){var e=this.getCaptchaFunction("render");if(e&&void 0===this._widgetId){var t=document.createElement("div");this._widgetId=e(t,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(t)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},t.componentDidMount=function(){this.explicitRender()},t.componentDidUpdate=function(){this.explicitRender()},t.handleRecaptchaRef=function(e){this.captcha=e},t.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,e.isolated,function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,c));return s.createElement("div",_extends({},t,{ref:this.handleRecaptchaRef}))},ReCAPTCHA}(s.Component);f.displayName="ReCAPTCHA",f.propTypes={sitekey:u().string.isRequired,onChange:u().func,grecaptcha:u().object,theme:u().oneOf(["dark","light"]),type:u().oneOf(["image","audio"]),tabindex:u().number,onExpired:u().func,onErrored:u().func,size:u().oneOf(["compact","normal","invisible"]),stoken:u().string,hl:u().string,badge:u().oneOf(["bottomright","bottomleft","inline"]),isolated:u().bool},f.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var p=n(2535),g=n.n(p);function async_script_loader_extends(){return(async_script_loader_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var y={},v=0,m="onloadcallback";function getOptions(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}var _=(i=function(){var e=getOptions(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+m+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+m+"&render=explicit"},o=(o={callbackName:m,globalName:"grecaptcha",attributes:getOptions().nonce?{nonce:getOptions().nonce}:{}})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){function AsyncScriptLoader(e,n){var i;return(i=t.call(this,e,n)||this).state={},i.__scriptURL="",i}AsyncScriptLoader.prototype=Object.create(t.prototype),AsyncScriptLoader.prototype.constructor=AsyncScriptLoader,AsyncScriptLoader.__proto__=t;var n=AsyncScriptLoader.prototype;return n.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+v++),this.__scriptLoaderID},n.setupScriptURL=function(){return this.__scriptURL="function"==typeof i?i():i,this.__scriptURL},n.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)})},n.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=y[this.__scriptURL];if(!e||!e.loaded)throw Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[o.callbackName]},n.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),i=o,s=i.globalName,a=i.callbackName,u=i.scriptId;if(s&&void 0!==window[s]&&(y[t]={loaded:!0,observers:{}}),y[t]){var c=y[t];if(c&&(c.loaded||c.errored)){this.asyncScriptLoaderHandleLoad(c);return}c.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)};return}var f={};f[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},y[t]={loaded:!1,observers:f};var p=document.createElement("script");for(var g in p.src=t,p.async=!0,o.attributes)p.setAttribute(g,o.attributes[g]);u&&(p.id=u);var callObserverFuncAndRemoveObserver=function(e){if(y[t]){var n=y[t].observers;for(var i in n)e(n[i])&&delete n[i]}};a&&"undefined"!=typeof window&&(window[a]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),p.onload=function(){var e=y[t];e&&(e.loaded=!0,callObserverFuncAndRemoveObserver(function(t){return!a&&(t(e),!0)}))},p.onerror=function(){var e=y[t];e&&(e.errored=!0,callObserverFuncAndRemoveObserver(function(t){return t(e),!0}))},document.body.appendChild(p)},n.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===o.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var i=y[e];i&&(delete i.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===o.removeOnUnmount&&delete y[e])},n.render=function(){var t=o.globalName,n=this.props,i=(n.asyncScriptOnLoad,n.forwardedRef),a=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(n=s[i])>=0||(o[n]=e[n]);return o}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!=typeof window&&(a[t]=void 0!==window[t]?window[t]:void 0),a.ref=i,(0,s.createElement)(e,a)},AsyncScriptLoader}(s.Component),a=(0,s.forwardRef)(function(e,t){return(0,s.createElement)(n,async_script_loader_extends({},e,{forwardedRef:t}))});return a.displayName="AsyncScriptLoader("+t+")",a.propTypes={asyncScriptOnLoad:u().func},g()(a,e)})(f)},198:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,g=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,v=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function z(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case p:case g:case s:case u:case a:case v:return e;default:switch(e=e&&e.$$typeof){case f:case y:case b:case _:case c:return e;default:return t}}case o:return t}}}function A(e){return z(e)===g}t.AsyncMode=p,t.ConcurrentMode=g,t.ContextConsumer=f,t.ContextProvider=c,t.Element=i,t.ForwardRef=y,t.Fragment=s,t.Lazy=b,t.Memo=_,t.Portal=o,t.Profiler=u,t.StrictMode=a,t.Suspense=v,t.isAsyncMode=function(e){return A(e)||z(e)===p},t.isConcurrentMode=A,t.isContextConsumer=function(e){return z(e)===f},t.isContextProvider=function(e){return z(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return z(e)===y},t.isFragment=function(e){return z(e)===s},t.isLazy=function(e){return z(e)===b},t.isMemo=function(e){return z(e)===_},t.isPortal=function(e){return z(e)===o},t.isProfiler=function(e){return z(e)===u},t.isStrictMode=function(e){return z(e)===a},t.isSuspense=function(e){return z(e)===v},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===g||e===u||e===a||e===v||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===_||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===w||e.$$typeof===C||e.$$typeof===E||e.$$typeof===S)},t.typeOf=z},6237:function(e,t,n){"use strict";e.exports=n(198)},5949:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function __rest(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>t.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function __decorate(e,t,n,i){var o,s=arguments.length,a=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function __param(e,t){return function(n,i){t(n,i,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,i){return new(n||(n=Promise))(function(o,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})}function __generator(e,t){var n,i,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(s){return function(u){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function __createBinding(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function __exportStar(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return a}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,u=s.length;a<u;a++,o++)i[o]=s[a];return i}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),s=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(e){o[e]&&(i[e]=function(t){return new Promise(function(n,i){s.push([e,t,n,i])>1||resume(e,t)})})}function resume(e,t){try{var n;(n=o[e](t)).value instanceof __await?Promise.resolve(n.value.v).then(fulfill,reject):settle(s[0][2],n)}catch(e){settle(s[0][3],e)}}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),s.shift(),s.length&&resume(s[0][0],s[0][1])}}function __asyncDelegator(e){var t,n;return t={},verb("next"),verb("throw",function(e){throw e}),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:__await(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function __asyncValues(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=__values(e),t={},verb("next"),verb("throw"),verb("return"),t[Symbol.asyncIterator]=function(){return this},t);function verb(n){t[n]=e[n]&&function(t){return new Promise(function(i,o){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,o,(t=e[n](t)).done,t.value)})}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function __classPrivateFieldSet(e,t,n){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5296:function(e,t,n){var i=n(2335),o=n(5234);o.v1=i,o.v4=o,e.exports=o},614:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var i=n||0;return[t[e[i++]],t[e[i++]],t[e[i++]],t[e[i++]],"-",t[e[i++]],t[e[i++]],"-",t[e[i++]],t[e[i++]],"-",t[e[i++]],t[e[i++]],"-",t[e[i++]],t[e[i++]],t[e[i++]],t[e[i++]],t[e[i++]],t[e[i++]]].join("")}},537:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var i=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},2335:function(e,t,n){var i,o,s=n(537),a=n(614),u=0,c=0;e.exports=function(e,t,n){var f=t&&n||0,p=t||[],g=(e=e||{}).node||i,y=void 0!==e.clockseq?e.clockseq:o;if(null==g||null==y){var v=s();null==g&&(g=i=[1|v[0],v[1],v[2],v[3],v[4],v[5]]),null==y&&(y=o=(v[6]<<8|v[7])&16383)}var m=void 0!==e.msecs?e.msecs:new Date().getTime(),_=void 0!==e.nsecs?e.nsecs:c+1,b=m-u+(_-c)/1e4;if(b<0&&void 0===e.clockseq&&(y=y+1&16383),(b<0||m>u)&&void 0===e.nsecs&&(_=0),_>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=m,c=_,o=y;var S=((268435455&(m+=122192928e5))*1e4+_)%4294967296;p[f++]=S>>>24&255,p[f++]=S>>>16&255,p[f++]=S>>>8&255,p[f++]=255&S;var w=m/4294967296*1e4&268435455;p[f++]=w>>>8&255,p[f++]=255&w,p[f++]=w>>>24&15|16,p[f++]=w>>>16&255,p[f++]=y>>>8|128,p[f++]=255&y;for(var C=0;C<6;++C)p[f+C]=g[C];return t||a(p)}},5234:function(e,t,n){var i=n(537),o=n(614);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[s+u]=a[u];return t||o(a)}},8666:function(e,t,n){e.exports=n(7603).Observable},7603:function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}t.Observable=void 0;var hasSymbols=function(){return"function"==typeof Symbol},hasSymbol=function(e){return hasSymbols()&&!!Symbol[e]},getSymbol=function(e){return hasSymbol(e)?Symbol[e]:"@@"+e};hasSymbols()&&!hasSymbol("observable")&&(Symbol.observable=Symbol("observable"));var n=getSymbol("iterator"),i=getSymbol("observable"),o=getSymbol("species");function getMethod(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw TypeError(n+" is not a function");return n}}function getSpecies(e){var t=e.constructor;return void 0!==t&&null===(t=t[o])&&(t=void 0),void 0!==t?t:u}function hostReportError(e){hostReportError.log?hostReportError.log(e):setTimeout(function(){throw e})}function enqueue(e){Promise.resolve().then(function(){try{e()}catch(e){hostReportError(e)}})}function cleanupSubscription(e){var t=e._cleanup;if(void 0!==t){if(e._cleanup=void 0,!t)return;try{if("function"==typeof t)t();else{var n=getMethod(t,"unsubscribe");n&&n.call(t)}}catch(e){hostReportError(e)}}}function closeSubscription(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function notifySubscription(e,t,n){e._state="running";var i=e._observer;try{var o=getMethod(i,t);switch(t){case"next":o&&o.call(i,n);break;case"error":if(closeSubscription(e),o)o.call(i,n);else throw n;break;case"complete":closeSubscription(e),o&&o.call(i)}}catch(e){hostReportError(e)}"closed"===e._state?cleanupSubscription(e):"running"===e._state&&(e._state="ready")}function onNotify(e,t,n){if("closed"!==e._state){if("buffering"===e._state){e._queue.push({type:t,value:n});return}if("ready"!==e._state){e._state="buffering",e._queue=[{type:t,value:n}],enqueue(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(notifySubscription(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)});return}notifySubscription(e,t,n)}}var s=function(){function Subscription(e,t){_classCallCheck(this,Subscription),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new a(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return _createClass(Subscription,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(closeSubscription(this),cleanupSubscription(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),Subscription}(),a=function(){function SubscriptionObserver(e){_classCallCheck(this,SubscriptionObserver),this._subscription=e}return _createClass(SubscriptionObserver,[{key:"next",value:function(e){onNotify(this._subscription,"next",e)}},{key:"error",value:function(e){onNotify(this._subscription,"error",e)}},{key:"complete",value:function(){onNotify(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),SubscriptionObserver}(),u=function(){function Observable(e){if(_classCallCheck(this,Observable),!(this instanceof Observable))throw TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw TypeError("Observable initializer must be a function");this._subscriber=e}return _createClass(Observable,[{key:"subscribe",value:function(e){return("object"!=typeof e||null===e)&&(e={next:e,error:arguments[1],complete:arguments[2]}),new s(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(n,i){if("function"!=typeof e){i(TypeError(e+" is not a function"));return}function done(){o.unsubscribe(),n()}var o=t.subscribe({next:function(t){try{e(t,done)}catch(e){i(e),o.unsubscribe()}},error:i,complete:n})})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");return new(getSpecies(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");return new(getSpecies(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");var n=getSpecies(this),i=arguments.length>1,o=!1,s=arguments[1],a=s;return new n(function(n){return t.subscribe({next:function(t){var s=!o;if(o=!0,!s||i)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!o&&!i)return n.error(TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=getSpecies(this);return new o(function(t){var i,s=0;return function startNext(e){i=e.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){s===n.length?(i=void 0,t.complete()):startNext(o.from(n[s++]))}})}(e),function(){i&&(i.unsubscribe(),i=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw TypeError(e+" is not a function");var n=getSpecies(this);return new n(function(i){var o=[],s=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return i.error(e)}var s=n.from(t).subscribe({next:function(e){i.next(e)},error:function(e){i.error(e)},complete:function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),completeIfDone()}});o.push(s)},error:function(e){i.error(e)},complete:function(){completeIfDone()}});function completeIfDone(){s.closed&&0===o.length&&i.complete()}return function(){o.forEach(function(e){return e.unsubscribe()}),s.unsubscribe()}})}},{key:i,value:function(){return this}}],[{key:"from",value:function(e){var t="function"==typeof this?this:Observable;if(null==e)throw TypeError(e+" is not an object");var o=getMethod(e,i);if(o){var s=o.call(e);if(Object(s)!==s)throw TypeError(s+" is not an object");return s instanceof u&&s.constructor===t?s:new t(function(e){return s.subscribe(e)})}if(hasSymbol("iterator")&&(o=getMethod(e,n)))return new t(function(t){enqueue(function(){if(!t.closed){var n=!0,i=!1,s=void 0;try{for(var a,u=o.call(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;if(t.next(c),t.closed)return}}catch(e){i=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw s}}t.complete()}})});if(Array.isArray(e))return new t(function(t){enqueue(function(){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}})});throw TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new("function"==typeof this?this:Observable)(function(e){enqueue(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})})}},{key:o,get:function(){return this}}]),Observable}();t.Observable=u,hasSymbols()&&Object.defineProperty(u,Symbol("extensions"),{value:{symbol:i,hostReportError:hostReportError},configurable:!0})},6338:function(e,t,n){"use strict";n.d(t,{Z:function(){return ed}});var i,o,s,a={};function bind(e,t){return function(){return e.apply(t,arguments)}}n.r(a),n.d(a,{hasBrowserEnv:function(){return G},hasStandardBrowserEnv:function(){return J},hasStandardBrowserWebWorkerEnv:function(){return Y}});let{toString:u}=Object.prototype,{getPrototypeOf:c}=Object,f=(i=Object.create(null),e=>{let t=u.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())}),kindOfTest=e=>(e=e.toLowerCase(),t=>f(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:p}=Array,g=typeOfTest("undefined"),y=kindOfTest("ArrayBuffer"),v=typeOfTest("string"),m=typeOfTest("function"),_=typeOfTest("number"),isObject=e=>null!==e&&"object"==typeof e,isPlainObject=e=>{if("object"!==f(e))return!1;let t=c(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=kindOfTest("Date"),S=kindOfTest("File"),w=kindOfTest("Blob"),C=kindOfTest("FileList"),E=kindOfTest("URLSearchParams");function forEach(e,t,{allOwnKeys:n=!1}={}){let i,o;if(null!=e){if("object"!=typeof e&&(e=[e]),p(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{let o;let s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;for(i=0;i<a;i++)o=s[i],t.call(null,e[o],o,e)}}}function findKey(e,t){let n;t=t.toLowerCase();let i=Object.keys(e),o=i.length;for(;o-- >0;)if(t===(n=i[o]).toLowerCase())return n;return null}let I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,isContextDefined=e=>!g(e)&&e!==I,T=(o="undefined"!=typeof Uint8Array&&c(Uint8Array),e=>o&&e instanceof o),O=kindOfTest("HTMLFormElement"),k=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),P=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),i={};forEach(n,(n,o)=>{let s;!1!==(s=t(n,o,e))&&(i[o]=s||n)}),Object.defineProperties(e,i)},R="abcdefghijklmnopqrstuvwxyz",N="0123456789",x={DIGIT:N,ALPHA:R,ALPHA_DIGIT:R+R.toUpperCase()+N},U=kindOfTest("AsyncFunction");var D={isArray:p,isArrayBuffer:y,isBuffer:function(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=f(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer)},isString:v,isNumber:_,isBoolean:e=>!0===e||!1===e,isObject,isPlainObject,isUndefined:g,isDate:b,isFile:S,isBlob:w,isRegExp:P,isFunction:m,isStream:e=>isObject(e)&&m(e.pipe),isURLSearchParams:E,isTypedArray:T,isFileList:C,forEach,merge:function merge(){let{caseless:e}=isContextDefined(this)&&this||{},t={},assignValue=(n,i)=>{let o=e&&findKey(t,i)||i;isPlainObject(t[o])&&isPlainObject(n)?t[o]=merge(t[o],n):isPlainObject(n)?t[o]=merge({},n):p(n)?t[o]=n.slice():t[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&forEach(arguments[e],assignValue);return t},extend:(e,t,n,{allOwnKeys:i}={})=>(forEach(t,(t,i)=>{n&&m(t)?e[i]=bind(t,n):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let o,s,a;let u={};if(t=t||{},null==e)return t;do{for(s=(o=Object.getOwnPropertyNames(e)).length;s-- >0;)a=o[s],(!i||i(a,e,t))&&!u[a]&&(t[a]=e[a],u[a]=!0);e=!1!==n&&c(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:f,kindOfTest,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let i=e.indexOf(t,n);return -1!==i&&i===n},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!_(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n;let i=e&&e[Symbol.iterator],o=i.call(e);for(;(n=o.next())&&!n.done;){let i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let n;let i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:O,hasOwnProperty:k,hasOwnProp:k,reduceDescriptors,freezeMethods:e=>{reduceDescriptors(e,(t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;let i=e[n];if(m(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(e=>{e.forEach(e=>{n[e]=!0})})(p(e)?e:String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey,global:I,isContextDefined,ALPHABET:x,generateString:(e=16,t=x.ALPHA_DIGIT)=>{let n="",{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),visit=(e,n)=>{if(isObject(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let i=p(e)?[]:{};return forEach(e,(e,t)=>{let o=visit(e,n+1);g(o)||(i[t]=o)}),t[n]=void 0,i}}return e};return visit(e,0)},isAsyncFn:U,isThenable:e=>e&&(isObject(e)||m(e))&&m(e.then)&&m(e.catch)};function AxiosError(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}D.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let B=AxiosError.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{F[e]={value:e}}),Object.defineProperties(AxiosError,F),Object.defineProperty(B,"isAxiosError",{value:!0}),AxiosError.from=(e,t,n,i,o,s)=>{let a=Object.create(B);return D.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),AxiosError.call(a,e.message,t,n,i,o),a.cause=e,a.name=e.name,s&&Object.assign(a,s),a};var j=n(6379).lW;function isVisitable(e){return D.isPlainObject(e)||D.isArray(e)}function removeBrackets(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,n){return e?e.concat(t).map(function(e,t){return e=removeBrackets(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}let M=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});var helpers_toFormData=function(e,t,n){if(!D.isObject(e))throw TypeError("target must be an object");t=t||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!D.isUndefined(t[e])});let i=n.metaTokens,o=n.visitor||defaultVisitor,s=n.dots,a=n.indexes,u=n.Blob||"undefined"!=typeof Blob&&Blob,c=u&&D.isSpecCompliantForm(t);if(!D.isFunction(o))throw TypeError("visitor must be a function");function convertValue(e){if(null===e)return"";if(D.isDate(e))return e.toISOString();if(!c&&D.isBlob(e))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(e)||D.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):j.from(e):e}function defaultVisitor(e,n,o){let u=e;if(e&&!o&&"object"==typeof e){if(D.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else{var c;if(D.isArray(e)&&(c=e,D.isArray(c)&&!c.some(isVisitable))||(D.isFileList(e)||D.endsWith(n,"[]"))&&(u=D.toArray(e)))return n=removeBrackets(n),u.forEach(function(e,i){D.isUndefined(e)||null===e||t.append(!0===a?renderKey([n],i,s):null===a?n:n+"[]",convertValue(e))}),!1}}return!!isVisitable(e)||(t.append(renderKey(o,n,s),convertValue(e)),!1)}let f=[],p=Object.assign(M,{defaultVisitor,convertValue,isVisitable});if(!D.isObject(e))throw TypeError("data must be an object");return!function build(e,n){if(!D.isUndefined(e)){if(-1!==f.indexOf(e))throw Error("Circular reference detected in "+n.join("."));f.push(e),D.forEach(e,function(e,i){let s=!(D.isUndefined(e)||null===e)&&o.call(t,e,D.isString(i)?i.trim():i,n,p);!0===s&&build(e,n?n.concat(i):[i])}),f.pop()}}(e),t};function encode(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&helpers_toFormData(e,this,t)}let L=AxiosURLSearchParams.prototype;function buildURL_encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,n){let i;if(!t)return e;let o=n&&n.encode||buildURL_encode,s=n&&n.serialize;if(i=s?s(t,n):D.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,n).toString(o)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}L.append=function(e,t){this._pairs.push([e,t])},L.toString=function(e){let t=e?function(t){return e.call(this,t,encode)}:encode;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var V=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(t){null!==t&&e(t)})}},q={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K="undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,H="undefined"!=typeof FormData?FormData:null,W="undefined"!=typeof Blob?Blob:null;let G="undefined"!=typeof window&&"undefined"!=typeof document,J=(s="undefined"!=typeof navigator&&navigator.product,G&&0>["ReactNative","NativeScript","NS"].indexOf(s)),Y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var Q={...a,isBrowser:!0,classes:{URLSearchParams:K,FormData:H,Blob:W},protocols:["http","https","file","blob","url","data"]},helpers_formDataToJSON=function(e){if(D.isFormData(e)&&D.isFunction(e.entries)){let t={};return D.forEachEntry(e,(e,n)=>{!function buildPath(e,t,n,i){let o=e[i++];if("__proto__"===o)return!0;let s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&D.isArray(n)?n.length:o,a)return D.hasOwnProp(n,o)?n[o]=[n[o],t]:n[o]=t,!s;n[o]&&D.isObject(n[o])||(n[o]=[]);let u=buildPath(e,t,n[o],i);return u&&D.isArray(n[o])&&(n[o]=function(e){let t,n;let i={},o=Object.keys(e),s=o.length;for(t=0;t<s;t++)i[n=o[t]]=e[n];return i}(n[o])),!s}(D.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null};let $={transitional:q,adapter:["xhr","http"],transformRequest:[function(e,t){let n;let i=t.getContentType()||"",o=i.indexOf("application/json")>-1,s=D.isObject(e);s&&D.isHTMLForm(e)&&(e=new FormData(e));let a=D.isFormData(e);if(a)return o?JSON.stringify(helpers_formDataToJSON(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1){var u,c;return(u=e,c=this.formSerializer,helpers_toFormData(u,new Q.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return Q.isNode&&D.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},c))).toString()}if((n=D.isFileList(e))||i.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return helpers_toFormData(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||o?(t.setContentType("application/json",!1),function(e,t,n){if(D.isString(e))try{return(0,JSON.parse)(e),D.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||$.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&D.isString(e)&&(n&&!this.responseType||i)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&i){if("SyntaxError"===e.name)throw AxiosError.from(e,AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Q.classes.FormData,Blob:Q.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{$.headers[e]={}});let Z=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=e=>{let t,n,i;let o={};return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||o[t]&&Z[t]||("set-cookie"===t?o[t]?o[t].push(n):o[t]=[n]:o[t]=o[t]?o[t]+", "+n:n)}),o};let X=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:D.isArray(e)?e.map(normalizeValue):String(e)}let isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,n,i,o){if(D.isFunction(i))return i.call(this,t,n);if(o&&(t=n),D.isString(t)){if(D.isString(i))return -1!==t.indexOf(i);if(D.isRegExp(i))return i.test(t)}}let AxiosHeaders=class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,n){let i=this;function setHeader(e,t,n){let o=normalizeHeader(t);if(!o)throw Error("header name must be a non-empty string");let s=D.findKey(i,o);s&&void 0!==i[s]&&!0!==n&&(void 0!==n||!1===i[s])||(i[s||t]=normalizeValue(e))}let setHeaders=(e,t)=>D.forEach(e,(e,n)=>setHeader(e,n,t));return D.isPlainObject(e)||e instanceof this.constructor?setHeaders(e,t):D.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?setHeaders(parseHeaders(e),t):null!=e&&setHeader(t,e,n),this}get(e,t){if(e=normalizeHeader(e)){let n=D.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t)return function(e){let t;let n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=i.exec(e);)n[t[1]]=t[2];return n}(e);if(D.isFunction(t))return t.call(this,e,n);if(D.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e)){let n=D.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||matchHeaderValue(this,this[n],n,t)))}return!1}delete(e,t){let n=this,i=!1;function deleteHeader(e){if(e=normalizeHeader(e)){let o=D.findKey(n,e);o&&(!t||matchHeaderValue(n,n[o],o,t))&&(delete n[o],i=!0)}}return D.isArray(e)?e.forEach(deleteHeader):deleteHeader(e),i}clear(e){let t=Object.keys(this),n=t.length,i=!1;for(;n--;){let o=t[n];(!e||matchHeaderValue(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let t=this,n={};return D.forEach(this,(i,o)=>{let s=D.findKey(n,o);if(s){t[s]=normalizeValue(i),delete t[o];return}let a=e?o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(o).trim();a!==o&&delete t[o],t[a]=normalizeValue(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return D.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&D.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){let t=this[X]=this[X]={accessors:{}},n=t.accessors,i=this.prototype;function defineAccessor(e){let t=normalizeHeader(e);n[t]||(!function(e,t){let n=D.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,o){return this[i].call(this,t,e,n,o)},configurable:!0})})}(i,e),n[t]=!0)}return D.isArray(e)?e.forEach(defineAccessor):defineAccessor(e),this}};function transformData(e,t){let n=this||$,i=t||n,o=AxiosHeaders.from(i.headers),s=i.data;return D.forEach(e,function(e){s=e.call(n,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,n){AxiosError.call(this,null==e?"canceled":e,AxiosError.ERR_CANCELED,t,n),this.name="CanceledError"}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),D.reduceDescriptors(AxiosHeaders.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),D.freezeMethods(AxiosHeaders),D.inherits(CanceledError,AxiosError,{__CANCEL__:!0});var ee=Q.hasStandardBrowserEnv?{write(e,t,n,i,o,s){let a=[e+"="+encodeURIComponent(t)];D.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),D.isString(i)&&a.push("path="+i),D.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function buildFullPath(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}var et=Q.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function resolveURL(e){let i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=resolveURL(window.location.href),function(t){let n=D.isString(t)?resolveURL(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},helpers_speedometer=function(e,t){let n;e=e||10;let i=Array(e),o=Array(e),s=0,a=0;return t=void 0!==t?t:1e3,function(u){let c=Date.now(),f=o[a];n||(n=c),i[s]=u,o[s]=c;let p=a,g=0;for(;p!==s;)g+=i[p++],p%=e;if((s=(s+1)%e)===a&&(a=(a+1)%e),c-n<t)return;let y=f&&c-f;return y?Math.round(1e3*g/y):void 0}};function progressEventReducer(e,t){let n=0,i=helpers_speedometer(50,250);return o=>{let s=o.loaded,a=o.lengthComputable?o.total:void 0,u=s-n,c=i(u),f=s<=a;n=s;let p={loaded:s,total:a,progress:a?s/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&f?(a-s)/c:void 0,event:o};p[t?"download":"upload"]=!0,e(p)}}let er="undefined"!=typeof XMLHttpRequest;var en=er&&function(e){return new Promise(function(t,n){let i,o,s=e.data,a=AxiosHeaders.from(e.headers).normalize(),{responseType:u,withXSRFToken:c}=e;function done(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(D.isFormData(s)){if(Q.hasStandardBrowserEnv||Q.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(o=a.getContentType())){let[e,...t]=o?o.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}}let f=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+n))}let p=buildFullPath(e.baseURL,e.url);function onloadend(){if(!f)return;let i=AxiosHeaders.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),o=u&&"text"!==u&&"json"!==u?f.response:f.responseText,s={data:o,status:f.status,statusText:f.statusText,headers:i,config:e,request:f};!function(e,t,n){let i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new AxiosError("Request failed with status code "+n.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}(function(e){t(e),done()},function(e){n(e),done()},s),f=null}if(f.open(e.method.toUpperCase(),buildURL(p,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=onloadend:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(onloadend)},f.onabort=function(){f&&(n(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||q;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new AxiosError(t,i.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,f)),f=null},Q.hasStandardBrowserEnv&&(c&&D.isFunction(c)&&(c=c(e)),c||!1!==c&&et(p))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&ee.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===s&&a.setContentType(null),"setRequestHeader"in f&&D.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),D.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),u&&"json"!==u&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{f&&(n(!t||t.type?new CanceledError(null,e,f):t),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));let g=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(p);if(g&&-1===Q.protocols.indexOf(g)){n(new AxiosError("Unsupported protocol "+g+":",AxiosError.ERR_BAD_REQUEST,e));return}f.send(s||null)})};let ei={http:null,xhr:en};D.forEach(ei,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let renderReason=e=>`- ${e}`,isResolvedHandle=e=>D.isFunction(e)||null===e||!1===e;var eo={getAdapter:e=>{let t,n;e=D.isArray(e)?e:[e];let{length:i}=e,o={};for(let s=0;s<i;s++){let i;if(n=t=e[s],!isResolvedHandle(t)&&void 0===(n=ei[(i=String(t)).toLowerCase()]))throw new AxiosError(`Unknown adapter '${i}'`);if(n)break;o[i||"#"+s]=n}if(!n){let e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")),t=i?e.length>1?"since :\n"+e.map(renderReason).join("\n"):" "+renderReason(e[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n},adapters:ei};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){throwIfCancellationRequested(e),e.headers=AxiosHeaders.from(e.headers),e.data=transformData.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);let t=eo.getAdapter(e.adapter||$.adapter);return t(e).then(function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,e.transformResponse,t),t.headers=AxiosHeaders.from(t.headers),t},function(t){return!isCancel(t)&&(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,e.transformResponse,t.response),t.response.headers=AxiosHeaders.from(t.response.headers))),Promise.reject(t)})}let headersToObject=e=>e instanceof AxiosHeaders?e.toJSON():e;function mergeConfig(e,t){t=t||{};let n={};function getMergedValue(e,t,n){return D.isPlainObject(e)&&D.isPlainObject(t)?D.merge.call({caseless:n},e,t):D.isPlainObject(t)?D.merge({},t):D.isArray(t)?t.slice():t}function mergeDeepProperties(e,t,n){return D.isUndefined(t)?D.isUndefined(e)?void 0:getMergedValue(void 0,e,n):getMergedValue(e,t,n)}function valueFromConfig2(e,t){if(!D.isUndefined(t))return getMergedValue(void 0,t)}function defaultToConfig2(e,t){return D.isUndefined(t)?D.isUndefined(e)?void 0:getMergedValue(void 0,e):getMergedValue(void 0,t)}function mergeDirectKeys(n,i,o){return o in t?getMergedValue(n,i):o in e?getMergedValue(void 0,n):void 0}let i={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(e,t)=>mergeDeepProperties(headersToObject(e),headersToObject(t),!0)};return D.forEach(Object.keys(Object.assign({},e,t)),function(o){let s=i[o]||mergeDeepProperties,a=s(e[o],t[o],o);D.isUndefined(a)&&s!==mergeDirectKeys||(n[o]=a)}),n}let es="1.6.7",ea={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ea[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let eu={};ea.transitional=function(e,t,n){function formatMessage(e,t){return"[Axios v"+es+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new AxiosError(formatMessage(i," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!eu[i]&&(eu[i]=!0,console.warn(formatMessage(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var ec={assertOptions:function(e,t,n){if("object"!=typeof e)throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);let i=Object.keys(e),o=i.length;for(;o-- >0;){let s=i[o],a=t[s];if(a){let t=e[s],n=void 0===t||a(t,s,e);if(!0!==n)throw new AxiosError("option "+s+" must be "+n,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new AxiosError("Unknown option "+s,AxiosError.ERR_BAD_OPTION)}},validators:ea};let el=ec.validators;let Axios=class Axios{constructor(e){this.defaults=e,this.interceptors={request:new V,response:new V}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}throw e}}_request(e,t){let n,i;"string"==typeof e?(t=t||{}).url=e:t=e||{},t=mergeConfig(this.defaults,t);let{transitional:o,paramsSerializer:s,headers:a}=t;void 0!==o&&ec.assertOptions(o,{silentJSONParsing:el.transitional(el.boolean),forcedJSONParsing:el.transitional(el.boolean),clarifyTimeoutError:el.transitional(el.boolean)},!1),null!=s&&(D.isFunction(s)?t.paramsSerializer={serialize:s}:ec.assertOptions(s,{encode:el.function,serialize:el.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&D.merge(a.common,a[t.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=AxiosHeaders.concat(u,a);let c=[],f=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(f=f&&e.synchronous,c.unshift(e.fulfilled,e.rejected))});let p=[];this.interceptors.response.forEach(function(e){p.push(e.fulfilled,e.rejected)});let g=0;if(!f){let e=[dispatchRequest.bind(this),void 0];for(e.unshift.apply(e,c),e.push.apply(e,p),i=e.length,n=Promise.resolve(t);g<i;)n=n.then(e[g++],e[g++]);return n}i=c.length;let y=t;for(g=0;g<i;){let e=c[g++],t=c[g++];try{y=e(y)}catch(e){t.call(this,e);break}}try{n=dispatchRequest.call(this,y)}catch(e){return Promise.reject(e)}for(g=0,i=p.length;g<i;)n=n.then(p[g++],p[g++]);return n}getUri(e){e=mergeConfig(this.defaults,e);let t=buildFullPath(e.baseURL,e.url);return buildURL(t,e.params,e.paramsSerializer)}};D.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,n){return this.request(mergeConfig(n||{},{method:e,url:t,data:(n||{}).data}))}}),D.forEach(["post","put","patch"],function(e){function generateHTTPMethod(t){return function(n,i,o){return this.request(mergeConfig(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Axios.prototype[e]=generateHTTPMethod(),Axios.prototype[e+"Form"]=generateHTTPMethod(!0)});let CancelToken=class CancelToken{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;let i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,o){n.reason||(n.reason=new CanceledError(e,i,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;let t=new CancelToken(function(t){e=t});return{token:t,cancel:e}}};let ef={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ef).forEach(([e,t])=>{ef[t]=e});let eh=function createInstance(e){let t=new Axios(e),n=bind(Axios.prototype.request,t);return D.extend(n,Axios.prototype,t,{allOwnKeys:!0}),D.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return createInstance(mergeConfig(e,t))},n}($);eh.Axios=Axios,eh.CanceledError=CanceledError,eh.CancelToken=CancelToken,eh.isCancel=isCancel,eh.VERSION=es,eh.toFormData=helpers_toFormData,eh.AxiosError=AxiosError,eh.Cancel=eh.CanceledError,eh.all=function(e){return Promise.all(e)},eh.spread=function(e){return function(t){return e.apply(null,t)}},eh.isAxiosError=function(e){return D.isObject(e)&&!0===e.isAxiosError},eh.mergeConfig=mergeConfig,eh.AxiosHeaders=AxiosHeaders,eh.formToJSON=e=>helpers_formDataToJSON(D.isHTMLForm(e)?new FormData(e):e),eh.getAdapter=eo.getAdapter,eh.HttpStatusCode=ef,eh.default=eh;var ed=eh}}]);